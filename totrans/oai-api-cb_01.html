<html><head></head><body>
<div id="_idContainer017" class="calibre2">
<h1 class="chapter-number" id="_idParaDest-21"><a id="_idTextAnchor021" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.1.1">1</span></h1>
<h1 id="_idParaDest-22" class="calibre5"><a id="_idTextAnchor022" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.2.1">Unlocking OpenAI and Setting Up Your API Playground Environment</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.3.1">ChatGPT, an advanced </span><strong class="bold"><span class="kobospan" id="kobo.4.1">artificial intelligence </span></strong><span class="kobospan" id="kobo.5.1">(</span><strong class="bold"><span class="kobospan" id="kobo.6.1">AI</span></strong><span class="kobospan" id="kobo.7.1">) language model developed by OpenAI, is the fastest-growing original consumer application in history, reaching 100 million users in only 2 months. </span><span class="kobospan" id="kobo.7.2">By comparison, TikTok is in second place, reaching the same number of users in over 9 months (</span><a href="https://www.forbes.com/sites/cindygordon/2023/02/02/chatgpt-is-the-fastest-growing-ap-in-the-history-of-web-applications/?sh=3551e45d678c" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.8.1">https://www.forbes.com/sites/cindygordon/2023/02/02/chatgpt-is-the-fastest-growing-ap-in-the-history-of-web-applications/?sh=3551e45d678c</span></a><span class="kobospan" id="kobo.9.1">). </span><span class="kobospan" id="kobo.9.2">The reason for its popularity can be attributed to its ability to democratize </span><strong class="bold"><span class="kobospan" id="kobo.10.1">Natural Language Processing</span></strong><span class="kobospan" id="kobo.11.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.12.1">NLP</span></strong><span class="kobospan" id="kobo.13.1">) models </span><a id="_idIndexMarker000" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.14.1">for the everyday user. </span><span class="kobospan" id="kobo.14.2">NLP represents a domain in AI that focuses on the interaction between computers and humans through natural language. </span><span class="kobospan" id="kobo.14.3">The ultimate goal of NLP is to enable computers to interpret, understand, and respond to human language in a way that is both meaningful and useful. </span><span class="kobospan" id="kobo.14.4">Traditionally, tasks in this field – from sentiment analysis to language translation – required robust datasets and specialized knowledge in machine learning and data science to be </span><span><span class="kobospan" id="kobo.15.1">effectively executed.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.16.1">However, the rise of ChatGPT and its associated </span><strong class="bold"><span class="kobospan" id="kobo.17.1">Application Programming Interface</span></strong><span class="kobospan" id="kobo.18.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.19.1">API</span></strong><span class="kobospan" id="kobo.20.1">) has</span><a id="_idIndexMarker001" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.21.1"> revolutionized the NLP landscape. </span><span class="kobospan" id="kobo.21.2">Thanks to its ability to democratize NLP models, anyone, including regular users, can now generate human-like text from prompts without having any in-depth knowledge of data science or machine learning. </span><span class="kobospan" id="kobo.21.3">For instance, whereas previously one might have needed to design a complex model to classify text into categories, with ChatGPT, a simple prompt can often achieve the </span><span><span class="kobospan" id="kobo.22.1">same goal.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.23.1">In essence, the advent of ChatGPT has made previously intricate NLP tasks more accessible and user-friendly, bridging the gap between advanced technology and the </span><span><span class="kobospan" id="kobo.24.1">general public.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.25.1">Programmers and developers are taking note, integrating GPT’s power into their own applications to make them intelligent. </span><span class="kobospan" id="kobo.25.2">In fact, many well-funded start-ups (</span><em class="italic"><span class="kobospan" id="kobo.26.1">Typeface</span></em><span class="kobospan" id="kobo.27.1">, </span><em class="italic"><span class="kobospan" id="kobo.28.1">Jasper AI</span></em><span class="kobospan" id="kobo.29.1">, </span><em class="italic"><span class="kobospan" id="kobo.30.1">Copy.ai</span></em><span class="kobospan" id="kobo.31.1">) have ChatGPT and </span><a id="_idIndexMarker002" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.32.1">other </span><strong class="bold"><span class="kobospan" id="kobo.33.1">Large Language Models</span></strong><span class="kobospan" id="kobo.34.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.35.1">LLMs</span></strong><span class="kobospan" id="kobo.36.1">) as the basis of their product, whether it’s summarizing text, finding information, or creating a chatbot. </span><span class="kobospan" id="kobo.36.2">This requires a fundamental understanding of the OpenAI API and how to use it to build intelligent applications, which is where </span><span><span class="kobospan" id="kobo.37.1">we’ll begin.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.38.1">This starts with the basics, which involves creating an OpenAI account, accessing the API Playground, and making </span><span><span class="kobospan" id="kobo.39.1">API requests.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.40.1">In this chapter, we will cover the </span><span><span class="kobospan" id="kobo.41.1">following recipes:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.42.1">Setting up your OpenAI </span><span><span class="kobospan" id="kobo.43.1">Playground environment</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.44.1">Running a completion request in the </span><span><span class="kobospan" id="kobo.45.1">OpenAI Playground</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.46.1">Using the System Message in the </span><span><span class="kobospan" id="kobo.47.1">OpenAI Playground</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.48.1">Using the Chat Log to modify the </span><span><span class="kobospan" id="kobo.49.1">model’s behavior</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.50.1">Making OpenAI API requests </span><span><span class="kobospan" id="kobo.51.1">with Postman</span></span></li>
</ul>
<h1 id="_idParaDest-23" class="calibre5"><a id="_idTextAnchor023" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.52.1">Technical requirements</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.53.1">This chapter requires you to have access to the OpenAI API. </span><span class="kobospan" id="kobo.53.2">You can create an account and register for access </span><span><span class="kobospan" id="kobo.54.1">at </span></span><a href="https://platform.openai.com/overview" class="pcalibre1 calibre6 pcalibre"><span><span class="kobospan" id="kobo.55.1">https://platform.openai.com/overview</span></span></a><span><span class="kobospan" id="kobo.56.1">.</span></span></p>
<h1 id="_idParaDest-24" class="calibre5"><a id="_idTextAnchor024" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.57.1">Setting up your OpenAI Playground environment</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.58.1">The </span><strong class="bold"><span class="kobospan" id="kobo.59.1">OpenAI Playground</span></strong><span class="kobospan" id="kobo.60.1"> is an</span><a id="_idIndexMarker003" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.61.1"> interactive web-based interface designed to allow users to experiment with OpenAI’s language models, including</span><a id="_idIndexMarker004" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.62.1"> ChatGPT. </span><span class="kobospan" id="kobo.62.2">It’s a place where you can learn about the capabilities of these models by entering prompts and seeing the responses generated in real time. </span><span class="kobospan" id="kobo.62.3">This platform acts as a sandbox where developers, researchers, and curious individuals alike can experiment, learn, and even prototype </span><span><span class="kobospan" id="kobo.63.1">their ideas.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.64.1">In the Playground, you have the freedom to engage in a wide range of activities. </span><span class="kobospan" id="kobo.64.2">You can test out different versions of the AI models, experimenting with various prompts to see how the model responds, and you can play around with different parameters to influence the responses generated. </span><span class="kobospan" id="kobo.64.3">It provides a real-time glimpse into how these powerful AI models think, react, and create based on </span><span><span class="kobospan" id="kobo.65.1">your input.</span></span></p>
<h2 id="_idParaDest-25" class="calibre7"><a id="_idTextAnchor025" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.66.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.67.1">Before you start, you need to create an </span><em class="italic"><span class="kobospan" id="kobo.68.1">OpenAI </span></em><span><em class="italic"><span class="kobospan" id="kobo.69.1">Platform</span></em></span><span><span class="kobospan" id="kobo.70.1"> account.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.71.1">Navigate </span><a id="_idIndexMarker005" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.72.1">to </span><a href="https://platform.openai.com/" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.73.1">https://platform.openai.com/</span></a><span class="kobospan" id="kobo.74.1"> and sign in to your OpenAI account. </span><span class="kobospan" id="kobo.74.2">If you do not have an account, you can sign up for free with an email address. </span><span class="kobospan" id="kobo.74.3">Alternatively, you can log in to OpenAI with a valid Google, Microsoft, or Apple account. </span><span class="kobospan" id="kobo.74.4">Follow the instructions to complete the creation of your account. </span><span class="kobospan" id="kobo.74.5">You may need to verify your identity with a valid </span><span><span class="kobospan" id="kobo.75.1">phone number.</span></span></p>
<h2 id="_idParaDest-26" class="calibre7"><a id="_idTextAnchor026" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.76.1">How to do it…</span></h2>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.77.1">After you have successfully logged in, navigate to </span><strong class="bold"><span class="kobospan" id="kobo.78.1">Profile</span></strong><span class="kobospan" id="kobo.79.1"> in the top right-hand menu, select </span><strong class="bold"><span class="kobospan" id="kobo.80.1">Personal</span></strong><span class="kobospan" id="kobo.81.1">, and then select </span><strong class="bold"><span class="kobospan" id="kobo.82.1">Usage</span></strong><span class="kobospan" id="kobo.83.1"> from the left-hand side menu. </span><span class="kobospan" id="kobo.83.2">Alternatively, you can navigate to </span><a href="https://platform.openai.com/account/usage" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.84.1">https://platform.openai.com/account/usage</span></a><span class="kobospan" id="kobo.85.1"> after logging in. </span><span class="kobospan" id="kobo.85.2">This page shows the usage of your API, but more importantly, it shows you how many credits you </span><span><span class="kobospan" id="kobo.86.1">have available.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.87.1">Normally, OpenAI provides you a $5 credit with a new account, which you should be able to see under the </span><strong class="bold"><span class="kobospan" id="kobo.88.1">Free Trial Usage</span></strong><span class="kobospan" id="kobo.89.1"> section of the page. </span><span class="kobospan" id="kobo.89.2">If you do have credits, proceed to </span><em class="italic"><span class="kobospan" id="kobo.90.1">step 4</span></em><span class="kobospan" id="kobo.91.1">. </span><span class="kobospan" id="kobo.91.2">If, however, you do not have any credits, you will need to upgrade and set up a </span><span><span class="kobospan" id="kobo.92.1">paid account.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.93.1">You need not set up a paid account if you have received free credits. </span><span class="kobospan" id="kobo.93.2">If you run out of free credits, however, here is how you can set up a paid account: select </span><strong class="bold"><span class="kobospan" id="kobo.94.1">Billing</span></strong><span class="kobospan" id="kobo.95.1"> from the left-hand side menu and then select </span><strong class="bold"><span class="kobospan" id="kobo.96.1">Overview</span></strong><span class="kobospan" id="kobo.97.1">. </span><span class="kobospan" id="kobo.97.2">Then, select the </span><strong class="bold"><span class="kobospan" id="kobo.98.1">Set up paid account</span></strong><span class="kobospan" id="kobo.99.1"> button. </span><span class="kobospan" id="kobo.99.2">You will be prompted to enter your payment details and set a dollar threshold, which can be set to any level of spend that you are comfortable with. </span><span class="kobospan" id="kobo.99.3">Note that the amount of credits required to collectively execute every single recipe contained in this book is not likely to </span><span><span class="kobospan" id="kobo.100.1">exceed </span></span><span><em class="italic"><span class="kobospan" id="kobo.101.1">$5</span></em></span><span><span class="kobospan" id="kobo.102.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.103.1">After you have created an OpenAI Platform account, you should be able to access the Playground by selecting </span><strong class="bold"><span class="kobospan" id="kobo.104.1">Playground</span></strong><span class="kobospan" id="kobo.105.1"> from the top menu bar, or by navigating </span><span><span class="kobospan" id="kobo.106.1">to </span></span><a href="https://platform.openai.com/playground" class="pcalibre1 calibre6 pcalibre"><span><span class="kobospan" id="kobo.107.1">https://platform.openai.com/playground</span></span></a><span><span class="kobospan" id="kobo.108.1">.</span></span></li>
</ol>
<h2 id="_idParaDest-27" class="calibre7"><a id="_idTextAnchor027" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.109.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.110.1">The </span><a id="_idIndexMarker006" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.111.1">OpenAI Playground interface is, in my experience, clean, intuitive, and designed to provide users easy access to OpenAI’s powerful language models. </span><span class="kobospan" id="kobo.111.2">The Playground is an excellent place to learn how the models perform under different settings, allowing you to experiment with parameters such as temperature and max tokens, which influence the randomness and length of the outputs respectively. </span><span class="kobospan" id="kobo.111.3">The changes you make are instantly reflected in the model’s responses, offering </span><span><span class="kobospan" id="kobo.112.1">immediate feedback.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.113.1">As shown in </span><span><em class="italic"><span class="kobospan" id="kobo.114.1">Figure 1</span></em></span><em class="italic"><span class="kobospan" id="kobo.115.1">.1</span></em><span class="kobospan" id="kobo.116.1">, the Playground consists of three sections: the </span><em class="italic"><span class="kobospan" id="kobo.117.1">System Message</span></em><span class="kobospan" id="kobo.118.1">, the </span><em class="italic"><span class="kobospan" id="kobo.119.1">Chat Log</span></em><span class="kobospan" id="kobo.120.1">, and the </span><em class="italic"><span class="kobospan" id="kobo.121.1">Parameters</span></em><span class="kobospan" id="kobo.122.1">. </span><span class="kobospan" id="kobo.122.2">You will learn more about these three features in the </span><em class="italic"><span class="kobospan" id="kobo.123.1">Running a completion request in the OpenAI </span></em><span><em class="italic"><span class="kobospan" id="kobo.124.1">Playground</span></em></span><span><span class="kobospan" id="kobo.125.1"> recipe.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer006">
<span class="kobospan" id="kobo.126.1"><img alt="Figure 1.1 – The OpenAI Playground" src="image/B21007_01_1.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.127.1">Figure 1.1 – The OpenAI Playground</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.128.1">Now, your Playground is set up and ready to be used. </span><span class="kobospan" id="kobo.128.2">You can use it to run completion requests and see how varying your prompts and parameters affect the response </span><span><span class="kobospan" id="kobo.129.1">from OpenAI.</span></span></p>
<h1 id="_idParaDest-28" class="calibre5"><a id="_idTextAnchor028" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.130.1">Running a completion request in the OpenAI Playground</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.131.1">In this recipe, we </span><a id="_idIndexMarker007" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.132.1">will actually put the Playground in action and execute a completion request from OpenAI. </span><span class="kobospan" id="kobo.132.2">Here, you will see the</span><a id="_idIndexMarker008" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.133.1"> power of the OpenAI API and how it can be used to provide completions for virtually </span><span><span class="kobospan" id="kobo.134.1">any prompt.</span></span></p>
<h2 id="_idParaDest-29" class="calibre7"><a id="_idTextAnchor029" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.135.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.136.1">Ensure you have an OpenAI Platform account with available usage credits. </span><span class="kobospan" id="kobo.136.2">If you don’t, please follow the </span><em class="italic"><span class="kobospan" id="kobo.137.1">Setting up your OpenAI Playground environment</span></em><span class="kobospan" id="kobo.138.1"> recipe. </span><span class="kobospan" id="kobo.138.2">All the recipes in this chapter will have this </span><span><span class="kobospan" id="kobo.139.1">same requirement.</span></span></p>
<h2 id="_idParaDest-30" class="calibre7"><a id="_idTextAnchor030" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.140.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.141.1">Let’s go ahead and start testing the model with the Playground. </span><span class="kobospan" id="kobo.141.2">Let’s create an assistant that writes </span><span><span class="kobospan" id="kobo.142.1">marketing slogans:</span></span></p>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.143.1">Navigate to the </span><span><strong class="bold"><span class="kobospan" id="kobo.144.1">OpenAI Playground</span></strong></span><span><span class="kobospan" id="kobo.145.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.146.1">In the System Message, type in the following: </span><strong class="source-inline1"><span class="kobospan" id="kobo.147.1">You are an assistant that creates marketing slogans based on descriptions of companies</span></strong><span class="kobospan" id="kobo.148.1">. </span><span class="kobospan" id="kobo.148.2">Here, we are clearly instructing the model of its role </span><span><span class="kobospan" id="kobo.149.1">and context.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.150.1">In the Chat Log, populate the </span><strong class="bold"><span class="kobospan" id="kobo.151.1">USER</span></strong><span class="kobospan" id="kobo.152.1"> message with the following: </span><strong class="source-inline1"><span class="kobospan" id="kobo.153.1">A company that writes engaging </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.154.1">mystery novels</span></strong></span><span><span class="kobospan" id="kobo.155.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.156.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.157.1">Submit</span></strong><span class="kobospan" id="kobo.158.1"> button on the bottom of </span><span><span class="kobospan" id="kobo.159.1">the page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.160.1">You should now see a completion response from OpenAI. </span><span class="kobospan" id="kobo.160.2">In my case (</span><span><em class="italic"><span class="kobospan" id="kobo.161.1">Figure 1</span></em></span><em class="italic"><span class="kobospan" id="kobo.162.1">.2</span></em><span class="kobospan" id="kobo.163.1">), the response is </span><span><span class="kobospan" id="kobo.164.1">as follows:</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.165.1">Unlock the Thrilling Pages of Suspense with Our Captivating Mystery Novels!</span></strong></pre></li> </ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer007">
<span class="kobospan" id="kobo.166.1"><img alt="Figure 1.2 – The OpenAI Playground with prompt and completion" src="image/B21007_01_2.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.167.1">Figure 1.2 – The OpenAI Playground with prompt and completion</span></p>
<p class="callout-heading"><span class="kobospan" id="kobo.168.1">Note</span></p>
<p class="callout"><span class="kobospan" id="kobo.169.1">Since OpenAI’s LLMs are probabilistic, you will likely not see the same outputs as me. </span><span class="kobospan" id="kobo.169.2">In fact, if you run this recipe multiple times, you will likely see different answers, and that is expected because it is built into the randomness of </span><span><span class="kobospan" id="kobo.170.1">the model.</span></span></p>
<h2 id="_idParaDest-31" class="calibre7"><a id="_idTextAnchor031" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.171.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.172.1">OpenAI’s text generation </span><a id="_idIndexMarker009" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.173.1">models utilize </span><a id="_idIndexMarker010" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.174.1">a specific neural network architecture termed a transformer. </span><span class="kobospan" id="kobo.174.2">Before delving deeper into this, let’s unpack some of </span><span><span class="kobospan" id="kobo.175.1">these terms:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.176.1">Neural network architecture</span></strong><span class="kobospan" id="kobo.177.1">: At a</span><a id="_idIndexMarker011" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.178.1"> high level, this refers to a system inspired by the human brain’s interconnected neuron structure. </span><span class="kobospan" id="kobo.178.2">It’s designed to recognize patterns and can be thought of as the foundational building block for many modern </span><span><span class="kobospan" id="kobo.179.1">AI systems.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.180.1">Transformer</span></strong><span class="kobospan" id="kobo.181.1">: This is a</span><a id="_idIndexMarker012" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.182.1"> type of neural network design that has proven particularly effective for understanding sequences, making it ideal for tasks involving human language. </span><span class="kobospan" id="kobo.182.2">It focuses on the relationships between words and their context within a sentence or larger </span><span><span class="kobospan" id="kobo.183.1">text segment.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.184.1">In machine learning, </span><strong class="bold"><span class="kobospan" id="kobo.185.1">unsupervised learning</span></strong><span class="kobospan" id="kobo.186.1"> typically refers to training a model without </span><a id="_idIndexMarker013" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.187.1">any labeled data, letting the model figure out patterns on its own. </span><span class="kobospan" id="kobo.187.2">However, OpenAI’s methodology is more nuanced. </span><span class="kobospan" id="kobo.187.3">The models are initially trained on a vast corpus of text data, supervised with various tasks. </span><span class="kobospan" id="kobo.187.4">This helps them predict the next word in a sentence, for instance. </span><span class="kobospan" id="kobo.187.5">Subsequent refinements are made using </span><strong class="bold"><span class="kobospan" id="kobo.188.1">Reinforcement Learning through Human Feedback </span></strong><span class="kobospan" id="kobo.189.1">(</span><strong class="bold"><span class="kobospan" id="kobo.190.1">RLHF</span></strong><span class="kobospan" id="kobo.191.1">), where</span><a id="_idIndexMarker014" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.192.1"> the model is further improved based on feedback from </span><span><span class="kobospan" id="kobo.193.1">human evaluators.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.194.1">Through this</span><a id="_idIndexMarker015" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.195.1"> combination of techniques and an extensive amount of data, the model starts to capture the intricacies of human language, encompassing context, tone, humor, and </span><span><span class="kobospan" id="kobo.196.1">even sarcasm.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.197.1">In this case, the</span><a id="_idIndexMarker016" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.198.1"> completion response is provided based on both the System Message and the Chat Log. </span><span class="kobospan" id="kobo.198.2">The System Message serves a critical role in shaping and guiding the responses you receive from Open AI, as it dictates the model’s </span><em class="italic"><span class="kobospan" id="kobo.199.1">persona</span></em><span class="kobospan" id="kobo.200.1">, </span><em class="italic"><span class="kobospan" id="kobo.201.1">role</span></em><span class="kobospan" id="kobo.202.1">, </span><em class="italic"><span class="kobospan" id="kobo.203.1">tone</span></em><span class="kobospan" id="kobo.204.1">, and </span><em class="italic"><span class="kobospan" id="kobo.205.1">context</span></em><span class="kobospan" id="kobo.206.1">, among other attributes. </span><span class="kobospan" id="kobo.206.2">In our case, the System Message contains the persona we want the model to take: </span><em class="italic"><span class="kobospan" id="kobo.207.1">You are an assistant that creates marketing slogans based on descriptions </span></em><span><em class="italic"><span class="kobospan" id="kobo.208.1">of companies</span></em></span><span><span class="kobospan" id="kobo.209.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.210.1">The Chat Log contains the history of messages that the model has access to before providing its response, which contains our prompt, </span><strong class="source-inline"><span class="kobospan" id="kobo.211.1">A company that writes engaging </span></strong><span><strong class="source-inline"><span class="kobospan" id="kobo.212.1">mystery novels</span></strong></span><span><span class="kobospan" id="kobo.213.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.214.1">Finally, the parameters contain more granular settings that you can change for the model, such as temperature. </span><span class="kobospan" id="kobo.214.2">These significantly change the completion response from OpenAI. </span><span class="kobospan" id="kobo.214.3">We will discuss temperature and other parameters in greater detail in </span><a href="B21007_03.xhtml#_idTextAnchor060" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.215.1">Chapter 3</span></em></span></a><span><span class="kobospan" id="kobo.216.1">.</span></span></p>
<h2 id="_idParaDest-32" class="calibre7"><a id="_idTextAnchor032" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.217.1">There’s more…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.218.1">It is worth noting that ChatGPT does not read and understand the meaning behind text – instead, the responses are based on statistical probabilities based on patterns it observed </span><span><span class="kobospan" id="kobo.219.1">during training.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.220.1">The model does not understand the text in the same way that humans do; instead, the completions are generated based on statistical associations and patterns that have been </span><em class="italic"><span class="kobospan" id="kobo.221.1">trained </span></em><span class="kobospan" id="kobo.222.1">in the model’s neural network from a large body of similar text. </span><span class="kobospan" id="kobo.222.2">Now, you know how to run completion requests with the OpenAI Playground. </span><span class="kobospan" id="kobo.222.3">You can try this feature out for your own prompts and see what completions you get. </span><span class="kobospan" id="kobo.222.4">Try creative prompts such as </span><strong class="source-inline"><span class="kobospan" id="kobo.223.1">write me a song about lightbulbs</span></strong><span class="kobospan" id="kobo.224.1"> or more professional prompts such as </span><strong class="source-inline"><span class="kobospan" id="kobo.225.1">explain Newton's </span></strong><span><strong class="source-inline"><span class="kobospan" id="kobo.226.1">first law</span></strong></span><span><span class="kobospan" id="kobo.227.1">.</span></span></p>
<h1 id="_idParaDest-33" class="calibre5"><a id="_idTextAnchor033" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.228.1">Using the System Message in the OpenAI Playground</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.229.1">In this recipe, we</span><a id="_idIndexMarker017" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.230.1"> will observe how modifying the System Message affects the completion response that we receive from the model. </span><span class="kobospan" id="kobo.230.2">This</span><a id="_idIndexMarker018" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.231.1"> is important because as you begin to use the OpenAI API, you will likely adjust and refine the System Message to your specific needs, and the Playground is a great way to </span><span><span class="kobospan" id="kobo.232.1">try that.</span></span></p>
<h2 id="_idParaDest-34" class="calibre7"><a id="_idTextAnchor034" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.233.1">How to do it…</span></h2>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.234.1">Navigate to the </span><span><span class="kobospan" id="kobo.235.1">OpenAI Playground.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.236.1">In the </span><strong class="bold"><span class="kobospan" id="kobo.237.1">SYSTEM</span></strong><span class="kobospan" id="kobo.238.1"> field, type in the following: </span><strong class="source-inline1"><span class="kobospan" id="kobo.239.1">You are an assistant that creates engaging and professional company names based on descriptions </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.240.1">of companies</span></strong></span><span><span class="kobospan" id="kobo.241.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.242.1">In the Chat Log, populate the </span><strong class="bold"><span class="kobospan" id="kobo.243.1">USER</span></strong><span class="kobospan" id="kobo.244.1"> message with the following: </span><strong class="source-inline1"><span class="kobospan" id="kobo.245.1">A company that helps you with </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.246.1">your taxes</span></strong></span><span><span class="kobospan" id="kobo.247.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.248.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.249.1">Submit</span></strong><span class="kobospan" id="kobo.250.1"> button on the bottom of </span><span><span class="kobospan" id="kobo.251.1">the page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.252.1">You should now see a completion response from OpenAI. </span><span class="kobospan" id="kobo.252.2">In my case in </span><span><em class="italic"><span class="kobospan" id="kobo.253.1">Figure 1</span></em></span><em class="italic"><span class="kobospan" id="kobo.254.1">.3</span></em><span class="kobospan" id="kobo.255.1">, the response is </span><span><span class="kobospan" id="kobo.256.1">as follows:</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.257.1">TaxGuardian</span></strong><span class="kobospan1" id="kobo.258.1">.</span></pre></li> </ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer008">
<span class="kobospan" id="kobo.259.1"><img alt="Figure 1.3 – The OpenAI Playground with prompt and completion" src="image/B21007_01_3.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.260.1">Figure 1.3 – The OpenAI Playground with prompt and completion</span></p>
<ol class="calibre14">
<li value="6" class="calibre15"><span class="kobospan" id="kobo.261.1">Hover over the </span><strong class="bold"><span class="kobospan" id="kobo.262.1">ASSISTANT</span></strong><span class="kobospan" id="kobo.263.1"> response and select the minus icon on the right-hand side to delete the model’s response from the Chat Log. </span><span class="kobospan" id="kobo.263.2">This needs to be done because we want OpenAI to not only generate a response but generate one as </span><span><span class="kobospan" id="kobo.264.1">the </span></span><span><strong class="bold"><span class="kobospan" id="kobo.265.1">ASSISTANT</span></strong></span><span><span class="kobospan" id="kobo.266.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.267.1">Modify the System Message to </span><strong class="source-inline1"><span class="kobospan" id="kobo.268.1">You are an assistant that creates potential customer segments and marketing strategies based on descriptions </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.269.1">of companies</span></strong></span><span><span class="kobospan" id="kobo.270.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.271.1">Select</span><a id="_idIndexMarker019" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.272.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.273.1">Submit</span></strong><span class="kobospan" id="kobo.274.1"> button on the bottom of </span><span><span class="kobospan" id="kobo.275.1">the page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.276.1">You </span><a id="_idIndexMarker020" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.277.1">should now see a much longer completion response from OpenAI. </span><span class="kobospan" id="kobo.277.2">In my case, as shown in </span><span><em class="italic"><span class="kobospan" id="kobo.278.1">Figure 1</span></em></span><em class="italic"><span class="kobospan" id="kobo.279.1">.4</span></em><span class="kobospan" id="kobo.280.1">, the response details potential </span><span><span class="kobospan" id="kobo.281.1">customer segments:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer009">
<span class="kobospan" id="kobo.282.1"><img alt="Figure 1.4 – The OpenAI Playground response after modifying the System Message" src="image/B21007_01_4.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.283.1">Figure 1.4 – The OpenAI Playground response after modifying the System Message</span></p>
<h2 id="_idParaDest-35" class="calibre7"><a id="_idTextAnchor035" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.284.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.285.1">The model generates a completely different type of response after modifying the System Message, even though the prompt in the Chat Log is exactly the same. </span><span class="kobospan" id="kobo.285.2">The response changed from a one-word answer to a multi-paragraph response because of the instructions from the System Message. </span><span class="kobospan" id="kobo.285.3">We also had to remove the default Assistant response because we want OpenAI to generate its own response instead of </span><em class="italic"><span class="kobospan" id="kobo.286.1">feeding</span></em><span class="kobospan" id="kobo.287.1"> it </span><span><span class="kobospan" id="kobo.288.1">a response.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.289.1">The System Message, being the first message in the conversation, heavily influences the </span><em class="italic"><span class="kobospan" id="kobo.290.1">thinking</span></em><span class="kobospan" id="kobo.291.1"> of the </span><a id="_idIndexMarker021" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.292.1">model by providing a frame of reference or context. </span><span class="kobospan" id="kobo.292.2">This context is crucial because, without it, the model would lack necessary guidance to respond appropriately to subsequent user inputs. </span><span class="kobospan" id="kobo.292.3">It is the cornerstone </span><a id="_idIndexMarker022" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.293.1">of defining your interaction with the model, allowing you to provide important context and high-level directives that steer the conversation or task </span><span><span class="kobospan" id="kobo.294.1">at hand.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.295.1">As a result, when we begin to use the OpenAI API to create business applications, careful considerations must be made to the instructions that we put into the </span><span><span class="kobospan" id="kobo.296.1">System Message.</span></span></p>
<h2 id="_idParaDest-36" class="calibre7"><a id="_idTextAnchor036" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.297.1">There’s more…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.298.1">The beauty of the System Message is that that you can be as simple or as intricate with your instructions as you want. </span><span class="kobospan" id="kobo.298.2">For example, here are common system messages that can be used for </span><span><span class="kobospan" id="kobo.299.1">various purposes:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.300.1">You are an assistant that helps young students learn important concepts in science by explaining concepts in </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.301.1">easy-to-understand language</span></strong></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.302.1">You are an assistant that creates marketing slogans based on descriptions of companies that are provided </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.303.1">to you</span></strong></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.304.1">I am planning a birthday party 2 weeks from now for my 5 year old niece and you are my party planner that tells me what I should </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.305.1">be doing</span></strong></span></li>
</ul>
<h1 id="_idParaDest-37" class="calibre5"><a id="_idTextAnchor037" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.306.1">Using the Chat Log to modify the model’s behavior</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.307.1">In this recipe, we </span><a id="_idIndexMarker023" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.308.1">will learn how to modify the Chat Log </span><a id="_idIndexMarker024" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.309.1">and how it impacts the completion response that we receive from the model. </span><span class="kobospan" id="kobo.309.2">This is important because developers often find this to be the best way to </span><em class="italic"><span class="kobospan" id="kobo.310.1">fine tune</span></em><span class="kobospan" id="kobo.311.1"> a model, without actually needing to create a new model. </span><span class="kobospan" id="kobo.311.2">This also follows a </span><em class="italic"><span class="kobospan" id="kobo.312.1">prompt engineering</span></em><span class="kobospan" id="kobo.313.1"> must-have of providing the model with </span><span><span class="kobospan" id="kobo.314.1">suitable examples.</span></span></p>
<h2 id="_idParaDest-38" class="calibre7"><a id="_idTextAnchor038" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.315.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.316.1">We can add examples of prompts and responses to the Chat Log to modify the model’s behavior. </span><span class="kobospan" id="kobo.316.2">Let’s </span><a id="_idIndexMarker025" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.317.1">observe this with the </span><span><span class="kobospan" id="kobo.318.1">following steps:</span></span></p>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.319.1">Navigate to the </span><strong class="bold"><span class="kobospan" id="kobo.320.1">OpenAI Playground</span></strong><span class="kobospan" id="kobo.321.1">. </span><span class="kobospan" id="kobo.321.2">If you already have messages populated, refresh the page to </span><span><span class="kobospan" id="kobo.322.1">start afresh.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.323.1">In the System Message, type in the following: </span><strong class="source-inline1"><span class="kobospan" id="kobo.324.1">You are an assistant that creates marketing slogans based on descriptions of companies</span></strong><span class="kobospan" id="kobo.325.1">. </span><span class="kobospan" id="kobo.325.2">Here, we are clearly instructing the model of its role </span><span><span class="kobospan" id="kobo.326.1">and context.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.327.1">In the </span><a id="_idIndexMarker026" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.328.1">Chat Log, populate the </span><strong class="bold"><span class="kobospan" id="kobo.329.1">USER</span></strong><span class="kobospan" id="kobo.330.1"> message with the following: </span><strong class="source-inline1"><span class="kobospan" id="kobo.331.1">A company that makes </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.332.1">ice cream.</span></strong></span><p class="calibre3"><span class="kobospan" id="kobo.333.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.334.1">Add message</span></strong><span class="kobospan" id="kobo.335.1"> button located underneath the </span><strong class="bold"><span class="kobospan" id="kobo.336.1">USER </span></strong><span class="kobospan" id="kobo.337.1">label to add a new message. </span><span class="kobospan" id="kobo.337.2">Ensure that the label of the message says </span><strong class="bold"><span class="kobospan" id="kobo.338.1">ASSISTANT</span></strong><span class="kobospan" id="kobo.339.1">. </span><span class="kobospan" id="kobo.339.2">If it does not, select the label to toggle between </span><strong class="bold"><span class="kobospan" id="kobo.340.1">USER</span></strong> <span><span class="kobospan" id="kobo.341.1">and </span></span><span><strong class="bold"><span class="kobospan" id="kobo.342.1">ASSISTANT</span></strong></span><span><span class="kobospan" id="kobo.343.1">.</span></span></p><p class="calibre3"><span class="kobospan" id="kobo.344.1">Now, type the following into the </span><strong class="bold"><span class="kobospan" id="kobo.345.1">ASSISTANT</span></strong><span class="kobospan" id="kobo.346.1"> message: </span><strong class="source-inline"><span class="kobospan" id="kobo.347.1">Sham - the ice cream that </span></strong><span><strong class="source-inline"><span class="kobospan" id="kobo.348.1">never melts!</span></strong></span><span><span class="kobospan" id="kobo.349.1">.</span></span></p></li>
<li class="calibre15"><span class="kobospan" id="kobo.350.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.351.1">Add message</span></strong><span class="kobospan" id="kobo.352.1"> button and ensure that the label of the message says </span><strong class="bold"><span class="kobospan" id="kobo.353.1">USER</span></strong><span class="kobospan" id="kobo.354.1"> instead now. </span><span class="kobospan" id="kobo.354.2">Type the following into the </span><strong class="bold"><span class="kobospan" id="kobo.355.1">USER</span></strong><span class="kobospan" id="kobo.356.1"> message: </span><strong class="source-inline1"><span class="kobospan" id="kobo.357.1">A company that produces </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.358.1">comedy movies.</span></strong></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.359.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.360.1">Add message</span></strong><span class="kobospan" id="kobo.361.1"> button, and ensure that the label of the message says </span><strong class="bold"><span class="kobospan" id="kobo.362.1">ASSISTANT</span></strong><span class="kobospan" id="kobo.363.1">. </span><span class="kobospan" id="kobo.363.2">Type the following into the </span><strong class="bold"><span class="kobospan" id="kobo.364.1">ASSISTANT</span></strong><span class="kobospan" id="kobo.365.1"> message: </span><strong class="source-inline1"><span class="kobospan" id="kobo.366.1">Sham - the best way to tickle your </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.367.1">funny bone!</span></strong></span><span><span class="kobospan" id="kobo.368.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.369.1">Repeat </span><em class="italic"><span class="kobospan" id="kobo.370.1">steps 4-5</span></em><span class="kobospan" id="kobo.371.1"> once more, with the following </span><strong class="bold"><span class="kobospan" id="kobo.372.1">USER</span></strong><span class="kobospan" id="kobo.373.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.374.1">ASSISTANT</span></strong><span class="kobospan" id="kobo.375.1"> messages, respectively: </span><strong class="source-inline1"><span class="kobospan" id="kobo.376.1">A company that provides legal assistance to businesses, and Sham - we know business law!</span></strong><span class="kobospan" id="kobo.377.1">. </span><span class="kobospan" id="kobo.377.2">At this point, you should see </span><span><span class="kobospan" id="kobo.378.1">the following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer010">
<span class="kobospan" id="kobo.379.1"><img alt="Figure 1.5 – The OpenAI Playground with Chat Logs populated" src="image/B21007_01_5.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.380.1">Figure 1.5 – The OpenAI Playground with Chat Logs populated</span></p>
<ol class="calibre14">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.381.1">Finally, select the </span><strong class="bold"><span class="kobospan" id="kobo.382.1">Add message</span></strong><span class="kobospan" id="kobo.383.1"> button, and create a </span><strong class="bold"><span class="kobospan" id="kobo.384.1">USER</span></strong><span class="kobospan" id="kobo.385.1"> message with the following: </span><strong class="source-inline1"><span class="kobospan" id="kobo.386.1">A company that writes engaging </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.387.1">mystery novels.</span></strong></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.388.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.389.1">Submit</span></strong><span class="kobospan" id="kobo.390.1"> button on the bottom of </span><span><span class="kobospan" id="kobo.391.1">the page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.392.1">You </span><a id="_idIndexMarker027" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.393.1">should </span><a id="_idIndexMarker028" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.394.1">now see a completion response from OpenAI. </span><span class="kobospan" id="kobo.394.2">In my case (</span><span><em class="italic"><span class="kobospan" id="kobo.395.1">Figure 1</span></em></span><em class="italic"><span class="kobospan" id="kobo.396.1">.6</span></em><span class="kobospan" id="kobo.397.1">), the response is </span><span><span class="kobospan" id="kobo.398.1">as follows:</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.399.1">Sham – unravel the secrets with our captivating mysteries!</span></strong></pre><p class="calibre3"><span class="kobospan" id="kobo.400.1">Yours may be different, but the response you see will definitely start with the word “</span><em class="italic"><span class="kobospan" id="kobo.401.1">Sham –</span></em><span class="kobospan" id="kobo.402.1">” and end with an exclamation point. </span><span class="kobospan" id="kobo.402.2">In this way, we have </span><em class="italic"><span class="kobospan" id="kobo.403.1">trained</span></em><span class="kobospan" id="kobo.404.1"> the model to only give us completion responses in </span><span><span class="kobospan" id="kobo.405.1">that format.</span></span></p></li> </ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer011">
<span class="kobospan" id="kobo.406.1"><img alt="Figure 1.6 – The OpenAI Playground with completion, after changing the Chat Log" src="image/B21007_01_5.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.407.1">Figure 1.6 – The OpenAI Playground with completion, after changing the Chat Log</span></p>
<h2 id="_idParaDest-39" class="calibre7"><a id="_idTextAnchor039" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.408.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.409.1">As we </span><a id="_idIndexMarker029" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.410.1">learned in the </span><em class="italic"><span class="kobospan" id="kobo.411.1">Running a completion request in the OpenAI Playground </span></em><span class="kobospan" id="kobo.412.1">recipe, ChatGPT and its GPT models are built on a </span><a id="_idIndexMarker030" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.413.1">transformer architecture, which processes input and generates responses based on the immediate chat history it has been given. </span><span class="kobospan" id="kobo.413.2">It doesn’t have an ongoing memory of past interactions or a stored understanding of context outside the immediate conversation. </span><span class="kobospan" id="kobo.413.3">The Chat Log has a significant impact on the model’s completions. </span><span class="kobospan" id="kobo.413.4">When the model receives a prompt, it takes into account the most recent prompt, the System Message, and all the preceding messages in the </span><span><span class="kobospan" id="kobo.414.1">Chat Log.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.415.1">We can observe this in the </span><strong class="bold"><span class="kobospan" id="kobo.416.1">Playground</span></strong><span class="kobospan" id="kobo.417.1"> by providing our own sets of User and Assistant messages, and then see how the model changes its completion, as we did in the </span><span><span class="kobospan" id="kobo.418.1">preceding steps.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.419.1">In particular, the model has detected two patterns in the Chat Log and then generated the completion to follow </span><span><span class="kobospan" id="kobo.420.1">that behavior:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.421.1">The model detected that all manual Assistant completions begin with the word </span><em class="italic"><span class="kobospan" id="kobo.422.1">Sham</span></em><span class="kobospan" id="kobo.423.1">, and so it added that prefix to </span><span><span class="kobospan" id="kobo.424.1">its completion</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.425.1">The model identified that all slogans end with an exclamation point, and so when it generated the completion, it also added in an </span><span><span class="kobospan" id="kobo.426.1">exclamation point</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.427.1">Overall, the Chat Log can be used to </span><em class="italic"><span class="kobospan" id="kobo.428.1">train</span></em><span class="kobospan" id="kobo.429.1"> the model to generate certain types of completions that the user wants to create. </span><span class="kobospan" id="kobo.429.2">In addition, the Chat Log helps the model understand </span><a id="_idIndexMarker031" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.430.1">and maintain the context of the </span><span><span class="kobospan" id="kobo.431.1">bigger conversation.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.432.1">For example, if you</span><a id="_idIndexMarker032" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.433.1"> added a User message with </span><strong class="source-inline"><span class="kobospan" id="kobo.434.1">What is an airplane?</span></strong><span class="kobospan" id="kobo.435.1"> and followed it up with another User message of </span><strong class="source-inline"><span class="kobospan" id="kobo.436.1">How do they fly?</span></strong><span class="kobospan" id="kobo.437.1">, the model would understand that </span><strong class="source-inline"><span class="kobospan" id="kobo.438.1">they</span></strong><span class="kobospan" id="kobo.439.1"> refers to the </span><strong class="source-inline"><span class="kobospan" id="kobo.440.1">airplane</span></strong><span class="kobospan" id="kobo.441.1"> because of the </span><span><span class="kobospan" id="kobo.442.1">Chat Log.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.443.1">Prompt engineering</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.444.1">The Chat Log plays a</span><a id="_idIndexMarker033" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.445.1"> pivotal role in influencing the model’s completions, and this observation is a glimpse into the broader realm of </span><strong class="bold"><span class="kobospan" id="kobo.446.1">prompt engineering</span></strong><span class="kobospan" id="kobo.447.1">. </span><span class="kobospan" id="kobo.447.2">Prompt engineering is a technique where the input or </span><strong class="bold"><span class="kobospan" id="kobo.448.1">prompt</span></strong><span class="kobospan" id="kobo.449.1"> given to a model is carefully crafted to guide the model towards producing a </span><span><span class="kobospan" id="kobo.450.1">desired output.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.451.1">Within the sphere of prompt engineering, there are a few notable concepts, </span><span><span class="kobospan" id="kobo.452.1">as follows:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.453.1">Zero-shot prompting</span></strong><span class="kobospan" id="kobo.454.1">: Here, the </span><a id="_idIndexMarker034" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.455.1">model is given a task that it hasn’t been explicitly trained on. </span><span class="kobospan" id="kobo.455.2">It relies entirely</span><a id="_idIndexMarker035" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.456.1"> on its pre-existing knowledge and training to generate a relevant response. </span><span class="kobospan" id="kobo.456.2">In essence, it’s like asking the model to perform a task </span><em class="italic"><span class="kobospan" id="kobo.457.1">cold</span></em><span class="kobospan" id="kobo.458.1">, without any </span><span><span class="kobospan" id="kobo.459.1">prior examples.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.460.1">Few-shot prompting</span></strong><span class="kobospan" id="kobo.461.1">: This </span><a id="_idIndexMarker036" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.462.1">involves </span><a id="_idIndexMarker037" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.463.1">providing the model with a small number of examples related to the desired task. </span><span class="kobospan" id="kobo.463.2">The aim is to nudge the model into recognizing the pattern or context and then generating a relevant completion based on the few </span><span><span class="kobospan" id="kobo.464.1">examples given.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.465.1">Understanding these nuances in how prompts can be engineered allows users to leverage ChatGPT’s capabilities more effectively, tailoring interactions to their </span><span><span class="kobospan" id="kobo.466.1">specific needs.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.467.1">Overall, the Chat Log (and the System Message, as we learned in the earlier recipe) is a great low-touch method of aligning the completion responses from OpenAI to a desired target, without needing to fine-tune the model itself. </span><span class="kobospan" id="kobo.467.2">Now that we’ve used the Playground to test prompts and completions, it’s time to use the actual </span><span><span class="kobospan" id="kobo.468.1">OpenAI API.</span></span></p>
<h1 id="_idParaDest-40" class="calibre5"><a id="_idTextAnchor040" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.469.1">Making OpenAI API requests with Postman</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.470.1">The </span><a id="_idIndexMarker038" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.471.1">OpenAI Playground is a great way to test model completions and provides the exact same responses that you would receive with </span><a id="_idIndexMarker039" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.472.1">the OpenAI API, but it serves a different purpose. </span><span class="kobospan" id="kobo.472.2">While the Playground is treated as a sandbox for experimentation that is easy to use, interactive, and great for learning, the OpenAI API enables users to integrate the models directly into </span><span><span class="kobospan" id="kobo.473.1">their applications.</span></span></p>
<h2 id="_idParaDest-41" class="calibre7"><a id="_idTextAnchor041" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.474.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.475.1">In order to make HTTP requests, we need a client such as Postman to post requests to the API. </span><span class="kobospan" id="kobo.475.2">We also need to </span><a id="_idIndexMarker040" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.476.1">generate an </span><strong class="bold"><span class="kobospan" id="kobo.477.1">API key</span></strong><span class="kobospan" id="kobo.478.1">, a unique identifier that authorizes us to make requests to </span><span><span class="kobospan" id="kobo.479.1">OpenAI’s API.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.480.1">In this recipe and book, we will select Postman as our API client, but note that many alternatives exist, including </span><em class="italic"><span class="kobospan" id="kobo.481.1">WireMock</span></em><span class="kobospan" id="kobo.482.1">, </span><em class="italic"><span class="kobospan" id="kobo.483.1">Smartbear</span></em><span class="kobospan" id="kobo.484.1">, and </span><em class="italic"><span class="kobospan" id="kobo.485.1">Paw</span></em><span class="kobospan" id="kobo.486.1">. </span><span class="kobospan" id="kobo.486.2">We have chosen Postman because it is the most widely used tool, it’s cross-platform (meaning that it works on Windows, Mac, and Linux), and finally, for our use case it’s </span><span><span class="kobospan" id="kobo.487.1">completely free.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.488.1">Installing Postman</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.489.1">Postman </span><a id="_idIndexMarker041" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.490.1">is the </span><a id="_idIndexMarker042" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.491.1">widely recognized stand-alone tool for testing APIs, used by over 17 million users (</span><a href="https://blog.postman.com/postman-public-api-network-is-now-the-worlds-largest-public-api-hub/" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.492.1">https://blog.postman.com/postman-public-api-network-is-now-the-worlds-largest-public-api-hub/</span></a><span class="kobospan" id="kobo.493.1">). </span><span class="kobospan" id="kobo.493.2">It contains many features, but its core use case is enabling developers to send HTTP requests and viewing responses in an easy-to-use user interface. </span><span class="kobospan" id="kobo.493.3">In fact, Postman also contains a web-based version (no downloads necessary), which is what we will be using in </span><span><span class="kobospan" id="kobo.494.1">this section.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.495.1">To use Postman, navigate to </span><a href="https://www.postman.com/" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.496.1">https://www.postman.com/</span></a><span class="kobospan" id="kobo.497.1"> and create a free account using the </span><strong class="bold"><span class="kobospan" id="kobo.498.1">Sign Up for Free</span></strong><span class="kobospan" id="kobo.499.1"> button. </span><span class="kobospan" id="kobo.499.2">Follow the on-screen instructions until you get to platform, where you should see a menu bar at the top with options for </span><strong class="bold"><span class="kobospan" id="kobo.500.1">Home</span></strong><span class="kobospan" id="kobo.501.1">, </span><strong class="bold"><span class="kobospan" id="kobo.502.1">Workspaces</span></strong><span class="kobospan" id="kobo.503.1">, </span><strong class="bold"><span class="kobospan" id="kobo.504.1">API Network</span></strong><span class="kobospan" id="kobo.505.1">, and more. </span><span class="kobospan" id="kobo.505.2">Alternatively, you can choose to download and install the Postman application on your computer (follow the steps on the website), removing the need to create a </span><span><span class="kobospan" id="kobo.506.1">Postman account.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.507.1">Now </span><a id="_idIndexMarker043" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.508.1">that we </span><a id="_idIndexMarker044" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.509.1">are on the Postman platform, let’s configure </span><span><span class="kobospan" id="kobo.510.1">our workspace:</span></span></p>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.511.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.512.1">Workspaces</span></strong><span class="kobospan" id="kobo.513.1"> from the top and click </span><span><strong class="bold"><span class="kobospan" id="kobo.514.1">Create Workspace</span></strong></span><span><span class="kobospan" id="kobo.515.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.516.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.517.1">Blank Workspace</span></strong><span class="kobospan" id="kobo.518.1"> and </span><span><span class="kobospan" id="kobo.519.1">click </span></span><span><strong class="bold"><span class="kobospan" id="kobo.520.1">Next</span></strong></span><span><span class="kobospan" id="kobo.521.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.522.1">Give the workspace a name (such as </span><strong class="source-inline1"><span class="kobospan" id="kobo.523.1">OpenAI API</span></strong><span class="kobospan" id="kobo.524.1">), select </span><strong class="bold"><span class="kobospan" id="kobo.525.1">Personal</span></strong><span class="kobospan" id="kobo.526.1">, and then </span><span><span class="kobospan" id="kobo.527.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.528.1">Create</span></strong></span><span><span class="kobospan" id="kobo.529.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer012">
<span class="kobospan" id="kobo.530.1"><img alt="Figure 1.7 – Configuring the Postman workspace" src="image/B21007_01_7.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.531.1">Figure 1.7 – Configuring the Postman workspace</span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.532.1">Getting your API key</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.533.1">API keys are</span><a id="_idIndexMarker045" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.534.1"> used to authenticate HTTP requests to OpenAI’s servers. </span><span class="kobospan" id="kobo.534.2">Each API key is unique to an OpenAI Platform account. </span><span class="kobospan" id="kobo.534.3">In order to get your OpenAI </span><span><span class="kobospan" id="kobo.535.1">API key:</span></span></p>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.536.1">Navigate to </span><a href="https://platform.openai.com/" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.537.1">https://platform.openai.com/</span></a><span class="kobospan" id="kobo.538.1"> and log in to your OpenAI </span><span><span class="kobospan" id="kobo.539.1">API account.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.540.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.541.1">Personal</span></strong><span class="kobospan" id="kobo.542.1"> from the top right and click </span><strong class="bold"><span class="kobospan" id="kobo.543.1">View </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.544.1">API keys</span></strong></span><span><span class="kobospan" id="kobo.545.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.546.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.547.1">Create new secret key</span></strong><span class="kobospan" id="kobo.548.1"> button, type in any name, and then select </span><strong class="bold"><span class="kobospan" id="kobo.549.1">Create </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.550.1">secret key</span></strong></span><span><span class="kobospan" id="kobo.551.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.552.1">Your</span><a id="_idIndexMarker046" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.553.1"> API key should now be visible to you – note it down somewhere safe, such as in a password-protected </span><strong class="source-inline1"><span class="kobospan" id="kobo.554.1">.</span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.555.1">txt</span></strong></span><span><span class="kobospan" id="kobo.556.1"> file.</span></span></li>
</ol>
<p class="callout-heading"><span class="kobospan" id="kobo.557.1">Note</span></p>
<p class="callout"><span class="kobospan" id="kobo.558.1">Your API key is your means of authenticating with OpenAI – it should not be shared with anyone and should be stored as securely as </span><span><span class="kobospan" id="kobo.559.1">any password.</span></span></p>
<h2 id="_idParaDest-42" class="calibre7"><a id="_idTextAnchor042" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.560.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.561.1">After</span><a id="_idIndexMarker047" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.562.1"> setting up</span><a id="_idIndexMarker048" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.563.1"> our Postman workspace and generating our OpenAI API key, we have everything we need to make HTTP requests to the API. </span><span class="kobospan" id="kobo.563.2">We will first create and send the request, and then analyze the various components of </span><span><span class="kobospan" id="kobo.564.1">the request.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.565.1">In order to make an API request using Postman, follow </span><span><span class="kobospan" id="kobo.566.1">these steps:</span></span></p>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.567.1">In your Postman workspace, select the </span><strong class="bold"><span class="kobospan" id="kobo.568.1">New</span></strong><span class="kobospan" id="kobo.569.1"> button on the top-left menu bar, and then select </span><strong class="bold"><span class="kobospan" id="kobo.570.1">HTTP</span></strong><span class="kobospan" id="kobo.571.1"> from the list of options that appears. </span><span class="kobospan" id="kobo.571.2">This will create a new </span><span><strong class="bold"><span class="kobospan" id="kobo.572.1">Untitled Request</span></strong></span><span><span class="kobospan" id="kobo.573.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.574.1">Change the HTTP request type from </span><strong class="bold"><span class="kobospan" id="kobo.575.1">GET</span></strong><span class="kobospan" id="kobo.576.1"> to </span><strong class="bold"><span class="kobospan" id="kobo.577.1">POST</span></strong><span class="kobospan" id="kobo.578.1"> in the </span><strong class="bold"><span class="kobospan" id="kobo.579.1">Method</span></strong><span class="kobospan" id="kobo.580.1"> drop-down menu (by default, it will be set </span><span><span class="kobospan" id="kobo.581.1">to </span></span><span><strong class="bold"><span class="kobospan" id="kobo.582.1">GET</span></strong></span><span><span class="kobospan" id="kobo.583.1">).</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.584.1">Enter the following URL as the endpoint for Chat </span><span><span class="kobospan" id="kobo.585.1">Completions: </span></span><a href="https://api.openai.com/v1/chat/completions" class="pcalibre1 calibre6 pcalibre"><span><span class="kobospan" id="kobo.586.1">https://api.openai.com/v1/chat/completions</span></span></a></li>
<li class="calibre15"><span class="kobospan" id="kobo.587.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.588.1">Headers</span></strong><span class="kobospan" id="kobo.589.1"> in the sub-menu, and add the following key-value pairs into the table </span><span><span class="kobospan" id="kobo.590.1">below it:</span></span></li>
</ol>
<table class="no-table-style" id="table001-1">
<colgroup class="calibre10">
<col class="calibre11"/>
<col class="calibre11"/>
</colgroup>
<thead class="calibre12">
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><em class="italic"><span class="kobospan" id="kobo.591.1">Key</span></em></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><em class="italic"><span class="kobospan" id="kobo.592.1">Value</span></em></span></p>
</td>
</tr>
</thead>
<tbody class="calibre13">
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline"><span class="kobospan" id="kobo.593.1">Content-Type</span></strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline"><span class="kobospan" id="kobo.594.1">application/json</span></strong></span></p>
</td>
</tr>
<tr class="no-table-style1">
<td class="no-table-style2">
<p class="calibre3"><span><strong class="source-inline"><span class="kobospan" id="kobo.595.1">Authorization</span></strong></span></p>
</td>
<td class="no-table-style2">
<p class="calibre3"><strong class="source-inline"><span class="kobospan" id="kobo.596.1">Bearer &lt;your API </span></strong><span><strong class="source-inline"><span class="kobospan" id="kobo.597.1">key here&gt;</span></strong></span></p>
</td>
</tr>
</tbody>
</table>
<p class="calibre3"><span class="kobospan" id="kobo.598.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.599.1">Body</span></strong><span class="kobospan" id="kobo.600.1"> in the sub-menu and then select </span><strong class="bold"><span class="kobospan" id="kobo.601.1">raw</span></strong><span class="kobospan" id="kobo.602.1"> for the request type. </span><span class="kobospan" id="kobo.602.2">Enter the following</span><a id="_idIndexMarker049" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.603.1"> request body, which details to OpenAI the prompt, system message, chat log, and a set of other parameters that it needs to use to generate a </span><a id="_idIndexMarker050" class="pcalibre1 calibre6 pcalibre"/><span><span class="kobospan" id="kobo.604.1">completion response:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.605.1">
{
  "model": "gpt-3.5-turbo",
  "messages": [
    {
      "role": "system",
      "content": "You are an assistant that creates marketing slogans based on descriptions of companies"
    },
    {
      "role": "user",
      "content": "A company that writes engaging mystery novels"
    }
  ]
}</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.606.1">The </span><strong class="bold"><span class="kobospan" id="kobo.607.1">Headers</span></strong><span class="kobospan" id="kobo.608.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.609.1">Body</span></strong><span class="kobospan" id="kobo.610.1"> sections of the Postman request should look </span><span><span class="kobospan" id="kobo.611.1">like this:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer013">
<span class="kobospan" id="kobo.612.1"><img alt="Figure 1.8 – Postman Headers" src="image/B21007_01_8.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.613.1">Figure 1.8 – Postman Headers</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer014">
<span class="kobospan" id="kobo.614.1"><img alt="Figure 1.9 – Postman Body" src="image/B21007_01_9.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.615.1">Figure 1.9 – Postman Body</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.616.1">5.	</span><span class="kobospan" id="kobo.616.2">Click</span><a id="_idIndexMarker051" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.617.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.618.1">Send</span></strong><span class="kobospan" id="kobo.619.1"> button on the top right </span><a id="_idIndexMarker052" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.620.1">to make your </span><span><span class="kobospan" id="kobo.621.1">HTTP request.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.622.1">After sending the HTTP request, you should see the response from OpenAI API. </span><span class="kobospan" id="kobo.622.2">The response </span><a id="_idIndexMarker053" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.623.1">is in the form of a </span><strong class="bold"><span class="kobospan" id="kobo.624.1">JavaScript Object Notation</span></strong><span class="kobospan" id="kobo.625.1"> (</span><span><strong class="bold"><span class="kobospan" id="kobo.626.1">JSON</span></strong></span><span><span class="kobospan" id="kobo.627.1">) object.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer015">
<span class="kobospan" id="kobo.628.1"><img alt="Figure 1.10 – Postman request body and response" src="image/B21007_01_10.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.629.1">Figure 1.10 – Postman request body and response</span></p>
<h2 id="_idParaDest-43" class="calibre7"><a id="_idTextAnchor043" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.630.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.631.1">In order to </span><a id="_idIndexMarker054" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.632.1">build intelligent applications, we need to start using the OpenAI API instead of the Playground. </span><span class="kobospan" id="kobo.632.2">There are other benefits</span><a id="_idIndexMarker055" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.633.1"> to using the OpenAI API as well, including </span><span><span class="kobospan" id="kobo.634.1">the following:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.635.1">More flexibility, control, and customization of the model, its parameters, and </span><span><span class="kobospan" id="kobo.636.1">its completions</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.637.1">Enables you to integrate the power of OpenAI’s models directly into your application without your end users interacting with OpenAI </span><span><span class="kobospan" id="kobo.638.1">at all</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.639.1">Provides you the power to scale the amount of model requests you’re making to fit the load of </span><span><span class="kobospan" id="kobo.640.1">your application</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.641.1">We are now going to shift our focus exclusively to the API, but seasoned developers will always revert to the Playground to perform testing on their system messages, chat logs, </span><span><span class="kobospan" id="kobo.642.1">and parameters.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.643.1">To make</span><a id="_idIndexMarker056" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.644.1"> API requests, we need </span><span><span class="kobospan" id="kobo.645.1">two things:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.646.1">A way to make our requests</span></em><span class="kobospan" id="kobo.647.1"> – For this, we used Postman as it’s an easy-to-use tool. </span><span class="kobospan" id="kobo.647.2">When developing applications, however, the app itself will </span><span><span class="kobospan" id="kobo.648.1">make requests.</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.649.1">A way to authenticate our requests</span></em><span class="kobospan" id="kobo.650.1"> – For this, we generated an API key from our OpenAI account. </span><span class="kobospan" id="kobo.650.2">This tells OpenAI who is making </span><span><span class="kobospan" id="kobo.651.1">this request.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.652.1">The actual API request consists of four elements: the </span><em class="italic"><span class="kobospan" id="kobo.653.1">endpoint</span></em><span class="kobospan" id="kobo.654.1">, the </span><em class="italic"><span class="kobospan" id="kobo.655.1">Header</span></em><span class="kobospan" id="kobo.656.1">, the </span><em class="italic"><span class="kobospan" id="kobo.657.1">body</span></em><span class="kobospan" id="kobo.658.1">, and finally, the </span><em class="italic"><span class="kobospan" id="kobo.659.1">response</span></em><span class="kobospan" id="kobo.660.1">. </span><span class="kobospan" id="kobo.660.2">Note that this concept is not exclusive to OpenAI but applies to </span><span><span class="kobospan" id="kobo.661.1">most APIs.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.662.1">The endpoint</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.663.1">The </span><strong class="bold"><span class="kobospan" id="kobo.664.1">endpoint</span></strong><span class="kobospan" id="kobo.665.1"> serves as </span><a id="_idIndexMarker057" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.666.1">the location of your HTTP request, which manifests itself in the form of a specific URL. </span><span class="kobospan" id="kobo.666.2">A web server exists at the endpoint URL to listen to requests and provide the corresponding data. </span><span class="kobospan" id="kobo.666.3">With OpenAI, each function corresponds to a </span><span><span class="kobospan" id="kobo.667.1">different endpoint.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.668.1">For example, two additional examples of different endpoints within OpenAI are </span><span><span class="kobospan" id="kobo.669.1">the following:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.670.1">
# used for generating images
https://api.openai.com/v1/images/generations
# used for generating embeddings
https://api.openai.com/v1/embeddings</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.671.1">Additionally, the OpenAI API endpoint only accepts </span><strong class="bold"><span class="kobospan" id="kobo.672.1">POST</span></strong><span class="kobospan" id="kobo.673.1"> method requests. </span><span class="kobospan" id="kobo.673.2">Think of the HTTP methods (POST, GET, etc.) as different ways to travel to a location: by train, air, or sea. </span><span class="kobospan" id="kobo.673.3">In this case, OpenAI only accepts </span><span><strong class="bold"><span class="kobospan" id="kobo.674.1">POST</span></strong></span><span><span class="kobospan" id="kobo.675.1"> requests.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.676.1">The Header</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.677.1">The </span><strong class="bold"><span class="kobospan" id="kobo.678.1">Header</span></strong><span class="kobospan" id="kobo.679.1"> of an </span><a id="_idIndexMarker058" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.680.1">API request contains metadata about the request itself. </span><span class="kobospan" id="kobo.680.2">Information represented in Header tags contains relevant and important elements about the body, and helps the server interpret the request. </span><span class="kobospan" id="kobo.680.3">Specifically, in our case, we set </span><span><span class="kobospan" id="kobo.681.1">two Headers:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.682.1">Content-Type</span></strong><span class="kobospan" id="kobo.683.1">: We set the content-type of our request to </span><strong class="source-inline1"><span class="kobospan" id="kobo.684.1">application/json</span></strong><span class="kobospan" id="kobo.685.1">, meaning that we are telling the server that our request body will be in </span><span><span class="kobospan" id="kobo.686.1">JSON format.</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.687.1">Authorization</span></strong><span class="kobospan" id="kobo.688.1">: We set the authorization value to the API key, which allows the server to verify the client (Postman and our OpenAI Platform account in our case) that is making the specific request. </span><span class="kobospan" id="kobo.688.2">The server can use the API key to check whether the client has permissions to make the request and whether the client has enough credit available to make the request. </span><span class="kobospan" id="kobo.688.3">It’s worth noting that often, API keys are </span><a id="_idIndexMarker059" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.689.1">sent as a </span><strong class="bold"><span class="kobospan" id="kobo.690.1">Bearer token</span></strong><span class="kobospan" id="kobo.691.1"> within the authorization Header. </span><span class="kobospan" id="kobo.691.2">A Bearer token signifies that the bearer of this token (i.e., the client making the request) is authorized to access specific resources. </span><span class="kobospan" id="kobo.691.3">It serves as a compact and self-contained method for transmitting identity and authorization information between the client and </span><span><span class="kobospan" id="kobo.692.1">the server.</span></span></li>
</ul>
<h3 class="calibre8"><span class="kobospan" id="kobo.693.1">The Body</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.694.1">Finally, the </span><strong class="bold"><span class="kobospan" id="kobo.695.1">Body</span></strong><span class="kobospan" id="kobo.696.1"> of an API </span><a id="_idIndexMarker060" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.697.1">request is the request itself, expressed in the JSON notation format (which purposely matches the </span><strong class="source-inline"><span class="kobospan" id="kobo.698.1">Content-Type</span></strong><span class="kobospan" id="kobo.699.1"> defined in the Header of the request). </span><span class="kobospan" id="kobo.699.2">The required parameters for the endpoint that we are using (Chat Completions) are </span><strong class="source-inline"><span class="kobospan" id="kobo.700.1">model</span></strong> <span><span class="kobospan" id="kobo.701.1">and </span></span><span><strong class="source-inline"><span class="kobospan" id="kobo.702.1">messages</span></strong></span><span><span class="kobospan" id="kobo.703.1">:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.704.1">model</span></strong><span class="kobospan" id="kobo.705.1">: This represents the specific model that is used to produce the completion. </span><span class="kobospan" id="kobo.705.2">In our case, we used </span><strong class="source-inline1"><span class="kobospan" id="kobo.706.1">gpt-3.5-turbo</span></strong><span class="kobospan" id="kobo.707.1">, which represents the latest model that was available at the time. </span><span class="kobospan" id="kobo.707.2">This is equivalent to using the </span><strong class="bold"><span class="kobospan" id="kobo.708.1">Model</span></strong><span class="kobospan" id="kobo.709.1"> dropdown in the </span><strong class="bold"><span class="kobospan" id="kobo.710.1">Parameters</span></strong><span class="kobospan" id="kobo.711.1"> section of the OpenAI Playground, which we saw in the </span><em class="italic"><span class="kobospan" id="kobo.712.1">Setting up your OpenAI Playground </span></em><span><em class="italic"><span class="kobospan" id="kobo.713.1">environment</span></em></span><span><span class="kobospan" id="kobo.714.1"> recipe.</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.715.1">messages</span></strong><span class="kobospan" id="kobo.716.1">: This represents the System Message and Chat Log that the model has access to when generating its completion. </span><span class="kobospan" id="kobo.716.2">In a conversation, it represents the list of messages comprising the conversation so far. </span><span class="kobospan" id="kobo.716.3">In JSON, the list is denoted by </span><strong class="source-inline1"><span class="kobospan" id="kobo.717.1">[]</span></strong><span class="kobospan" id="kobo.718.1"> to indicate that the message parameter contains a list of JSON objects (messages). </span><span class="kobospan" id="kobo.718.2">Each JSON object (or message) within </span><strong class="source-inline1"><span class="kobospan" id="kobo.719.1">messages</span></strong><span class="kobospan" id="kobo.720.1"> must contain a </span><strong class="source-inline1"><span class="kobospan" id="kobo.721.1">role</span></strong><span class="kobospan" id="kobo.722.1"> string and a </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.723.1">content</span></strong></span><span><span class="kobospan" id="kobo.724.1"> string:</span></span><ul class="calibre17"><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.725.1">role</span></strong><span class="kobospan" id="kobo.726.1">: In each</span><a id="_idIndexMarker061" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.727.1"> message, this represents the role of the message author. </span><span class="kobospan" id="kobo.727.2">To create a System Message, the role should be equal to </span><strong class="source-inline1"><span class="kobospan" id="kobo.728.1">system</span></strong><span class="kobospan" id="kobo.729.1">. </span><span class="kobospan" id="kobo.729.2">To create a User message, the role should be equal to </span><strong class="source-inline1"><span class="kobospan" id="kobo.730.1">user</span></strong><span class="kobospan" id="kobo.731.1">. </span><span class="kobospan" id="kobo.731.2">To create an Assistant message, the role should equal </span><span><span class="kobospan" id="kobo.732.1">to </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.733.1">assistant</span></strong></span><span><span class="kobospan" id="kobo.734.1">.</span></span></li><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.735.1">content</span></strong><span class="kobospan" id="kobo.736.1">: This represents the content of the </span><span><span class="kobospan" id="kobo.737.1">message itself.</span></span></li></ul></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.738.1">In our case, we had set the System Message to </span><strong class="source-inline"><span class="kobospan" id="kobo.739.1">You are an assistant that creates marketing slogans based on descriptions of companies</span></strong><span class="kobospan" id="kobo.740.1">, and the User message or prompt to </span><strong class="source-inline"><span class="kobospan" id="kobo.741.1">A company that writes engaging mystery novels</span></strong><span class="kobospan" id="kobo.742.1">. </span><span class="kobospan" id="kobo.742.2">This, in JSON form, is equivalent to our first </span><span><span class="kobospan" id="kobo.743.1">Playground example.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.744.1">The response</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.745.1">When we </span><a id="_idIndexMarker062" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.746.1">made the preceding request using Postman, we received a </span><strong class="bold"><span class="kobospan" id="kobo.747.1">response</span></strong><span class="kobospan" id="kobo.748.1"> from OpenAI in JSON notation. </span><span class="kobospan" id="kobo.748.2">JSON is a lightweight data format that is easy for humans to read and write, and easy for machines to parse and generate. </span><span class="kobospan" id="kobo.748.3">The data format consists of parameters, which are key-value pairs. </span><span class="kobospan" id="kobo.748.4">Each parameter value can be in the form of a string, another JSON object, a list of strings, or a list of </span><span><span class="kobospan" id="kobo.749.1">JSON objects.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer016">
<span class="kobospan" id="kobo.750.1"><img alt="Figure 1.11 – Postman OpenAI API response" src="image/B21007_01_10.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.751.1">Figure 1.11 – Postman OpenAI API response</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.752.1">As you </span><a id="_idIndexMarker063" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.753.1">can see in </span><span><em class="italic"><span class="kobospan" id="kobo.754.1">Figure 1</span></em></span><em class="italic"><span class="kobospan" id="kobo.755.1">.11</span></em><span class="kobospan" id="kobo.756.1">, the response contains both metadata and actual content. </span><span class="kobospan" id="kobo.756.2">The parameters and their meaning are described </span><span><span class="kobospan" id="kobo.757.1">as follows:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.758.1">id</span></strong><span class="kobospan" id="kobo.759.1">: A unique identifier for the transaction – every response has a different ID. </span><span class="kobospan" id="kobo.759.2">This is typically used for record-keeping and </span><span><span class="kobospan" id="kobo.760.1">tracking purposes.</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.761.1">object</span></strong><span class="kobospan" id="kobo.762.1">: The designation of the request and object type returned by the API, which in this scenario is </span><strong class="source-inline1"><span class="kobospan" id="kobo.763.1">chat.completion</span></strong><span class="kobospan" id="kobo.764.1"> (as we used the Chat Completions endpoint), signifying the conclusion of a </span><span><span class="kobospan" id="kobo.765.1">chat request.</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.766.1">created</span></strong><span class="kobospan" id="kobo.767.1">: A timestamp denoting the exact moment of chat completion creation (based on </span><span><span class="kobospan" id="kobo.768.1">Unix time)..</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.769.1">model</span></strong><span class="kobospan" id="kobo.770.1">: The precise model that was used to generate the response, which in this case is </span><strong class="source-inline1"><span class="kobospan" id="kobo.771.1">gpt-3.5-turbo-0613</span></strong><span class="kobospan" id="kobo.772.1">. </span><span class="kobospan" id="kobo.772.2">Note that this differs from the model parameter in the request body. </span><span class="kobospan" id="kobo.772.3">The model parameter in the </span><strong class="bold"><span class="kobospan" id="kobo.773.1">Body</span></strong><span class="kobospan" id="kobo.774.1"> section specifies the model type (</span><strong class="source-inline1"><span class="kobospan" id="kobo.775.1">gpt-3.5-turbo</span></strong><span class="kobospan" id="kobo.776.1">) that was used, whereas the model parameter in the </span><strong class="bold"><span class="kobospan" id="kobo.777.1">Response</span></strong><span class="kobospan" id="kobo.778.1"> section specifies not only the model type, but also the model version (which, in this case, </span><span><span class="kobospan" id="kobo.779.1">is </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.780.1">0613</span></strong></span><span><span class="kobospan" id="kobo.781.1">).</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.782.1">Choices</span></strong><span class="kobospan" id="kobo.783.1">: An</span><a id="_idIndexMarker064" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.784.1"> array that comprises the responses generated by the model. </span><span class="kobospan" id="kobo.784.2">Each element of this array contains </span><span><span class="kobospan" id="kobo.785.1">the following:</span></span><ul class="calibre17"><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.786.1">index</span></strong><span class="kobospan" id="kobo.787.1">: A number that represents the order of the choices, with the first choice having an index </span><span><span class="kobospan" id="kobo.788.1">of </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.789.1">0</span></strong></span></li><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.790.1">message</span></strong><span class="kobospan" id="kobo.791.1">: An object containing the message produced by the assistant, comprising </span><span><span class="kobospan" id="kobo.792.1">the following:</span></span><ul class="calibre17"><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.793.1">role</span></strong><span class="kobospan" id="kobo.794.1">: The role of the entity generating the message. </span><span class="kobospan" id="kobo.794.2">This is very similar to the roles in the Chat Log within the </span><span><span class="kobospan" id="kobo.795.1">Playground screen.</span></span></li><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.796.1">content</span></strong><span class="kobospan" id="kobo.797.1">: The literal text or output generated by the </span><span><span class="kobospan" id="kobo.798.1">OpenAI model.</span></span></li></ul></li><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.799.1">finish_reason</span></strong><span class="kobospan" id="kobo.800.1">: A string that indicates why the OpenAI model decided to stop generating further output. </span><span class="kobospan" id="kobo.800.2">In this case, </span><strong class="source-inline1"><span class="kobospan" id="kobo.801.1">stop</span></strong><span class="kobospan" id="kobo.802.1"> means the model concluded the message in a </span><span><span class="kobospan" id="kobo.803.1">natural way.</span></span></li></ul></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.804.1">usage</span></strong><span class="kobospan" id="kobo.805.1">: A list of parameters that represent the usage, or costs, of the particular </span><span><span class="kobospan" id="kobo.806.1">API request:</span></span><ul class="calibre17"><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.807.1">prompt_tokens</span></strong><span class="kobospan" id="kobo.808.1">: The quantity of tokens utilized in the initial prompt or the </span><span><span class="kobospan" id="kobo.809.1">input message</span></span></li><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.810.1">completion_tokens</span></strong><span class="kobospan" id="kobo.811.1">: The number of tokens produced by the model as a response to </span><span><span class="kobospan" id="kobo.812.1">the prompt</span></span></li><li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.813.1">total_tokens</span></strong><span class="kobospan" id="kobo.814.1">: An aggregate of the prompt and completion tokens, signifying the total tokens expended for the specific </span><span><span class="kobospan" id="kobo.815.1">API invocation</span></span></li></ul></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.816.1">The response in JSON format may be difficult for us to read. </span><span class="kobospan" id="kobo.816.2">In fact, what we particularly care about is not </span><strong class="source-inline"><span class="kobospan" id="kobo.817.1">id</span></strong><span class="kobospan" id="kobo.818.1">, </span><strong class="source-inline"><span class="kobospan" id="kobo.819.1">index</span></strong><span class="kobospan" id="kobo.820.1">, or </span><strong class="source-inline"><span class="kobospan" id="kobo.821.1">created</span></strong><span class="kobospan" id="kobo.822.1">, but the </span><strong class="source-inline"><span class="kobospan" id="kobo.823.1">content</span></strong><span class="kobospan" id="kobo.824.1"> parameter, which contains </span><span><span class="kobospan" id="kobo.825.1">the response</span></span></p>
<pre class="console"><span class="kobospan1" id="kobo.826.1">
Unleash your inner sleuth with our captivating mysteries!</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.827.1">However, the JSON response format is essential when integrating the API into your </span><span><span class="kobospan" id="kobo.828.1">own applications.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.829.1">This recipe summarizes the essential elements of the OpenAI API and demonstrates how to use an API client such as Postman to send requests and receive responses. </span><span class="kobospan" id="kobo.829.2">This is important because this is the primary method that we will use to learn more about the API and its various other aspects (such as parameters, different endpoints, interpreting the </span><span><span class="kobospan" id="kobo.830.1">response, etc.).</span></span></p>
</div>
</body></html>