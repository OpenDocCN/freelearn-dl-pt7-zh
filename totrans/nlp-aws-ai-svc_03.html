<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer040">
			<h1 id="_idParaDest-25"><em class="italic"><a id="_idTextAnchor027"/>Chapter 2</em>: Introducing Amazon Textract</h1>
			<p>In the previous chapter, you read how businesses can harness the benefits of applying NLP to derive insights from text, and you were briefly introduced to the <em class="italic">AWS ML stack</em>. We will now provide a detailed introduction to <strong class="bold">Amazon Textract</strong>, along with do-it-yourself code samples and instructions. Amazon Textract is an AWS AI service that can be used to extract text from documents and images with little to no prior ML skills. But before we get to what Textract can do, we will first cover some of the challenges with document processing. Then we will cover how Textract can help in overcoming the challenges. We will also talk about the benefits of using Amazon Textract, along with its product features. Lastly, we will cover how you can integrate Amazon Textract quickly into your applications.</p>
			<p>We will navigate through the following sections in this chapter:</p>
			<ul>
				<li>Setting up your AWS environment</li>
				<li>Overcoming challenges with document processing</li>
				<li>Understanding how Amazon Textract can help</li>
				<li>Presenting Amazon Textract's product features</li>
				<li>Using Amazon Textract with your applications</li>
			</ul>
			<h1 id="_idParaDest-26"><a id="_idTextAnchor028"/>Technical requirements</h1>
			<p>For this chapter, you will need access to an AWS account at <a href="https://aws.amazon.com/console/">https://aws.amazon.com/console/</a>. Please refer to the <em class="italic">Signing up for an AWS account</em> sub-section within the <em class="italic">Setting up your AWS environment </em>section for detailed instructions on how you can sign up for an AWS account and sign in to the <strong class="bold">AWS Management Console</strong>.</p>
			<p>The Python code and sample datasets for the solution discussed in this chapter are available at <a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/tree/main/Chapter%2002">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/tree/main/Chapter%2002</a>. </p>
			<p>Check out the following video to see the Code in Action at <a href="https://bit.ly/3be9eUh">https://bit.ly/3be9eUh</a>.</p>
			<h1 id="_idParaDest-27"><a id="_idTextAnchor029"/>Setting up your AWS environment</h1>
			<p class="callout-heading">Important Note</p>
			<p class="callout">Please do not execute the instructions in this section on their own. This section is a reference for all the basic setup tasks needed throughout the book. You will be guided to this section when building your solution in this chapter and the rest of the chapters in this book. Only execute these tasks when so guided.</p>
			<p>Depending on the <a id="_idIndexMarker054"/>chapter you are in, you will be running tasks using the AWS Management Console, an Amazon SageMaker Jupyter notebook, from your command line, or a combination of any of these. Either way, you need the right AWS <strong class="bold">Identity and Access Management</strong> (<strong class="bold">IAM</strong>) permissions, resources, and, in most cases, one or more Amazon <strong class="bold">Simple Storage Service</strong> (<strong class="bold">S3</strong>) buckets, as prerequisites for your solution builds. This section provides instructions for setting up these basic tasks. We will be referring to this section throughout the rest of the chapters in the book as needed.</p>
			<h2 id="_idParaDest-28"><a id="_idTextAnchor030"/>Signing up for an AWS account</h2>
			<p>In this chapter and all subsequent chapters in which we run code examples, you will need access to <a id="_idIndexMarker055"/>an AWS account. Before getting started, we recommend that you create an AWS account by going through the following steps:</p>
			<p class="callout-heading">Note</p>
			<p class="callout">Please use the AWS Free Tier, which enables you to try services free of charge based on certain time limits or service usage limits. For more details, please see <a href="https://aws.amazon.com/free">https://aws.amazon.com/free</a>.</p>
			<ol>
				<li>Open <a href="https://portal.aws.amazon.com/billing/signup">https://portal.aws.amazon.com/billing/signup</a>.</li>
				<li>Click on the <strong class="bold">Create a new AWS account</strong> button at the bottom left of the page</li>
				<li>Enter your email address and a password, confirm the password, and provide an AWS account name (this can be a reference for how you will use this account, such as <strong class="bold">sandbox</strong>, for example).</li>
				<li>Select the <strong class="bold">usage type </strong>(<strong class="bold">Business or Personal</strong>), provide your contact information, read and agree to the terms of the AWS Customer Agreement, and click <strong class="bold">Continue</strong>.</li>
				<li>Provide credit card information and a billing address and click <strong class="bold">Continue</strong>.</li>
				<li>Go through the rest of the steps to complete your AWS account signup process. Please make a note of your user ID and password; this is your root access to your AWS account.</li>
				<li>Once the AWS account is created, go to the <strong class="bold">AWS Management Console</strong> – <a href="http://console.aws.amazon.com">console.aws.amazon.com</a> – and sign in using the root credentials you created in the previous steps.</li>
				<li>Type <strong class="source-inline">IAM</strong> in the services search bar at the top of the console and select <strong class="bold">IAM</strong> to <a id="_idIndexMarker056"/>navigate to the IAM console. Select <strong class="bold">Users</strong> from the left pane in the IAM console and click on <strong class="bold">Add User</strong>.</li>
				<li>Provide a username, then select <strong class="bold">Programmatic access</strong> and <strong class="bold">AWS Management Console access</strong> for <strong class="bold">Access Type</strong>. Keep the password as <strong class="bold">Autogenerated</strong> and keep <strong class="bold">Required Password reset</strong> as selected.</li>
				<li>Click <strong class="bold">Next: Permissions</strong>. On the <strong class="bold">Set Permissions</strong> page, click on <strong class="bold">Attach existing policies directly</strong> and select the checkbox to the left of <strong class="bold">AdministratorAccess</strong>. Click <strong class="bold">Next</strong> twice to go to the <strong class="bold">Review</strong> page. Click <strong class="bold">Create user</strong>.</li>
				<li>Now go back to the AWS Management Console (<a href="http://console.aws.amazon.com">console.aws.amazon.com</a>) and click <strong class="bold">Sign In</strong>. Provide the IAM username you created in the previous step, the temporary password, and enter a new password to log in to the console.</li>
				<li>Log in to your AWS account when prompted in the various chapters and sections.</li>
			</ol>
			<p>You now have access to the AWS Management Console (<a href="https://aws.amazon.com/console/">https://aws.amazon.com/console/</a>). In the next section, we will show how to create an S3 bucket and upload your documents.</p>
			<h2 id="_idParaDest-29"><a id="_idTextAnchor031"/>Creating an Amazon S3 bucket and a folder and uploading objects</h2>
			<p>In this book, we will use Amazon S3 as the storage option for our solutions. So, we will need to <a id="_idIndexMarker057"/>create an S3 bucket, create folders within the bucket, and <a id="_idIndexMarker058"/>upload documents for use within the solution. Please <a id="_idIndexMarker059"/>follow these instructions to learn how to do this:</p>
			<ol>
				<li value="1">Log in to the AWS Management Console (<a href="https://aws.amazon.com/console/">https://aws.amazon.com/console/</a>) and, in the search bar at the top, type <strong class="source-inline">S3</strong>.</li>
				<li>Select <strong class="bold">S3</strong> from the results and navigate to the Amazon S3 console. Click on <strong class="bold">Create Bucket</strong>.</li>
				<li>On the <strong class="bold">Create Bucket</strong> page, provide a <strong class="bold">bucket name</strong> (it cannot contain spaces or uppercase characters; for more details, see <a href="https://docs.aws.amazon.com/console/s3/bucket-naming">https://docs.aws.amazon.com/console/s3/bucket-naming</a>), and select an <strong class="bold">AWS Region</strong> from the list (for more details on AWS Regions, please see <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html">https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html</a>).</li>
				<li>Accept the defaults for the rest of the options and click on <strong class="bold">Create Bucket</strong>. For more details on what these options mean, please see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingBucket.html">https://docs.aws.amazon.com/AmazonS3/latest/userguide/UsingBucket.html</a>.</li>
				<li>Now that our S3 bucket is successfully created, either search using your bucket name on the <strong class="bold">Buckets</strong> pane or click the bucket name if it is displayed in the list of buckets on the <strong class="bold">Buckets</strong> pane. On the bucket page, click the <strong class="bold">Create folder</strong> button on the right of the page.</li>
				<li>On the <strong class="bold">Create folder</strong> page, provide a name for the folder, accept the defaults for the rest of the fields, and click <strong class="bold">Create folder</strong> at the bottom right of the page.</li>
				<li>On the <strong class="bold">Objects</strong> page, either search for the folder you created in the search bar underneath the <strong class="bold">Objects</strong> heading or click on the folder name.</li>
				<li>Now you can select either the <strong class="bold">Add files</strong> or <strong class="bold">Add folder</strong> button on the right to bring up an option to select files or folders from your computer to add to the S3 bucket in the folder we created. <p>Please note that the AWS Management Console is not the only option to upload objects to S3. You can do it using the AWS <strong class="bold">Command-Line Interface</strong> (<strong class="bold">CLI</strong>) (for more <a id="_idIndexMarker060"/>details, see <a href="https://docs.aws.amazon.com/cli/latest/reference/s3/">https://docs.aws.amazon.com/cli/latest/reference/s3/</a>) or you can also upload <a id="_idIndexMarker061"/>files programmatically using the Python <a id="_idIndexMarker062"/>SDK, for example (<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html">https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html</a>). AWS provides SDKs for programming in several languages (<a href="https://aws.amazon.com/tools/">https://aws.amazon.com/tools/</a>).</p></li>
			</ol>
			<p>And that concludes the instructions for creating an S3 bucket, creating a folder, and uploading objects to the bucket. In the next section, let's see how we can add IAM permissions policies for our Amazon SageMaker Jupyter notebook role.</p>
			<h2 id="_idParaDest-30"><a id="_idTextAnchor032"/>Creating an Amazon SageMaker Jupyter notebook instance</h2>
			<p>In this section, we will see how to create a notebook instance in Amazon SageMaker. This is <a id="_idIndexMarker063"/>an important step, as most of our solution examples are run using notebooks. After the notebook is created, please follow the instructions to use the notebook in the specific chapters based on the solution being built. Please follow these steps to create an Amazon SageMaker Jupyter notebook instance:</p>
			<ol>
				<li value="1">Log in to the AWS Management Console if you haven't already. Type <strong class="source-inline">SageMaker</strong> in the services search bar at the top of the page, select <strong class="bold">SageMaker</strong> from the list, and click on it to go to the Amazon SageMaker management console.</li>
				<li>In the SageMaker console, on the left pane, click on <strong class="bold">Notebook</strong> to expand the option, and click <strong class="bold">Notebook instances</strong>.</li>
				<li>On the <strong class="bold">Notebook instances</strong> page, click the <strong class="bold">Create notebook instance</strong> button at the top right.</li>
				<li>Type a name for the notebook instance and select a suitable notebook instance type. For most of the solution builds in this book, an AWS Free Tier (<a href="https://aws.amazon.com/free">https://aws.amazon.com/free</a>) instance such as <strong class="source-inline">ml.t2.medium</strong> should suffice.</li>
				<li>In the <strong class="bold">Permissions and encryption</strong> section, click the <strong class="bold">IAM role</strong> list and choose <strong class="bold">Create a new role</strong>, and then choose <strong class="bold">Any S3 bucket.</strong></li>
				<li>Accept <a id="_idIndexMarker064"/>defaults for the rest of the fields and click <strong class="bold">Create notebook instance</strong>.<p class="callout-heading">Note</p><p class="callout">By default, each notebook instance is provided internet access by SageMaker. If you want to <a id="_idIndexMarker065"/>disable internet access for this notebook instance, you can attach it to your <strong class="bold">Virtual Private Cloud</strong> (<strong class="bold">VPC</strong>), a highly secure virtual network in the cloud for launching AWS resources (https://docs.aws.amazon.com/sagemaker/latest/dg/appendix-notebook-and-internet-access.html), and select to disable internet access. We need internet access for this notebook instance, so if you are planning to attach a VPC <a id="_idIndexMarker066"/>and disable internet access through SageMaker, please either configure a <strong class="bold">Network Address Translation</strong> (<strong class="bold">NAT</strong>) gateway, which allows instances in a subnet within the VPC to communicate with resources outside the VPC but not the other way around (<a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html">https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html</a>), or an interface VPC endpoint (<a href="https://docs.aws.amazon.com/sagemaker/latest/dg/interface-vpc-endpoint.html">https://docs.aws.amazon.com/sagemaker/latest/dg/interface-vpc-endpoint.html</a>), which allows a private connection through the AWS backbone between the notebook instance and your VPC. This allows you to manage access to the internet for your notebook instance through the controls you have implemented within your VPC.</p></li>
			</ol>
			<p>Your notebook instance will take a few minutes to be provisioned; once it's ready, the status will change to <strong class="bold">InService</strong>. Please follow the instructions in the <em class="italic">Using Amazon Textract with your applications</em> section to find out how you can use your notebook instance. In the next few sections, we will walk through the steps required to modify the IAM role we attached to the notebook.</p>
			<h2 id="_idParaDest-31"><a id="_idTextAnchor033"/>Changing IAM permissions and trust relationships for the Amazon SageMaker notebook execution role</h2>
			<p class="callout-heading">Note</p>
			<p class="callout">You cannot attach more than 10 managed policies to an IAM role. If your IAM role already has a managed policy from a previous chapter, please detach this policy before adding a new policy as per the requirements of your current chapter.</p>
			<p>When we <a id="_idIndexMarker067"/>create an <strong class="bold">Amazon SageMaker</strong> Jupyter notebook instance (like we did in the previous section), the default role creation step includes permissions to either an S3 bucket <a id="_idIndexMarker068"/>you specify or any S3 bucket in your AWS account. But often, we need the notebook <a id="_idIndexMarker069"/>to have more permissions that that. For example, we may need <a id="_idIndexMarker070"/>permission to use <strong class="bold">Amazon Textract</strong> or <strong class="bold">Amazon Comprehend</strong> APIs, and/or other services as required.</p>
			<p>In this section, we will walk through the steps needed to add additional permissions policies to our Amazon SageMaker Jupyter notebook role:</p>
			<ol>
				<li value="1">Open the Amazon SageMaker console by typing <strong class="source-inline">sagemaker</strong> in the services search bar at the top of the page in your AWS Management Console, and select <strong class="bold">Amazon SageMaker</strong> from the list.</li>
				<li>In the <strong class="bold">Amazon SageMaker</strong> console, on the left pane, expand <strong class="bold">Notebook</strong> and click <strong class="bold">Notebook instances</strong>.</li>
				<li>Click the name of the notebook instance you need to change permissions for.</li>
				<li>On the <strong class="bold">Notebook instance settings</strong> page, scroll down to <strong class="bold">Permissions and encryption</strong>, and click <strong class="bold">IAM role ARN</strong>.</li>
				<li>This will open the <strong class="bold">IAM management console</strong> and your role <strong class="bold">summary</strong> will be displayed along with the <strong class="bold">permissions</strong> and other details for your role. Click <strong class="bold">Attach policies</strong>.</li>
				<li>On the <strong class="bold">Add permissions to &lt;your execution role name&gt;</strong> page, type <strong class="source-inline">textract</strong> in the search bar, select the checkbox next to the policy you are interested in, and click <strong class="bold">Attach policy</strong> at the bottom right. You should now see the policy attached to your role.</li>
				<li>In some cases, we may need a custom policy for our requirement rather than a managed policy provided by AWS. Specifically, we add an inline policy (<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_passrole.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_passrole.html</a>) to allow <strong class="source-inline">PassRole</strong> of our SageMaker notebook execution role to services that can assume this role (added in <strong class="bold">Trust relationships</strong>) for actions needed <a id="_idIndexMarker071"/>to be performed from the notebook. Click <strong class="bold">Add inline policy</strong> on the right of your SageMaker notebook execution role summary page.</li>
				<li>Now <a id="_idIndexMarker072"/>click the <strong class="bold">JSON</strong> tab and paste the following JSON statement in the input area:<p class="source-code">{ "Version": "2012-10-17", "Statement": [ {</p><p class="source-code">  "Action": [</p><p class="source-code">      "iam:PassRole"</p><p class="source-code">  ],</p><p class="source-code">  "Effect": "Allow",</p><p class="source-code">  "Resource": "&lt;IAM ARN of your current SageMaker notebook execution role&gt;"</p><p class="source-code">  }</p><p class="source-code"> ]</p><p class="source-code">}</p></li>
				<li>Click <strong class="bold">Review policy</strong>.</li>
				<li>On the <strong class="bold">Review policy</strong> page, type a name for your policy and click <strong class="bold">Create policy</strong> at the bottom right of the page.</li>
				<li>Now that you know how to attach permissions and an inline policy to your role, let's go to the last step of this section, updating <strong class="bold">trust relationships</strong> (<a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/edit_trust.html">https://docs.aws.amazon.com/directoryservice/latest/admin-guide/edit_trust.html</a>) for your role. On the <strong class="bold">Summary</strong> page for your SageMaker notebook execution role, click the <strong class="bold">Trust relationships</strong> tab, and click <strong class="bold">Edit trust relationship</strong>.</li>
				<li>Copy the following JSON snippet and paste it in the <strong class="bold">Policy Document</strong> input field. This statement allows Amazon SageMaker, Amazon S3, and Amazon Comprehend the ability to assume the SageMaker notebook execution role permissions. Depending on the chapter and the use case we are building, the services <a id="_idIndexMarker073"/>that will need to assume the role will vary and you will be instructed accordingly. For now, please consider the following JSON snippet <a id="_idIndexMarker074"/>as an example to understand how to edit trust relationships:<p class="source-code">{ "Version": "2012-10-17", "Statement": [</p><p class="source-code">  { "Effect": "Allow", </p><p class="source-code">    "Principal": </p><p class="source-code">      { "Service": </p><p class="source-code">          [ "sagemaker.amazonaws.com", </p><p class="source-code">            "s3.amazonaws.com", </p><p class="source-code">            "comprehend.amazonaws.com" ] </p><p class="source-code">          }, </p><p class="source-code">          "Action": "sts:AssumeRole" } </p><p class="source-code">      ] </p><p class="source-code">  }</p></li>
				<li>Click the <strong class="bold">Update Trust Policy</strong> button at the bottom right of the page.</li>
				<li>You should see the <strong class="bold">trusted entities</strong> updated for your role.</li>
			</ol>
			<p>And you are all set. In this section, you learned how to update the IAM role for your Amazon <a id="_idIndexMarker075"/>SageMaker notebook instances to add permissions policies, add a custom inline <a id="_idIndexMarker076"/>policy, and, finally, edit the trust relationships to add the trusted entities you needed for your solution build. You may now go back to the chapter you navigated to here from and continue your solution build task.</p>
			<h1 id="_idParaDest-32"><a id="_idTextAnchor034"/>Overcoming challenges with document processing</h1>
			<p>Automating operational activities is very important for organizations looking to minimize costs, increase productivity, and enable faster go-to-market cycles. Typically, operations <a id="_idIndexMarker077"/>that are at the core of these businesses are prioritized for automation. Back-office support processes, including administrative tasks, are often relegated to the bottom of the priority list because they may not be deemed <em class="italic">mission critical</em>. According to this <em class="italic">Industry Analysts</em> report (<a href="https://www.industryanalysts.com/111015_konica/">https://www.industryanalysts.com/111015_konica/</a>, <em class="italic">written in 2015, with data collected from sources such as Gartner Group, AIIM, the US Department of Labor, Imaging Magazine, and Coopers and Lybrand,</em> <em class="italic">and</em> <em class="italic">accessed on March 30, 2021</em>), organizations continue to be reliant on paper-based documents, and the effort required to maintain these documents poses significant challenges due to the lack of automation and inefficiencies in the document workflow.</p>
			<p>Many organizations, such as financial institutions, healthcare, manufacturing, and other small-to-medium-sized enterprises, have a large number of scanned and handwritten documents. These documents can be in various formats, such as invoices, receipts, resumes, application forms, and so on. Moreover, these documents are not kept in one place; instead, they are in silos, which makes it really difficult to uncover useful insights from these documents. Suppose that you have an archive of documents that you would like to extract data from. And let's say we build an application that makes it easy for you to search across the vast collection of documents in these archives. Extracting data from these documents is really important for you as they contain a lot of useful information that is relevant for your organization. Once you extract the information you need (of course, we first have to determine what is useful and what is not), you can do so many things, such as discover business context, set up compliance, design search and discovery for important keywords, and automate your existing business processes.</p>
			<p>As time progresses, we see more organizations embracing digital media for their business processes due to the ease of integration with their operational systems, but paper-based documents are not going away anytime soon. According to this article (<a href="https://medium.com/high-peak-ai/real-time-applications-of-intelligent-document-processing-993e314360f9">https://medium.com/high-peak-ai/real-time-applications-of-intelligent-document-processing-993e314360f9</a>, <em class="italic">accessed on March 30, 2021</em>), there is in fact an increase in the usage of paper documents in organizations. And that's why it's really important to automate document processing workflows.</p>
			<p>So, what is the problem with paper documents? The problem is the cost and time required to extract the data from documents using traditional approaches. One of the most <a id="_idIndexMarker078"/>common approaches is <strong class="bold">manual processing</strong> of these documents. What is manual processing? A human will read the documents and then key all the values into an application or copy and paste them into another document. This approach is highly inefficient and expensive: not only do you need to invest time and effort to train the human workforce <a id="_idIndexMarker079"/>to understand the data domain they are working with, but also there may be errors in data entry due to human nature. For example, when working with tax forms and financial forms, you <a id="_idIndexMarker080"/>would need an experienced <strong class="bold">Certified Public Accountant </strong>(<strong class="bold">CPA</strong>) to do that manual entry, as this would require accounting knowledge to extract the details needed. So, we can see that a traditional approach with manual processing of documents is time consuming, error prone, and expensive.</p>
			<p>Another <a id="_idIndexMarker081"/>approach that we have seen organizations use is rule-based formatting templates along with <strong class="bold">Optical Character Recognition</strong> (<strong class="bold">OCR</strong>) systems to extract data from these documents. The challenge with this method is that these rule-based systems are not intelligent enough to adapt to evolving document formats, and often break with even minor template changes. As businesses grow and expand, their underlying processes need the flexibility to adapt, and this often leads to working with multiple document structures, often running to hundreds or even thousands of formats. Trying to set up and manage these formats for each document type can turn into a huge maintenance overhead pretty quickly and it can become challenging to update these formats in rule-based systems once the document format changes. Another challenge to consider is the provisioning of infrastructure and the scaling required to handle millions of such documents and the associated costs.</p>
			<p>That's why we have <strong class="bold">Amazon Textract</strong>, a fully managed ML and AI service, built with out-of-the-box features to extract handwritten and printed text in forms, tables, and pages from images and PDF documents. Textract provides <strong class="bold">Application Programming Interfaces </strong>(<strong class="bold">APIs</strong>) behind which run powerful ML models <a id="_idIndexMarker082"/>trained on millions of documents to provide a highly effective solution for intelligent text extraction.</p>
			<p>So, we covered <a id="_idIndexMarker083"/>the challenges with processing documents in this section and why we need Amazon Textract. In the next section, we will talk about how Amazon Textract can quickly help organizations solve this pain point.</p>
			<h1 id="_idParaDest-33"><a id="_idTextAnchor035"/>Understanding how Amazon Textract can help</h1>
			<p>We covered <em class="italic">AWS AI Services</em> briefly in <a href="B17528_01_Final_SB_ePub.xhtml#_idTextAnchor020"><em class="italic">Chapter 1</em></a><em class="italic">,</em> <em class="italic">NLP in the Business Context and Introduction to AWS AI Services,</em> when introducing the <em class="italic">business context for NLP</em>. Amazon Textract is an OCR-based service in the AWS AI Services stack that comes with ready-made intelligence, enabling you to use it without any prior ML experience for your document <a id="_idIndexMarker084"/>processing workflows. It is interesting to note that Amazon Textract has its origins in the deep learning ML models built for <a href="http://Amazon.com">Amazon.com</a>. It comes with a pre-trained model and provides APIs where you can send your documents in PDF or image format and get a response as text/tables and key/value pairs along with a confidence score.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">Amazon Textract currently supports PNG, JPEG, and PDF formats.</p>
			<p>Amazon Textract provides serverless APIs without you needing to manage any kind of infrastructure, enabling you to quickly automate document management and scale to process millions of documents. Once the document content is extracted, you can leverage it within your business applications for a variety of document processing use cases for your industry and operational requirements. Amazon Textract models learn as they go, so they become more intelligent in understanding your documents as you continue to use them. Please refer to the following list for a subset of Amazon Textract usage examples we will be covering in the upcoming chapters:</p>
			<ul>
				<li><strong class="bold">Natural language processing (NLP)</strong><em class="italic"> for text extraction</em> – This use case will show an end-to-end example of how to use Textract to get text from documents and then perform NLP techniques on the text to derive insights. We will cover some of these key concepts with an example in <a href="B17528_03_Final_SB_ePub.xhtml#_idTextAnchor049"><em class="italic">Chapter 3</em></a><em class="italic">, Introduction to Amazon Comprehend</em>.</li>
				<li><em class="italic">Quickly set up automated document processing workflows</em> – In this use case we will see how to build a solution using Textract and other AWS services to automate common document management tasks, such as a loan application approval workflow, resulting in cost and time savings. This use case will be covered as part of <a href="B17528_04_Final_SB_ePub.xhtml#_idTextAnchor063"><em class="italic">Chapter 4</em></a><em class="italic">, Automating Document Processing Workflows.</em></li>
				<li><em class="italic">Building a scalable intelligent centralized search index</em> – Amazon Textract enables you to <a id="_idIndexMarker085"/>extract data from scanned documents and store it in Amazon <em class="italic">S3</em>. Amazon S3 is a cost-effective and scalable object storage solution. The data in Amazon S3 can be indexed using <strong class="bold">Amazon Elasticsearch</strong> and you can make your archives searchable. You can also create a <a id="_idIndexMarker086"/>centralized search solution for your data sitting in silos by moving them into Amazon S3. We will cover this use case in <a href="B17528_05_Final_SB_ePub.xhtml#_idTextAnchor074"><em class="italic">Chapter 5</em></a><em class="italic">, Creating NLP Search.</em></li>
				<li><em class="italic">Implementing compliance in archival documents </em>– Because of Textract's inherent ML capabilities, it can identify text in pages, tables, and forms automatically. This feature is especially helpful when you want to build intelligent systems that depend on document metadata for determining compliance with business processes. We will look at an example of this use case in <a href="B17528_06_Final_SB_ePub.xhtml#_idTextAnchor089"><em class="italic">Chapter 6</em></a><em class="italic">, Using NLP to Improve Customer Service Efficiency.</em></li>
				<li><em class="italic">Building automated data capture from forms into existing apps/chatbots</em> – Amazon Textract provides APIs that you can use within your applications with a diverse collection of document types. For example, you may need to query receipts from your vendors and use that to make decisions as part of your operations. In this use case we will see how to use a chatbot with your document <a id="_idIndexMarker087"/>processing application using <strong class="bold">Amazon Lex</strong> (<a href="https://aws.amazon.com/lex/">https://aws.amazon.com/lex/</a>). This will be covered in detail in <a href="B17528_08_Final_SB_ePub.xhtml#_idTextAnchor106"><em class="italic">Chapter 8</em></a><em class="italic">, Leveraging NLP to Monetize Your Media Content.</em></li>
			</ul>
			<p>As you can see, Amazon Textract can be used for various types of document processing use cases and <a id="_idIndexMarker088"/>provides several advanced benefits that you would not find in traditional rule-based systems or OCR solutions. You can read some of these benefits here:</p>
			<ul>
				<li><em class="italic">Text? Structured? Unstructured? Textract to the rescue</em>: Amazon Textract uses AI and ML to detect structured text in tables and unstructured text such as textual data from documents in pages, lines, and words. Amazon Textract first determines the layout of the document, then detects the types of content in the document, along with their relationships and context, prior to extraction. It also provides a confidence score with each detected text, table, and key/value pair. We will see some examples in the next section.</li>
				<li><em class="italic">Amazon Textract overcomes the limitations of OCR</em>: While Amazon Textract uses OCR implicitly, that is not the only benefit. You do not have to worry about maintaining various templates and formats as it uses ML rather than a template-based approach. So, it works for all kinds of document templates used across industries, for example invoices, receipts, employment forms, resumes, tax preparation docs, medical claim forms, technical specifications, and more.</li>
				<li><em class="italic">Security and compliance</em>: Security is the highest priority at AWS. Amazon Textract conforms to the Shared Responsibility Model (<a href="https://aws.amazon.com/compliance/shared-responsibility-model/">https://aws.amazon.com/compliance/shared-responsibility-model/</a>).<p>To understand the security and compliance features of Amazon Textract, please refer to <a href="https://docs.aws.amazon.com/textract/latest/dg/security.html">https://docs.aws.amazon.com/textract/latest/dg/security.html</a>. Amazon Textract is <a id="_idIndexMarker089"/>covered in multiple AWS compliance programs, including <strong class="bold">System and Organizational Control</strong> (<strong class="bold">SOC</strong>), <strong class="bold">International Organization for Standardization</strong> (<strong class="bold">ISO</strong>), as well as <strong class="bold">PCI</strong> and <strong class="bold">HIPAA</strong>. For more details, please refer to <a href="https://docs.aws.amazon.com/textract/latest/dg/SERVICENAME-compliance.html">https://docs.aws.amazon.com/textract/latest/dg/SERVICENAME-compliance.html</a>.</p></li>
				<li><em class="italic">APIs for easy integration with your applications</em>: Amazon Textract provides APIs <a id="_idIndexMarker090"/>in Java, Python, and other languages. Behind these APIs run powerful ML models to easily extract text from your documents. For a detailed walk-through of the APIs, please refer to the section titled <em class="italic">Using Amazon Textract with your applications</em>.</li>
				<li><em class="italic">Amazon Textract is serverless and scalable</em>: Amazon Textract is a fully managed and serverless service that will automatically scale based on the volumes of documents you need to process. It will scale up to handle additional demand and will scale down once the demand subsides.</li>
				<li><em class="italic">Cost effective</em>: Amazon Textract pricing is similar to other fully managed AWS services. Customers pay only for what they use. For example, the cost to process one page of a document in the us-east-1 region is $0.0015. There is a free tier available for you to get started quickly. For more details, please refer to <a href="https://aws.amazon.com/textract/pricing/">https://aws.amazon.com/textract/pricing/</a>.</li>
			</ul>
			<p>In this section, we briefly <a id="_idIndexMarker091"/>listed some interesting document-processing use cases that Amazon Textract can help solve and reviewed some of the key benefits of Amazon Textract, such as pre-built intelligence, cost effectiveness, scalability, and ease of use. In the next section, we will use the AWS Management Console (<a href="https://console.aws.amazon.com/">https://console.aws.amazon.com/</a>) to walk through Amazon Textract's product features, such as table detection, form detection, handwriting detection, text detection, and multi-language support.</p>
			<h1 id="_idParaDest-34"><a id="_idTextAnchor036"/>Presenting Amazon Textract's product features</h1>
			<p>Alright, it's time <a id="_idIndexMarker092"/>to start exploring the cool features we have been talking about so far. We will start by seeing how you can quickly upload the sample documents provided in our GitHub repository (<a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services</a>) to your Amazon Textract AWS console. Then, we will walk through the key features of Amazon Textract, along with multi-language support by using a French COVID-19 form. We will also cover Amazon Textract's integration with Amazon A2I, which will <a id="_idIndexMarker093"/>quickly help set up a human review workflow for the text, which needs to be highly accurate, such as an invoice amount (<a href="https://aws.amazon.com/augmented-ai/">https://aws.amazon.com/augmented-ai/</a>) at a high level. We will cover the following:</p>
			<ol>
				<li value="1">Sign in to your AWS Management Console.</li>
				<li>Upload sample document(s).</li>
				<li>Raw text or text extraction.</li>
				<li>Key value extraction or form values.</li>
				<li>Table extraction.</li>
				<li>Multiple language support.</li>
				<li>Handwriting extraction.</li>
				<li>Amazon Augmented AI or A2I support for human in the loop.</li>
			</ol>
			<p>As a first step, please refer to the <em class="italic">Technical requirements</em> section to sign up for an AWS account and sign in to get started.</p>
			<h2 id="_idParaDest-35"><a id="_idTextAnchor037"/>Uploading sample document(s)</h2>
			<p>Now, let's <a id="_idIndexMarker094"/>see how to upload a document to Textract:</p>
			<ol>
				<li value="1">Download the sample documents from the GitHub repository (<a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/employment_history.png">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/employment_history.png</a>).</li>
				<li>In your AWS Management Console, in the <strong class="bold">Services</strong> search window, start typing <strong class="source-inline">Textract</strong>, and select <strong class="bold">Amazon Textract</strong>. </li>
				<li>Now click on <strong class="bold">Try Amazon Textract</strong> and click the <strong class="bold">Upload Document</strong> button to select the document you downloaded in <em class="italic">step 1</em>: </li>
			</ol>
			<div>
				<div id="_idContainer020" class="IMG---Figure">
					<img src="Images/B17528_02_01.jpg" alt="Figure 2.1 – Click the Upload document button on Amazon Textract console&#13;&#10;" width="1377" height="211"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.1 – Click the Upload document button on Amazon Textract console</p>
			<p>This will <a id="_idIndexMarker095"/>upload the document to Amazon Textract:</p>
			<div>
				<div id="_idContainer021" class="IMG---Figure">
					<img src="Images/B17528_02_02.jpg" alt="Figure 2.2 – Employment application.png" width="585" height="306"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.2 – Employment application.png</p>
			<h2 id="_idParaDest-36"><a id="_idTextAnchor038"/>Raw text or text extraction</h2>
			<p>The <a id="_idIndexMarker096"/>following analysis is displayed in the <a id="_idIndexMarker097"/>Amazon Textract console:</p>
			<div>
				<div id="_idContainer022" class="IMG---Figure">
					<img src="Images/B17528_02_03.jpg" alt="Figure 2.3 – Amazon Textract console for text extraction&#13;&#10;" width="1650" height="752"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.3 – Amazon Textract console for text extraction</p>
			<p>Click <a id="_idIndexMarker098"/>on the <strong class="bold">Raw text</strong> tab to see the <a id="_idIndexMarker099"/>extracted text:</p>
			<div>
				<div id="_idContainer023" class="IMG---Figure">
					<img src="Images/B17528_02_04.jpg" alt="Figure 2.4 – Amazon Textract text response as lines and words&#13;&#10;" width="577" height="417"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.4 – Amazon Textract text response as lines and words</p>
			<p class="callout-heading">Note</p>
			<p class="callout">Amazon Textract provides support for rotated documents. Please refer to <a href="https://docs.aws.amazon.com/textract/latest/dg/limits.html">https://docs.aws.amazon.com/textract/latest/dg/limits.html</a> for more details on Textract service limits.</p>
			<h3>Working with multi-page documents</h3>
			<p>Amazon Textract has the intelligence to recognize that some documents have multiple formats <a id="_idIndexMarker100"/>in them and is able to extract content accordingly. For example, you may be working with reports or a request for proposal document with multiple segments. Please download the image shown in <em class="italic">Figure 2.4</em> (<a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/two-column-image.jpeg">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/two-column-image.jpeg</a>) and upload it to the Amazon Textract console to try this out:</p>
			<div>
				<div id="_idContainer024" class="IMG---Figure">
					<img src="Images/B17528_02_05.jpg" alt="Figure 2.5 – Multi-page scanned image sample" width="555" height="391"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.5 – Multi-page scanned image sample</p>
			<p>Amazon <a id="_idIndexMarker101"/>Textract will extract the pages and the paragraphs, along with the lines and the words. Also, it will give you the exact positions of these words and paragraphs in the document, which is very important for context. See the following screenshot to understand the bounding box or geometry derived using Textract:</p>
			<div>
				<div id="_idContainer025" class="IMG---Figure">
					<img src="Images/B17528_02_06.jpg" alt="Figure 2.6 – Textract bounding box response for detected text&#13;&#10;" width="912" height="485"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.6 – Textract bounding box response for detected text</p>
			<p>Here <a id="_idIndexMarker102"/>is a screenshot of this document in the AWS console: </p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="Images/B17528_02_07.jpg" alt="Figure 2.7 – Multi-page scanned image Amazon Textract text response in the AWS console" width="1608" height="758"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.7 – Multi-page scanned image Amazon Textract text response in the AWS console</p>
			<h2 id="_idParaDest-37"><a id="_idTextAnchor039"/>Form data and key/value pairs</h2>
			<p>Amazon Textract <a id="_idIndexMarker103"/>segments documents <a id="_idIndexMarker104"/>to identify forms so it can return your key/value pairs from these forms. We will use the employment application sample document template (<a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/emp_app_printed.png">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/emp_app_printed.png</a>), which you downloaded from the GitHub repository:</p>
			<ol>
				<li value="1">Click on the <strong class="bold">Upload document</strong> button in the Amazon Textract console:<div id="_idContainer027" class="IMG---Figure"><img src="Images/B17528_02_08.jpg" alt="Figure 2.8 – Upload document button in the Textract console&#13;&#10;" width="754" height="102"/></div><p class="figure-caption">Figure 2.8 – Upload document button in the Textract console</p></li>
				<li>Click <a id="_idIndexMarker105"/>on the <strong class="bold">Forms</strong> tab. You <a id="_idIndexMarker106"/>will see the extracted key/value pairs, as shown:</li>
			</ol>
			<div>
				<div id="_idContainer028" class="IMG---Figure">
					<img src="Images/B17528_02_09.jpg" alt="Figure 2.9 – Sample document form and key/value pair extraction in the Amazon Textract console&#13;&#10;" width="899" height="407"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.9 – Sample document form and key/value pair extraction in the Amazon Textract console</p>
			<h2 id="_idParaDest-38"><a id="_idTextAnchor040"/>Table extraction</h2>
			<p>Amazon Textract <a id="_idIndexMarker107"/>can recognize if your document has content structured in tables, for example, receipts, or a listing of technical specifications, pharmacy prescription data, and so on. Textract provides you with the ability to specify whether it should look for tables in your documents when using the API. Along with the table and its contents, Textract returns metadata and indexing information of the table contents, which you can find out more about in the API walk-through later. For this demo, you can download this sample receipt (<a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/receipt-image.png">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/receipt-image.png</a>) and upload it <a id="_idIndexMarker108"/>into the Amazon Textract console. You will get the extracted table shown in the following screenshot:</p>
			<div>
				<div id="_idContainer029" class="IMG---Figure">
					<img src="Images/B17528_02_10.jpg" alt="Figure 2.10 – Table extraction of sample receipt in the Amazon Textract console." width="1650" height="732"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.10 – Table extraction of sample receipt in the Amazon Textract console.</p>
			<h2 id="_idParaDest-39"><a id="_idTextAnchor041"/>Multiple language support</h2>
			<p>Amazon Textract provides support for extracting text in multiple languages. For the latest list <a id="_idIndexMarker109"/>of languages supported, please refer to this link: <a href="https://aws.amazon.com/textract/faqs/">https://aws.amazon.com/textract/faqs/</a>.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">Handwriting support is available only in English at the time of writing (<em class="italic">April 2021</em>).</p>
			<p>During the COVID lockdown in France, anyone wishing to leave their house had to fill in a declaration form to explain why they were outside. We will use this sample form to demo the Amazon Textract language detection feature for the French language. The form is available at <a href="https://www.connexionfrance.com/French-news/Covid-19-in-France-Your-questions-on-declaration-form-needed-to-leave-the-house">https://www.connexionfrance.com/French-news/Covid-19-in-France-Your-questions-on-declaration-form-needed-to-leave-the-house</a>.</p>
			<p>You can also download this form from <a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/form-derogatoire.jpg">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/form-derogatoire.jpg</a> and upload it to the Amazon Textract console. Click on the <strong class="bold">Raw text</strong> tab, then <strong class="bold">Forms</strong>:</p>
			<div>
				<div id="_idContainer030" class="IMG---Figure">
					<img src="Images/B17528_02_11.jpg" alt="Figure 2.11 – French data extraction from a sample scanned COVID form in French&#13;&#10;" width="1650" height="718"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.11 – French data extraction from a sample scanned COVID form in French</p>
			<p>Amazon <a id="_idIndexMarker110"/>Textract is able to detect both key/value pairs and raw text from this form in French.</p>
			<h2 id="_idParaDest-40"><a id="_idTextAnchor042"/>Handwriting detection</h2>
			<p>Another very common challenge customers face with data extraction is when you have mixed <a id="_idIndexMarker111"/>content documents, such as handwritten text along with printed text. This could be, for example, a prescription form that doctors write for their patients on paper printed with the doctor's name and address. This brings us to another key feature of Amazon Textract: detecting handwritten content from documents:</p>
			<ol>
				<li value="1">Download the sample handwritten invoice from the GitHub repository (<a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/sample-invoice.png">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/sample-invoice.png</a>).</li>
				<li>Upload the sample into the Amazon Textract console, as shown in <em class="italic">Figure 2.12</em>. Amazon Textract is able to extract handwritten as well as printed key/value pairs (form data), tables, and text from the sample document:<div id="_idContainer031" class="IMG---Figure"><img src="Images/B17528_02_12.jpg" alt="Figure 2.12 – Handwritten as well as printed text extracted from a sample invoice&#13;&#10;" width="1650" height="729"/></div><p class="figure-caption">Figure 2.12 – Handwritten as well as printed text extracted from a sample invoice</p></li>
				<li>You <a id="_idIndexMarker112"/>can change tabs to <strong class="bold">Form</strong>s and <strong class="bold">Tables</strong> to see how Amazon Textract is able to quickly extract this handwritten and printed content from this sample document.</li>
			</ol>
			<h2 id="_idParaDest-41"><a id="_idTextAnchor043"/>Human in the loop</h2>
			<p>Amazon Textract provides <a id="_idIndexMarker113"/>in-built integration with <strong class="bold">Amazon A2I </strong>(<a href="https://aws.amazon.com/augmented-ai/">https://aws.amazon.com/augmented-ai/</a>). Using Amazon A2I, you can build human workflows <a id="_idIndexMarker114"/>to manage certain documents that require further review by a human for auditing purposes, or just to review the ML predictions. For example, social security numbers or monetary amounts may need to be highly accurate. It is similar to having a first pass of getting text from AI and then using human teams to double-check what the AI has predicted for you.</p>
			<p>We will cover handwriting and human in the loop in detail when we get to <a href="B17528_17_Final_SB_ePub.xhtml#_idTextAnchor202"><em class="italic">Chapter 17</em></a><em class="italic">, Visualizing Insights from Handwritten Content</em>.</p>
			<p>Lastly, the Textract console provides you the option to download and review the JSON documents that are the result of the API responses that were invoked for the various Textract features we walked through:</p>
			<div>
				<div id="_idContainer032" class="IMG---Figure">
					<img src="Images/B17528_02_13.jpg" alt="Figure 2.13 – Download Textract results from console&#13;&#10;" width="1399" height="214"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.13 – Download Textract results from console</p>
			<p>In this <a id="_idIndexMarker115"/>section, we walked through Amazon Textract's key product features to extract text, forms, tables, and handwritten content from PDF and image documents, including support for documents in multiple languages. In the next section, we will review how to use Amazon Textract APIs, walk through the JSON responses in detail, and understand how to use Textract with your applications.</p>
			<h1 id="_idParaDest-42"><a id="_idTextAnchor044"/>Using Amazon Textract with your applications</h1>
			<p>In this section, we will introduce and walk through the Amazon Textract APIs for real-time analysis <a id="_idIndexMarker116"/>and batch processing of documents. We will show these APIs in action using Amazon SageMaker Jupyter notebooks. For this <a id="_idIndexMarker117"/>section, you will need to create an Amazon SageMaker Jupyter notebook and set up <strong class="bold">IAM</strong> permissions for that notebook role to access Amazon Textract. After that you will need to clone the notebook from our GitHub repository (<a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services</a>), download the sample images, create an Amazon S3 (<a href="https://aws.amazon.com/s3/">https://aws.amazon.com/s3/</a>) bucket, upload these images to the S3 bucket, and then refer to this location in the notebook for processing.</p>
			<p>Let's get started:</p>
			<ol>
				<li value="1">For instructions to create an Amazon SageMaker notebook instance, please refer to the <em class="italic">Creating an Amazon SageMaker Jupyter notebook instance</em> sub-section in the <em class="italic">Setting up your AWS environment</em> section at the beginning of this chapter. Alternatively, you can refer to the Amazon SageMaker documentation to create a notebook instance: <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/gs-setup-working-env.html">https://docs.aws.amazon.com/sagemaker/latest/dg/gs-setup-working-env.html</a>.<p class="callout-heading">IAM role permissions while creating Amazon SageMaker Jupyter notebooks</p><p class="callout">First, accept the default for the IAM role at notebook creation time to allow access to any S3 bucket. After the notebook instance is created, follow the instructions in the <em class="italic">sub-section Changing IAM permissions and trust relationships for the Amazon SageMaker notebook execution role</em> under the section,  <em class="italic">Setting up your AWS environment</em> at the beginning of this chapter to add <strong class="bold">AmazonTextractFullAccess</strong> as a permissions policy to the notebook's IAM role.</p></li>
				<li>Once <a id="_idIndexMarker118"/>you have created the notebook instance and its status is <strong class="bold">InService</strong>, click on <strong class="bold">Open Jupyter</strong> in the <strong class="bold">Actions</strong> menu heading for the notebook instance:<div id="_idContainer033" class="IMG---Figure"><img src="Images/B17528_02_14.jpg" alt="Figure 2.14 – Open the Jupyter notebook&#13;&#10;" width="1426" height="361"/></div><p class="figure-caption">Figure 2.14 – Open the Jupyter notebook</p><p>This will take you to the home folder of your notebook instance.</p></li>
				<li>Click on <strong class="bold">New</strong> and select <strong class="bold">Terminal</strong><em class="italic">,</em> as shown in the following screenshot:<div id="_idContainer034" class="IMG---Figure"><img src="Images/B17528_02_15.jpg" alt="Figure 2.15 – Open Terminal in a Jupyter notebook&#13;&#10;" width="848" height="794"/></div><p class="figure-caption">Figure 2.15 – Open Terminal in a Jupyter notebook</p></li>
				<li>In the <a id="_idIndexMarker119"/>terminal window, first type <strong class="source-inline">cd SageMaker</strong> and then type <strong class="source-inline">git clone https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services</strong>, as shown in the following screenshot:<div id="_idContainer035" class="IMG---Figure"><img src="Images/B17528_02_16.jpg" alt="Figure 2.16 – git clone command&#13;&#10;" width="572" height="91"/></div><p class="figure-caption">Figure 2.16 – git clone command</p></li>
				<li>Now, exit the terminal window, go back to the home folder, and you will see a folder called <strong class="source-inline">Chapter 02</strong>. Open the folder and you should see a notebook called <strong class="bold">Amazon Textract API Sample.ipynb</strong>. Open this notebook by clicking it.</li>
				<li>Follow <a id="_idIndexMarker120"/>through the steps in this notebook that correspond to the next few subheadings in this section by executing one cell at a time. Please read the descriptions provided above each notebook cell.</li>
			</ol>
			<h2 id="_idParaDest-43"><a id="_idTextAnchor045"/>Textract APIs</h2>
			<p>Before jumping into a notebook demo of how you can use the Textract APIs, we will explore <a id="_idIndexMarker121"/>the APIs and their features. Amazon Textract APIs can be classified into synchronous APIs for real-time processing and asynchronous APIs for batch processing. Let's now examine the functions of these APIs.</p>
			<h3>Synchronous APIs for real-time processing</h3>
			<p>These APIs take single-page scanned images (JPG or PNG) from your existing filesystem, which <a id="_idIndexMarker122"/>is local to your <a id="_idIndexMarker123"/>computer, or in an Amazon S3 bucket. There are two APIs for real-time analysis:</p>
			<ul>
				<li><strong class="bold">Detect Document Text API</strong>: This API will extract words and lines from scanned images. You can use this API for use cases where you just want the text content <a id="_idIndexMarker124"/>from the scans, and your data does not have forms or tables, such as story books, student exam papers, and scanned news articles. You can use this API in web or mobile applications to quickly scan text from documents in real time. Another way to use this API is to extract the text data and perform further NLP on this data, such as to identify paragraphs and headers, perform further data labeling for key/value pairs, or use it for downstream processing.<p class="callout-heading">Key/value pairs</p><p class="callout">Key/value pairs in the case of a form means the key will be the name and the value will be "Jane Doe."</p></li>
				<li><strong class="bold">Analyze Document API</strong>: This API is much more comprehensive in its function and can <a id="_idIndexMarker125"/>help you extract text from scanned images and identify forms (key/value pairs) and tables from documents. You can use this API with various types of documents, such as invoices, receipts, medical intake forms, resumes, tax forms, and all types of financial forms. You can create an application where a user can take pictures of receipts and use this API to do a quick analysis of the invoice to retrieve the amount or the invoice ID.</li>
			</ul>
			<h3>Asynchronous APIs for batch processing</h3>
			<p>These <a id="_idIndexMarker126"/>APIs accept single-page or multi-page images (JPG/PNG) and PDFs that are uploaded to an Amazon S3 bucket. It runs a batch analysis to extract content from these images and documents:</p>
			<ul>
				<li><strong class="bold">StartDocumentAnalysis</strong>: This API is similar to the <strong class="source-inline">AnalyzeDocument</strong> synchronous API in function, as it will extract text, tables, and form data from the <a id="_idIndexMarker127"/>input documents. The difference is this API also supports PDF documents. Input documents should be stored in an Amazon S3 bucket, and its S3 URL should be provided to this API. This API will start the batch job for document analysis.</li>
				<li><strong class="bold">GetDocumentAnalysis</strong>: This <a id="_idIndexMarker128"/>API will receive the results for an Amazon Textract <strong class="source-inline">StartDocumentAnalysis</strong> operation in the form of key/value pairs, tables, and text. This also returns the job ID and their success or failure status.</li>
				<li><strong class="bold">StartDocumentTextDetection</strong>: This API is similar to the real-time <strong class="source-inline">DetectDocumentText</strong> API in<a id="_idIndexMarker129"/> functionality as it detects text from documents in batches that have been uploaded to an Amazon S3 bucket. We will see this API demo in the Python notebook example.</li>
				<li><strong class="bold">GetDocumentTextDetection</strong>: This API is used to retrieve the results of an Amazon <a id="_idIndexMarker130"/>Textract <strong class="source-inline">StartDocumentTextDetection</strong> operation in the form of lines and words. This also returns the job ID and its success or failure status.<p class="callout-heading">Note</p><p class="callout">Batch APIs can be used with JPEG, PNG, and PDF documents stored in an Amazon S3 bucket.</p></li>
			</ul>
			<p>In this <a id="_idIndexMarker131"/>section, we covered <a id="_idIndexMarker132"/>batch and real-time APIs of Amazon Textract. In the next section, we will see the implementation of these APIs through the Jupyter notebook you set up in the previous section.</p>
			<h2 id="_idParaDest-44"><a id="_idTextAnchor046"/>Textract API demo with a Jupyter notebook</h2>
			<p>In this <a id="_idIndexMarker133"/>section, we will provide Textract APIs' implementation through a Jupyter notebook. We will execute the code cells in the Jupyter notebook you set up at <a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/Amazon%20Textract%20API%20Sample.ipynb">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/Amazon%20Textract%20API%20Sample.ipynb</a>, which you cloned in a previous step in a Jupyter notebook environment. The notebook contains the prerequisite steps, and we will walk through the complete code for all the APIs here. We provide only important code snippets in the book, as follows:</p>
			<ul>
				<li><strong class="source-inline">DetectText API</strong> with a document passed from a local filesystem in the form of image bytes</li>
				<li><strong class="source-inline">AnalyzeText API</strong> with a document passed from S3 to detect text, forms, and tables from invoices</li>
				<li>Batch processing with an employment application form using the <strong class="source-inline">StartDocumentText</strong> and <strong class="source-inline">GetDocumentText</strong> APIs</li>
			</ul>
			<h3>DetectText API</h3>
			<p>Let's begin:</p>
			<ol>
				<li value="1">Open <a id="_idIndexMarker134"/>the notebook and execute the first cell to import the <strong class="source-inline">boto3</strong> libraries to set up the Amazon Textract <strong class="source-inline">boto3</strong> Python SDK.</li>
				<li>Refer <a id="_idIndexMarker135"/>to the notebook to set up and install <strong class="source-inline">boto3:</strong><ol><li>Setting up an Amazon S3 Python SDK <strong class="source-inline">boto3</strong> client: <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html">https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html</a>:<p class="source-code">s3 = boto3.client('s3')</p></li><li>Setting up an Amazon Textract Python SDK <strong class="source-inline">boto3</strong> client: <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/textract.html">https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/textract.html</a>:<p class="source-code">textract = boto3.client('textract')</p></li></ol></li>
				<li>Download the sample documents from <a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/sample-invoice.png">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/sample-invoice.png</a>. If you have already cloned this GitHub repository, you don't have to download the sample again, you can directly refer to them from your notebook under <strong class="source-inline">Chapter 02</strong>.</li>
				<li>Follow the instructions in the <em class="italic">Creating an Amazon S3 bucket and a folder and uploading objects</em> sub-section in the <em class="italic">Setting up your AWS environment</em> section to create an S3 bucket and upload your sample documents.</li>
				<li>Copy the name of the Amazon S3 bucket you created and to which you uploaded the sample documents and paste it in the notebook:<p class="source-code">s3BucketName = "&lt;your amazon s3 bucket&gt;" </p></li>
				<li>Here <a id="_idIndexMarker136"/>is the image <a id="_idIndexMarker137"/>we are going to use in this notebook:<p class="source-code">documentName = "sample-invoice.png"</p><p class="source-code">display(Image(filename=documentName))</p><p>That displays the following image:</p><div id="_idContainer036" class="IMG---Figure"><img src="Images/B17528_02_17.jpg" alt="Figure 2.17 – A sample receipt&#13;&#10;" width="471" height="597"/></div><p class="figure-caption">Figure 2.17 – A sample receipt</p></li>
				<li>Let's <a id="_idIndexMarker138"/>get back to <a id="_idIndexMarker139"/>the notebook and run the following code to see how Amazon Textract's <strong class="source-inline">DetectText API</strong> works.<p>The following code will read the document's content in the form of image bytes:</p><p class="source-code">with open(documentName, 'rb') as document:</p><p class="source-code">    imageBytes = bytearray(document.read())</p></li>
				<li>The following code will call Amazon Textract by passing image bytes from your local file in your filesystem:<p class="source-code">response = textract.detect_document_text(Document={'Bytes': imageBytes})</p><p>You are passing the image bytes directly to this API and getting a JSON response. This JSON response has a structure that contains blocks of identified text, pages, lines, a bounding box, form key values, and tables. In order to understand <a id="_idIndexMarker140"/>the Amazon Textract JSON structure and data types, refer to this link: <a href="https://docs.aws.amazon.com/textract/latest/dg/API_Block.html">https://docs.aws.amazon.com/textract/latest/dg/API_Block.html</a>.</p></li>
				<li>Now <a id="_idIndexMarker141"/>we will import <a id="_idIndexMarker142"/>the JSON Python package so we can print our API responses:<p class="source-code">import json</p><p class="source-code">print (json.dumps(response, indent=4, sort_keys=True))</p></li>
				<li>The following shows a sample JSON response for a line from the document. It consists of blocks, the block type, the confidence score of detecting this block type line, and the geometrical location of the line using bounding boxes, along with the identified text:<p class="source-code">{</p><p class="source-code">            "BlockType": "LINE",</p><p class="source-code">            "Confidence": 99.96764373779297,</p><p class="source-code">            "Geometry": {</p><p class="source-code">                "BoundingBox": {</p><p class="source-code">                    "Height": 0.013190358877182007,</p><p class="source-code">                    "Left": 0.5149770379066467,</p><p class="source-code">                    "Top": 0.16227620840072632,</p><p class="source-code">                    "Width": 0.06892169266939163</p><p class="source-code">                },</p><p class="source-code">                </p><p class="callout-heading">Note</p><p class="callout">This API will not give you forms and tables. It gives only lines, words, and corresponding bounding boxes. This API will be helpful for use cases such as paragraph detection in audit documents and extracting text from scanned books.</p></li>
			</ol>
			<p>Execute <a id="_idIndexMarker143"/>the rest of the <a id="_idIndexMarker144"/>cells in the notebook to explore the JSON response in detail.</p>
			<h3>DetectDocument API</h3>
			<p>Now, we <a id="_idIndexMarker145"/>will show you how you can use the <strong class="source-inline">DetectDocument</strong> API to detect text in two-column documents <a id="_idIndexMarker146"/>in a reading order, with your data in stored in an Amazon S3 bucket:</p>
			<ol>
				<li value="1">Download the sample documents from <a href="https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/two-column-image.jpeg">https://github.com/PacktPublishing/Natural-Language-Processing-with-AWS-AI-Services/blob/main/Chapter%2002/two-column-image.jpeg</a>. If you have already cloned this GitHub repository, you don't have to download the sample again, you can directly refer to it under <strong class="source-inline">Chapter 02</strong>.</li>
				<li>Upload these documents to your Amazon S3 bucket under the <strong class="source-inline">textract-samples</strong> prefix using the instructions here: <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/upload-objects.html">https://docs.aws.amazon.com/AmazonS3/latest/user-guide/upload-objects.html</a>.</li>
				<li>Display the input document from the Amazon S3 bucket:<p class="source-code">documentName = "textract-samples/two-column-image.jpg"</p><p class="source-code">display(Image(url=s3.generate_presigned_url('get_object', Params={'Bucket': s3BucketName, 'Key': documentName})))</p></li>
				<li>Invoke <a id="_idIndexMarker147"/>the <strong class="source-inline">DetectDocumentText</strong> API by specifying the Amazon S3 bucket and the <a id="_idIndexMarker148"/>filename, as shown in the following code snippet. Let's also print the response to review the results:<p class="source-code">Response = textract.detect_document_text(</p><p class="source-code">    Document={</p><p class="source-code">        'S3Object': {</p><p class="source-code">            'Bucket': s3BucketName,</p><p class="source-code">            'Name': documentName</p><p class="source-code">        }</p><p class="source-code">    })</p><p class="source-code">print(response)</p><p class="callout-heading">Note</p><p class="callout">For more <a id="_idIndexMarker149"/>details about the <strong class="source-inline">DetectDocumentText</strong> API, refer to this link: <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/textract.html#Textract.Client.detect_document_text">https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/textract.html#Textract.Client.detect_document_text</a>.</p></li>
				<li>Once we have the response, we will use the following code to parse documents in reading order for multi-page documents. We will use the Amazon Textract JSON response parser to get the lines in reading order. Please run this command to install this library:<p class="source-code">python -m pip install amazon-textract-response-parser </p></li>
				<li>Now, run <a id="_idIndexMarker150"/>the following code to see the results <a id="_idIndexMarker151"/>printed line by line for multi-column format documents:<p class="source-code">doc = Document(response)</p><p class="source-code">for page in doc.pages:</p><p class="source-code">    for line in page.getLinesInReadingOrder():</p><p class="source-code">          print(line[1])</p><p>You get the following response:</p></li>
			</ol>
			<div>
				<div id="_idContainer037" class="IMG---Figure">
					<img src="Images/B17528_02_18.jpg" alt="Figure 2.18 – Textract response for lines in reading order" width="817" height="644"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.18 – Textract response for lines in reading order </p>
			<h3>AnalyzeDocument API</h3>
			<p>Now <a id="_idIndexMarker152"/>we will <a id="_idIndexMarker153"/>analyze invoices with the <strong class="source-inline">AnalyzeDocument</strong> API to extract forms and tables:</p>
			<ol>
				<li value="1">Call the Amazon Textract <strong class="source-inline">AnalyzeDocument</strong> API:<p class="source-code">response = textract.analyze_document(</p><p class="source-code">    Document={</p><p class="source-code">        'S3Object': {</p><p class="source-code">            'Bucket': s3BucketName,</p><p class="source-code">            'Name': documentName</p><p class="source-code">        }</p><p class="source-code">    },</p><p class="source-code">    FeatureTypes=["FORMS","TABLES"])</p></li>
				<li>Run the following code to parse the key/value pairs and search for keys. To make it <a id="_idIndexMarker154"/>easy to parse the Textract response, you can <a id="_idIndexMarker155"/>use the Amazon Textract Response Parser library. We will use this to extract the data and search for some keys: <p class="source-code">doc = Document(response)</p><p class="source-code">for page in doc.pages:</p><p class="source-code">    print("Fields:")</p><p class="source-code">    for field in page.form.fields:</p><p class="source-code">        print("Key: {}, Value: {}".format(field.key, field.value))</p></li>
				<li>In the following code, we are looking for the <strong class="source-inline">Phone Number</strong> ikey n the document:<p class="source-code">    print("\nGet Field by Key:")</p><p class="source-code">    key = "Phone Number:"</p><p class="source-code">    field = page.form.getFieldByKey(key)</p><p class="source-code">    if(field):</p><p class="source-code">        print("Key: {}, Value: {}".format(field.key, field.value))</p></li>
				<li>In the following code, we are looking for the <strong class="source-inline">Address</strong> key in the document:<p class="source-code">    print("\nSearch Fields:")</p><p class="source-code">    key = "address"</p><p class="source-code">    fields = page.form.searchFieldsByKey(key)</p><p class="source-code">    for field in fields:</p><p class="source-code">        print("Key: {}, Value: {}".format(field.key, field.value))</p><p>You <a id="_idIndexMarker156"/>will get the following output:</p><p class="source-code">Fields:</p><p class="source-code">Key: Phone:, Value: 206-555-1234</p><p class="source-code">Key: Phone:, Value: None</p><p class="source-code">Key: Phone:, Value: None</p><p class="source-code">Key: COMMENTS OR SPECIAL INSTRUCTIONS:, Value: loading lack locatal in alley</p><p class="source-code">Key: SALES TAX, Value: 41.21</p><p class="source-code">Key: SHIPPING and HANDLING, Value: 50.00</p><p class="source-code">Key: REQUISITIONER, Value: None</p><p class="source-code">Key: SUBTOTAL, Value: 457.9n</p><p class="source-code">Key: TOTAL DUE, Value: 549.15</p><p class="source-code">Key: SALESPERSON, Value: John SMITH</p><p class="source-code">Key: SHIP TO:, Value: Jane Doe Doe Street Press 987 Doe St. #800 Seattle, WA 98108 206-555-9876</p><p class="source-code">Key: P.O. NUMBER, Value: 0000145678</p><p class="source-code">Key: TO:, Value: Jane Doe Doe Street Press 987 Doe St. #800 Seattle, WA 98108 206-555-9876</p><p class="source-code">Key: DATE:, Value: 01/10/2021</p></li>
				<li>To <a id="_idIndexMarker157"/>parse tables from the JSON response, please refer to the following code snippet:<p class="source-code">doc = Document(response)</p><p class="source-code">for page in doc.pages:</p><p class="source-code">     # Print tables</p><p class="source-code">    for table in page.tables:</p><p class="source-code">        for r, row in enumerate(table.rows):</p><p class="source-code">            for c, cell in enumerate(row.cells):</p><p class="source-code">                print("Table[{}][{}] = {}".format(r, c, cell.text))</p></li>
				<li>You <a id="_idIndexMarker158"/>will see the following response:<p class="source-code">Table[0][0] = QUANTITY </p><p class="source-code">Table[0][1] = DESCRIPTION </p><p class="source-code">Table[0][2] = UNIT PRICE </p><p class="source-code">Table[0][3] = TOTAL </p><p class="source-code">Table[1][0] = 4 </p><p class="source-code">Table[1][1] = OFFILE GARS </p><p class="source-code">Table[1][2] = 64.99 </p><p class="source-code">Table[1][3] = 25996 </p><p class="source-code">Table[2][0] = 2 </p><p class="source-code">Table[2][1] = OFFICE DESX </p><p class="source-code">Table[2][2] = 98.99 </p><p class="source-code">Table[2][3] = 197.98 </p><p class="callout-heading">Note</p><p class="callout">You <a id="_idIndexMarker159"/>can convert these values into a pandas DataFrame, which we will cover in <a href="B17528_16_Final_SB_ePub.xhtml#_idTextAnchor189"><em class="italic">Chapter 16</em></a><em class="italic">, Improving the Accuracy of PDF Batch Processing.</em></p><p class="callout">To find out <a id="_idIndexMarker160"/>more about the API JSON responses, refer to this link: https://docs.aws.amazon.com/textract/latest/dg/how-it-works-tables.html.</p></li>
			</ol>
			<h3>Processing PDF documents using Textract Asynchronous APIs</h3>
			<p>In <a id="_idIndexMarker161"/>this section, you will see how to analyze PDF documents <a id="_idIndexMarker162"/>using Textract <a id="_idIndexMarker163"/>async APIs for a sample job application form:</p>
			<div>
				<div id="_idContainer038" class="IMG---Figure">
					<img src="Images/B17528_02_19.jpg" alt="Figure 2.19 – A sample job application file" width="1340" height="762"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.19 – A sample job application file </p>
			<ol>
				<li value="1">The following code will help you get started with the <strong class="source-inline">StartDocumentText</strong> API and the <strong class="source-inline">GetDocumentText</strong> API:<p class="source-code">jobID = startTextAnalysis(s3Bucket, docName)</p><p class="source-code">print("Started text analysis for: {}".format(jobID))</p><p class="source-code">if(isAnalysisComplete(jobID)):</p><p class="source-code">    response = getAnalysisResults(jobID)</p></li>
				<li>In <a id="_idIndexMarker164"/>this <strong class="source-inline">startTextAnalysis</strong> method, you <a id="_idIndexMarker165"/>call the <strong class="source-inline">StartDocumentTextDetection</strong> API to start the text analysis job:<p class="source-code">def startTextAnalysis(s3Bucket, doc):</p><p class="source-code">    response = None</p><p class="source-code">    response = textract.start_document_text_detection(</p><p class="source-code">    DocumentLocation={</p><p class="source-code">        'S3Object': {</p><p class="source-code">            'Bucket': s3Bucket,</p><p class="source-code">            'Name': doc</p><p class="source-code">        }</p><p class="source-code">    })</p><p class="source-code">    return response["JobID"]</p></li>
				<li>Once <a id="_idIndexMarker166"/>you start the analysis, you use the following method to check whether the analysis is complete:<p class="source-code">def isAnalysisComplete(jobID):</p><p class="source-code">    response = textract.get_document_text_detection(JobId=jobID)</p><p class="source-code">    status = response["JobStatus"]</p><p class="source-code">    print("Text Analysis status: {}".format(status))</p><p class="source-code">    while(status == "IN_PROGRESS"):</p><p class="source-code">        time.sleep(2)</p><p class="source-code">        response = textract.get_document_text_detection(JobId=jobID)</p><p class="source-code">        status = response["JobStatus"]</p><p class="source-code">        print("Status of Text Analysis is: {}".format(status))</p><p class="source-code">    return status</p></li>
				<li>Once <a id="_idIndexMarker167"/>the job <a id="_idIndexMarker168"/>is completed, you <a id="_idIndexMarker169"/>can use the <strong class="source-inline">GetDocumentTextDetection</strong> API to get the results:<p class="source-code">def getAnalysisResults(jobID):</p><p class="source-code">    pages = []</p><p class="source-code">    response = textract.get_document_text_detection(JobId=jobID)</p><p class="source-code">    pages.append(response)</p><p class="source-code">    print("We received results for: {}".format(len(pages)))</p><p class="source-code">    nextToken = None</p><p class="source-code">    if('NextToken' in response):</p><p class="source-code">        nextToken = response['NextToken']</p><p class="source-code">    while(nextToken):</p><p class="source-code">        response = textract.get_document_text_detection(JobId=jobId, NextToken=nextToken)</p><p class="source-code">        pages.append(response)</p><p class="source-code">        print("We got the results for: {}".format(len(pages)))</p><p class="source-code">        nextToken = None</p><p class="source-code">        if('NextToken' in response):</p><p class="source-code">            nextToken = response['NextToken']</p><p class="source-code">    return pages</p></li>
			</ol>
			<p>And we are done with the demo. Hopefully, you have had an opportunity to review and work with the different Textract APIs for real-time and batch processing and have successfully completed your notebook. In the next section, we will see how you can use these APIs to build serverless applications.</p>
			<h2 id="_idParaDest-45"><a id="_idTextAnchor047"/>Building applications using Amazon Textract APIs</h2>
			<p>We have spoken about both synchronous (or real-time) APIs and asynchronous (or batch) APIs. Now, the <a id="_idIndexMarker170"/>question is how to integrate these APIs into an application. You can quickly integrate these APIs into a web <a id="_idIndexMarker171"/>application or any batch processing systems by using AWS Lambda. AWS Lambda runs any code in a serverless manner, be it Java or Python. It's an event-based trigger or programming technique in which you trigger a Lambda function based on an event. For example, you upload your documents to Amazon S3, which can trigger a Lambda function. In that Lambda function, you can call the Amazon Textract APIs and save the results in Amazon S3:</p>
			<div>
				<div id="_idContainer039" class="IMG---Figure">
					<img src="Images/B17528_02_20.jpg" alt="Figure 2.20 – Building serverless architecture with Amazon Textract to use with your apps&#13;&#10;" width="595" height="261"/>
				</div>
			</div>
			<p class="figure-caption">Figure 2.20 – Building serverless architecture with Amazon Textract to use with your apps</p>
			<p>We will cover the architecture in detail in upcoming chapters, where we will talk about how you can build applications using the synchronous versus asynchronous APIs of Amazon Textract. We will also talk about using AWS API Gateway to create RESTful APIs to integrate into your web applications or mobile applications.</p>
			<h1 id="_idParaDest-46"><a id="_idTextAnchor048"/>Summary</h1>
			<p>In this chapter, we saw a detailed introduction to Amazon Textract and its product features, along with a console walk-through, as well as running code samples using Textract APIs for different types of documents using both real-time and batch analysis.</p>
			<p>We started by introducing the ready-made intelligence that Amazon Textract offers with powerful pre-trained ML models, and the ability to use its capabilities in your applications with just an API call. We also read about some popular use cases that Textract can be used for, along with references to some of the following chapters, where we will review those use cases in greater detail. We also read about Textract's benefits as compared to traditional OCR applications and rule-based document processing.</p>
			<p>We covered various examples on how you can use Amazon Textract with different types of scanned images and forms. We reviewed different functions of Textract, such as detecting raw text, detecting form values that are stored as key/value pairs, detecting text in tables, detecting pages of text, detecting lines and words, detecting handwritten text and printed text, and detecting text in multiple languages, as well as detecting text that is written in two-column styles in documents. We covered both synchronous processing and asynchronous processing using Textract APIs. We also saw how to set up an Amazon SageMaker Jupyter notebook, clone the GitHub repository, and get started with running a Jupyter notebook. We were able to use an Amazon S3 bucket to store input documents and use them with Textract, and we were able to extract data from unstructured documents and store them in an Amazon S3 bucket.</p>
			<p>In this chapter, we also covered Amazon Textract real-time APIs such as the <strong class="bold">AnalyzeDocument</strong> API and the <strong class="bold">DetectDocumentText</strong> API. We discussed the expected input document formats for these APIs and their limitations. We then spoke about how you can scale document processing for use cases where you need to extract data in batches. We read about <strong class="bold">batch processing APIs</strong> along with a Python SDK demo. Finally, we introduced an architecture to integrate Textract into your applications using AWS Lambda.</p>
			<p>In the next chapter, you will be introduced to Amazon Comprehend, an AI service that uses ML to uncover insights in text. You will learn about different NLP techniques, review the features for Amazon Comprehend, read about its APIs, learn how you can set up a custom NLP model using Comprehend to detect entities unique to your business, and, like we did in this chapter, you will see Comprehend in action for different use cases.</p>
		</div>
		<div>
			<div id="_idContainer041">
			</div>
		</div>
	</div></body></html>