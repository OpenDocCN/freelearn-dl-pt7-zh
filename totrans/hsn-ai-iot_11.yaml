- en: AI for Smart Cities IoT
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This chapter introduces the reader to smart cities. Case studies will be used
    to demonstrate how the concepts learned in this book can be applied in developing
    various smart city components. When reading this chapter, you''ll learn about
    the following:'
  prefs: []
  type: TYPE_NORMAL
- en: What's a smart city
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The essential components of a smart city
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cities across the globe implementing smart solutions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The challenges in building smart cities
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Writing a code to detect crime description from San Francisco crime data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Why do we need smart cities?
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'According to UN data ([https://population.un.org/wup/DataQuery/](https://population.un.org/wup/DataQuery/)),
    the world population will reach 9.7 billion (9.7 × 10⁹) by the end of 2050\. It''s
    presumed that almost 70% of that population will be an urban population with many
    cities having over 10 million inhabitants. It''s a significant number and, as
    the number grows, not only are we presented with new opportunities, but we also
    face many unique challenges:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/fb2f565d-ca0e-47c7-94db-211787c81fe8.png)'
  prefs: []
  type: TYPE_IMG
- en: Predicted world population (data from UN)
  prefs: []
  type: TYPE_NORMAL
- en: The most difficult challenge is making resources and energy available to all
    of the inhabitants and, at the same time, avoiding environment deterioration.
    At present, cities consume 75% of the world's resources and energy and generate
    80% of greenhouse gases; while there's a trend towards green energy sources, we
    all understand that the earth's resources, such as food and water, are limited. Another
    critical challenge is administration and management; with the growing population,
    strategies will be needed to prevent sanitation problems, mitigate traffic congestion,
    and thwart crime.
  prefs: []
  type: TYPE_NORMAL
- en: Many of these problems can be tamed by the use of AI-enabled IoT.  It's possible
    to use technological advancement to facilitate a new experience for city inhabitants
    and make their day-to-day living more comfortable and secure. This has given rise
    to the concept of smart cities.
  prefs: []
  type: TYPE_NORMAL
- en: 'According to techopedia ([https://www.techopedia.com/definition/31494/smart-city](https://www.techopedia.com/definition/31494/smart-city)),
    a **smart city** is a city that utilizes information and communication technologies
    so that it enhances the quality and performance of urban services (such as energy
    and transportation) so that there''s a reduction in resource consumption, wastage,
    and overall costs. Deakin and AI Waer list four factors that contribute to the
    definition of a smart city:'
  prefs: []
  type: TYPE_NORMAL
- en: Using a wide range of electronic and digital technologies in the city infrastructure
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Employing **Information and Communication Technology** (**ICT**) to transform
    living and working environment
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Embedding ICT in government systems
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing practices and policies that bring people and ICT together to promote
    innovation and enhance the knowledge that they offer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Hence, a smart city would be a city that not only possesses ICT, but also employs
    technology in a way that positively impacts the inhabitants.
  prefs: []
  type: TYPE_NORMAL
- en: 'The paper by Deakin and AI Waer defines a smart city and focuses on the transition
    required:'
  prefs: []
  type: TYPE_NORMAL
- en: Deakin, M., and Al Waer, H. (2011). *From intelligent to smart cities.* *Intelligent
    Buildings International, 3**(3), 140-152*.
  prefs: []
  type: TYPE_NORMAL
- en: '**Artificial Intelligence** (**AI**), together with IoT, has the potential
    to address the key challenges posed by excessive urban population; they can help
    with traffic management, healthcare, energy crisis, and many other issues. IoT
    data and AI technology can improve the lives of the citizens and businesses that
    inhabit a smart city.'
  prefs: []
  type: TYPE_NORMAL
- en: Components of a smart city
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'A smart city has lots of use cases for AI-powered IoT-enabled technology, from
    maintaining a healthier environment to enhancing public transport and safety.
    In the following diagram, you can see some the of use cases for a smart city:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c082b197-29a4-41e3-a1bd-cb96713a4773.png)'
  prefs: []
  type: TYPE_IMG
- en: Smart city components
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we'll provide an overview of the most popular use cases—some
    of them already implemented in smart cities across the world.
  prefs: []
  type: TYPE_NORMAL
- en: Smart traffic management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: AI and IoT can implement smart traffic solutions to ensure that inhabitants
    of a smart city get from one point to another in the city as safely and efficiently
    as possible.
  prefs: []
  type: TYPE_NORMAL
- en: Los Angeles, one of the most congested cities in the world, has implemented
    a smart traffic solution to control the flow of traffic. It has installed road-surface
    sensors and closed-circuit television cameras that send real-time updates about
    the traffic flow to a central traffic management system. The data feed from the
    sensors and cameras is analyzed, and it notifies the users of congestion and traffic
    signal malfunctions. In July 2018, the city further installed **Advanced Transportation
    Controller** (**ATC**) cabinets at each intersection. Enabled with **vehicle-to-infrastructure**
    (**V2I**) communications and 5G connectivity, this allows them to communicate
    with cars that have the traffic light information feature, such as Audi A4 or
    Q7\. You can learn more about the Los Angeles smart transportation system from
    their website ([https://dpw.lacounty.gov/TNL/ITS/](https://dpw.lacounty.gov/TNL/ITS/)).
  prefs: []
  type: TYPE_NORMAL
- en: The launch of automated vehicles embedded with sensors can provide both the
    location and speed of the vehicle; they can directly communicate with the smart
    traffic lights and prevent congestion. Additionally, using historical data, future
    traffic could be predicted and used to prevent any possible congestion.
  prefs: []
  type: TYPE_NORMAL
- en: Smart parking
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Anyone living in a city must have felt the struggle of finding a parking spot,
    especially during the holiday time. Smart parking can ease the struggle. With
    road surface sensors embedded in the ground on parking spots, smart parking solutions
    can determine whether the parking spots are free or occupied and create a real-time
    parking map.
  prefs: []
  type: TYPE_NORMAL
- en: 'The city of Adelaide installed a smart parking system in February 2018, they
    are also launching a mobile app: Park Adelaide, which will provide the user with
    accurate and real-time parking information. The app can provide users with the
    ability to locate, pay for, and even extend the parking session remotely. It''ll
    also give directions to available parking bays, information about parking controls,
    and alerts when the parking session is about to expire. The smart parking system
    of the city of Adelaide aims to also improve traffic flow, reduce traffic congestion,
    and decrease carbon emissions. The details of the smart parking system are available
    in the city of Adelaide website ([https://www.cityofadelaide.com.au/city-business/why-adelaide/adelaide-smart-city/smart-parking](https://www.cityofadelaide.com.au/city-business/why-adelaide/adelaide-smart-city/smart-parking)).'
  prefs: []
  type: TYPE_NORMAL
- en: The **San Francisco Municipal Transportation Agency** (**SAFTA**) implemented
    ([http://sfpark.org](http://sfpark.org)), SFpark a smart parking system. They
    use wireless sensors to detect real-time parking-space occupancy in metered spaces.
    Launched in the year 2013, SFpark has reduced weekday greenhouse gas emissions
    by 25%, the traffic volume has gone down, and drivers' search time has reduced
    by 50%. Another benefit reported by SAFTA is that, by making it easier for people
    to pay for their parking, the loss due to broken parking meters has reduced, and
    hence there's an increase in the parking-related revenue by about $1.9 million.
  prefs: []
  type: TYPE_NORMAL
- en: In London, the city of Westminster ([https://iotuk.org.uk/smart-parking/#1463069773359-c0d6f90f-4dca](https://iotuk.org.uk/smart-parking/#1463069773359-c0d6f90f-4dca))
    also established a smart parking system in the year 2014 in association with Machina
    Research ([https://machinaresearch.com/login/?next=/forecasts/usecase/](https://machinaresearch.com/login/?next=/forecasts/usecase/)).
    Earlier, drivers had to wait an average of 12 minutes, resulting in congestion
    and pollution, but since the installation of the smart parking system, there's
    no need to wait; drivers can find an available parking spot using the mobile.
    This hasn't only reduced congestion and pollution, but has also increased revenue
    generation.
  prefs: []
  type: TYPE_NORMAL
- en: Smart waste management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Waste collection and its proper management and disposal is an essential city
    service. The increase in the urban population necessitates that better smart methods
    for waste management should be adopted. A smart city should holistically address
    its waste management. Adopting AI for smart recycling and waste management can
    provide a sustainable waste management system. In the year 2011, ZenRobotics ([https://zenrobotics.com/](https://zenrobotics.com/)),
    a Finnish company, demonstrated how using computer vision and artificial intelligence
    (a robot) can be trained to sort and pick recycle materials from moving conveyor
    belts. Since then, we have come a long way; many companies provide smart waste
    management solutions and cities and buildings are adopting them. There's a growing
    awareness among leaders and community builders of the potential benefits of the
    deployment of smart city infrastructure.
  prefs: []
  type: TYPE_NORMAL
- en: Barcelona's waste management system ([http://ajuntament.barcelona.cat/ecologiaurbana/en/services/the-city-works/maintenance-of-public-areas/waste-management-and-cleaning-services/household-waste-collection](http://ajuntament.barcelona.cat/ecologiaurbana/en/services/the-city-works/maintenance-of-public-areas/waste-management-and-cleaning-services/household-waste-collection))
    is a good case study. They had sensors and devices fitted on waste bins, which
    can send alert notifications to the authorities that then dispatch the waste collection
    trucks as soon as they are about to be filled. They maintain separate bins for
    paper, plastic, glass, and waste food items in every locality. The Barcelona authorities
    have set up a network of containers connected with underground vacuum pipes, which
    can suck up the trash and leave it in the processing unit; this eliminates the
    need for trash trucks to collect the garbage.
  prefs: []
  type: TYPE_NORMAL
- en: Another good case study is Denmark, waste management ([https://www.smartbin.com/tdc-denmark-cisco-showcase-the-future-of-smart-city-waste-collection/](https://www.smartbin.com/tdc-denmark-cisco-showcase-the-future-of-smart-city-waste-collection/)),
    provided by SmartBin. Collaborating with TDC, Denmark's largest telecom service
    and Cisco, SmartBin has installed sensors to a range of the containers and these
    sensors are integrated with the City Digital Platform. Additionally, lamp posts,
    and traffic lights also have been installed with the sensors that send data to
    the control console at the town hall. The real-time data obtained from these sensors
    help the cleaner services to plan their route for garbage collection more efficiently;
    they only need to go where there's a need for emptying.
  prefs: []
  type: TYPE_NORMAL
- en: Ten solar-powered Bigbelly bins equipped with Wi-Fi units are installed in Sharjah,
    United Arab Emirates; they plan to deploy several hundreds of these smart bins
    in the near future to achieve sustainability goals.
  prefs: []
  type: TYPE_NORMAL
- en: Smart policing
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Crime is unfortunately omnipresent. Every city has a police force trying to
    catch criminals and reduce the crime rate. Smart cities also require policing:
    smart policing, where law enforcement agencies employ evidence-based data-driven
    strategies that are effective, efficient, and economical. The concept of smart
    policing emerged somewhere in 2009, driven mainly due to limited budget constraints.
    The fundamental idea driving the smart policing concept was given by Herman Goldstein
    (University of Wisconsin, 1979). He argued that police shouldn''t view criminal
    incidents as isolated events but, instead, as overt systems of problems that have
    a history and a future.'
  prefs: []
  type: TYPE_NORMAL
- en: 'In the US, the **Bureau of Justice Assistance** (**BJA**) has funded many **Smart
    Policing Initiatives** (**SPI**) and according to its findings, these initiatives
    have resulted in significantly reducing the violent crimes. The SPI focuses on
    police-research partnership, where the research partner provides ongoing data
    collection and analysis, monitors the data, participates in solution development,
    and assesses its impact. These initiatives have helped police identify the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Hot-spots of crime
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Prolific offenders
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Singapore has also initiated its smart nation initiative. A network of cameras
    and sensors have been installed on almost every corner of the city. They use the
    feed obtained from them to identify where people are smoking in prohibited zones,
    or are loitering from a high-rise housing. The cameras enable the authorities
    to monitor crowd density, cleanliness of public places, and even track the exact
    movement of all registered vehicles. The camera feed is fed into an online platform
    called **Virtual Singapore**, which provides information about how the city is
    working on a real-time basis.
  prefs: []
  type: TYPE_NORMAL
- en: Smart lighting
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Street lights are necessary, but they consume a lot of energy. Smart lighting
    systems can help make street light energy efficient. Besides this, the lamp posts
    can also be fitted with additional sensors, or serve as Wi-Fi network hotspots.
  prefs: []
  type: TYPE_NORMAL
- en: One such invention that can help install smart lighting in any city is CitySense
    ([https://www.tvilight.com/citysense/](https://www.tvilight.com/citysense/)),
    an award-winning streetlight motion sensor; it has integrated wireless lighting
    control. Designed for harsh external environments, CitySense offers on-demand
    adaptive lighting. The lamps can adjust their brightness based on the presence
    of pedestrians, cyclists or cars. It employs a real-time mesh network to trigger neighboring
    lights, and creates a safe circle of light around a human occupant. It has intelligent
    filters, which can filter out the interference caused by small animals or moving
    trees. The system can automatically detect any lamp failures and trigger a maintenance
    call. The Van Gogh Village in the Netherlands has employed CitySense for their
    smart street lighting systems.
  prefs: []
  type: TYPE_NORMAL
- en: It's also worth mentioning Barcelona's lighting master plan initiative; it has
    reported a significant reduction in streetlight power consumption. Around 2014,
    most of the city's lampposts were fitted with LED lights and IoT powered sensors
    were installed in them. The sensors automatically turn the lights dim when streets
    are empty and this has helped in lowering energy consumption. Additionally, these
    lampposts also serve as Wi-Fi network hotspots and are fitted with sensors to
    monitor air quality.
  prefs: []
  type: TYPE_NORMAL
- en: Smart governance
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The main purpose of smart cities is to make a comfortable and convenient life
    for its inhabitants. Therefore, a smart city infrastructure is not complete without
    smart governance. Smart governance means the intelligent use of information and
    communication technology to improve decision making through better collaboration
    among different stakeholders, including government, and citizens. Smart governance
    can be seen as a basis to smart, open, and participatory government. This requires
    reshaping the role of governments, citizens, and other social actors, as well
    as exploring the new technologies to frame a new governance model, including new
    relationships, new processes, and new government structures. Smart governance
    would be able to use data, evidence, and other resources to improve decision making
    and would be able to deliver the results that meet the needs of the citizens.
    This will enhance the decision-making process and increase the quality of public
    services.
  prefs: []
  type: TYPE_NORMAL
- en: Adapting IoT for smart cities and the necessary steps
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Building a smart city is not a one-day business, neither is it the work of
    one person or organization. It requires the collaboration of many strategic partners,
    leaders, and even citizens. The dynamics of such a collaboration is beyond the
    scope of this book, but, since the book is for AI enthusiasts and engineers, let''s
    explore what the AI community can do, what are the areas that provide us with
    a career or entrepreneurship opportunity. Any IoT platform will necessarily require
    the following:'
  prefs: []
  type: TYPE_NORMAL
- en: A network of smart things (sensors, cameras, actuators, and so on) for gathering
    data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Field (cloud) gateways that can gather the data from low power IoT devices,
    store it, and forward it securely to the cloud
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Streaming data processor for aggregating numerous data streams and distributing
    them to a data lake and control applications
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A data lake for storing all the raw data, even the ones that seem of no value
    yet
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A data warehouse that can clean and structure the collected data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tools for analyzing and visualizing the data collected by sensors
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: AI algorithms and techniques for automating city services based on long-term
    data analysis and finding ways to improve the performance of control applications
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Control applications for sending commands to the IoT actuators
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: User applications for connecting smart things and citizens
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Besides this, there will be issues regarding security and privacy, and the service
    provider will have to ensure that these smart services do not pose any threat
    to citizens' wellbeing. The services themselves should be easy to use and employ
    so that citizens can adopt them.
  prefs: []
  type: TYPE_NORMAL
- en: As you can see, this offers a range of job opportunities, specifically for AI
    engineers. The IoT-generated data needs to be processed, and to benefit from it
    truly, we will need to go beyond monitoring and basic analysis. The AI tools will
    be required to identify patterns and hidden correlations in the sensor data. Analysis
    of historical sensor data using ML/AI tools can help in identifying trends and
    create predictive models based on them. These models can then be used by control
    applications that send commands to IoT devices' actuators.
  prefs: []
  type: TYPE_NORMAL
- en: The process of building a smart city will be an iterative process, with more
    processing and analysis added at each iteration. Consider the case of a smart
    traffic light, let's see how we can iteratively improve it.
  prefs: []
  type: TYPE_NORMAL
- en: Compared to a traditional traffic light, our smart traffic light adapts its
    signal timings, depending upon the traffic. We can use the historical traffic
    data to train a model to reveal traffic patterns and adjust signal timings to
    maximize the average vehicle speed, and thus, avoid congestions. Such isolated
    smart traffic lights are good, but not sufficient. Supposing an area has congestion,
    then it'll be great if the drivers on the road are informed to avoid that route.
    To do this now, we can add an additional processing system; it identifies the
    congestion using the traffic light sensor data, and using the GPS from the vehicle
    or driver's smartphone, informs the drivers near the region of congestion to avoid
    that route.
  prefs: []
  type: TYPE_NORMAL
- en: As the next step, the traffic lights can be added with more sensors, like sensors
    that can monitor the air quality, and then train the model to ensure the alerts
    to be generated before a critical air quality is reached.
  prefs: []
  type: TYPE_NORMAL
- en: Cities with open data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In the last decade, many cities around the world have established open data
    portals. These open data portals not only help citizens to stay informed, but
    are boon for AI coders, since data drive AI. Let's look at a number of the interesting
    data portals and the data they provide.
  prefs: []
  type: TYPE_NORMAL
- en: This article on Forbes lists the 90 US cities with open data:[ https://www.forbes.com/sites/metabrown/2018/04/29/city-governments-making-public-data-easier-to-get-90-municipal-open-data-portals/#4542e6f95a0d](https://www.forbes.com/sites/metabrown/2018/04/29/city-governments-making-public-data-easier-to-get-90-municipal-open-data-portals/#4542e6f95a0d).
  prefs: []
  type: TYPE_NORMAL
- en: Atlanta city Metropolitan Atlanta Rapid Transit Authority data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The **Metropolitan Atlanta Rapid Transit Authority** (**MARTA**) releases real-time
    public transport data with an aim to provide the developers with an opportunity
    to develop custom web and mobile applications. The MARTA platform provides the
    developers with resources to access the data and use it to develop an application
    ([https://www.itsmarta.com/app-developer-resources.aspx](https://www.itsmarta.com/app-developer-resources.aspx)).
  prefs: []
  type: TYPE_NORMAL
- en: '**General Transit Feed Specification** (**GTFS**) format is used to provide
    the data. GTFS is a standard format for public transportation schedules and geographic
    information. It''s composed of a series of text files, each file models a particular
    aspect of transit information: stops, routes, trips, and similar scheduled data.'
  prefs: []
  type: TYPE_NORMAL
- en: 'MARTA also provides data through RESTful APIs. To access the API, you will
    need to install MARTA-Python the Python library for accessing MARTA real-time
    API.  The Python library can be installed using `pip`:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Before using the API, you will need to register and sign up for the API key
    ([https://www.itsmarta.com/developer-reg-rtt.aspx](https://www.itsmarta.com/developer-reg-rtt.aspx)).
    The API key would be stored in the `MARTA_API_KEY` environment variable. To set
    the `MARTA_API_KEY` you can use the following:'
  prefs: []
  type: TYPE_NORMAL
- en: 'On Windows, use the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'On Linux/MAC, use the following:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'It provides two primary wrapper functions `get_buses()` and `get_trains()`,
    and both functions take keyword arguments to filter the result:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: The `get_buses()` and `get_trains()` functions return `Bus` and `Train` dictionary
    objects, respectively.
  prefs: []
  type: TYPE_NORMAL
- en: Chicago Array of Things data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Launched in the year 2016, **Array of Things** (**AoT**) project consists of
    installing a network of sensor-boxes mounted on light posts. The sensors collect
    a host of real-time data on environmental surroundings and urban activity. The
    data generated is available for developers and enthusiasts via bulk download and
    also through APIs.
  prefs: []
  type: TYPE_NORMAL
- en: The sensors are deployed across several geographic areas, each deployment region
    is named **projects**, with the largest deployment in Chicago, under the project
    named Chicago.
  prefs: []
  type: TYPE_NORMAL
- en: The physical devices that are deployed are called **n****odes**, each node is
    identified by its unique serial number VSN. These nodes are connected together
    to comprise a network. The nodes contain **sensors**, these sensors observe various
    facets of the environment, like temperature, humidity, light intensity, and particulate
    matter. The information recorded by sensors is called **observations**.
  prefs: []
  type: TYPE_NORMAL
- en: The observations have redundancy and are available in their raw form through
    the API. There exist one-to many relationships between nodes and observations,
    sensors, and observations. There are also many-to-many relationships between projects,
    nodes and sensors. The complete data and details of the AoT project can be accessed
    from the Chicago city open data portal: [https://data.cityofchicago.org/](https://data.cityofchicago.org/).
  prefs: []
  type: TYPE_NORMAL
- en: Detecting crime using San Francisco crime data
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The San Francisco city also has an open data portal ([https://datasf.org/opendata/](https://datasf.org/opendata/))
    providing data from different departments online. In this section, we take the
    dataset providing about 12 years (from January 2003 to May 2015) of crime reports
    from across all of San Francisco's neighborhoods and train a model to predict
    the category of crime that occurred. There are 39 discreet crime categories, thus
    it's a multi-class classification problem.
  prefs: []
  type: TYPE_NORMAL
- en: 'We will use make use of Apache''s PySpark and use its easy to use text processing
    features for this dataset. So the first step will be to create a Spark session:'
  prefs: []
  type: TYPE_NORMAL
- en: 'The first step is to import the necessary modules and create a Spark session:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'We load the dataset available in a `csv` file:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '![](img/6c1c284b-45df-4548-b81f-20a7bc721b63.png)'
  prefs: []
  type: TYPE_IMG
- en: 'The data contains nine columns: `[Dates, Category, Descript, DayOfWeek, PdDistrict,
    Resolution, Address, X, Y]`, we will need only `Category` and `Descript` fields
    for training and testing dataset:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: '![](img/c152b827-eb82-4da6-8034-543376bfc6ba.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now the dataset we have has textual data, so we will need to perform text processing.
    The three important text processing steps are: tokenizing the data, remove the
    stop words and vectorize the words into vectors. We will use `RegexTokenizer`
    which will uses regex to tokenize the sentence into a list of words, since punctuation
    or special characters do not add anything to the meaning, we retain only the words
    containing alphanumeric content. There are some words like `the`, which will be
    very commonly present in the text, but not add any meaning to context. We can
    remove these words (also called **stop words**) using the inbuilt `StopWordsRemover` class.
    We use standard stop words `["http","https","amp","rt","t","c","the"]`. And finally
    using the `CountVectorizer`, we convert the words to numeric vector (features).
    It''s these numeric features that will be used as input to train the model. The
    output for our data is the `Category` column, but it''s also textual with 36 distinct
    categories, and so, we need to convert it to one hot encoded vector; the PySpark''s
    `StringIndexer` can be easily used for it. We add all these transformations into
    our data `Pipeline`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '![](img/d9823162-cb34-401b-acf6-176b75e524ad.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Now, the data is ready, we split it into training and test dataset:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Let''s fit a simple logistic regression model for it. On the test dataset,
    it provides a 97% accuracy. Yahoo!:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: The complete code is available in the GitHub repository `Chapter11/SF_crime_category_detection.ipynb`
    Jupyter Notebook.
  prefs: []
  type: TYPE_NORMAL
- en: Challenges and benefits
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: AI is changing the way cities operate, deliver, and maintain public amenities,
    from lighting and transportation to connectivity and health services. However,
    the adoption can be obstructed by the selection of technology that doesn't efficiently
    work together or integrate with other city services. Hence, it's important to
    think for retrofitted solutions.
  prefs: []
  type: TYPE_NORMAL
- en: Another important thing to take care of is collaboration. For cities to truly
    benefit from the potential that smart cities offer, a change in mindset is required.
    The authorities should plan longer and across multiple departments. Everyone—technologists,
    local governments, businesses, environmentalists, and the general public—must
    work together to enable cities to transform into a smart city, successfully.
  prefs: []
  type: TYPE_NORMAL
- en: Though budget can be a big issue, the results of the successful implementation
    of smart city components across different cities of the world show that, by proper
    implementation, smart cities are more economical. Smart city transition not only
    creates jobs, but can help save the environment, reduce energy expenditure, and
    generate more revenue. The city of Barcelona is a prime example of this; through
    the implementation of IoT systems, it created an estimated 47,000 jobs, saved
    €42.5 million on water, and generated an extra €36.5 million a year through smart
    parking. We can easily see that cities can benefit tremendously from the technological
    advances that utilize AI-powered IoT solutions.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: AI-powered IoT solutions can help connect cities and manage multiple infrastructure,
    and public services. This chapter covered diverse use cases of smart cities, from
    smart lighting and road traffic to connected public transport, and waste management.
    From the successful case studies, we also learned that smart cities can lead to
    reduced costs for energy, optimized use of natural resources, safer cities, and
    a healthier environment. This chapter listed some of the open city data portals
    and the information available there. We use the tools learned in this book to
    categorize the data from the San Francisco crime reports done in a period of 12
    years. And finally, this chapter discussed some challenges and benefits in the
    building of smart cities.
  prefs: []
  type: TYPE_NORMAL
