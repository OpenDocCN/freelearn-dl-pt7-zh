<html><head></head><body>
<div id="_idContainer099" class="calibre2">
<h1 class="chapter-number" id="_idParaDest-109"><a id="_idTextAnchor116" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.1.1">7</span></h1>
<h1 id="_idParaDest-110" class="calibre5"><a id="_idTextAnchor117" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.2.1">Building Assistants with the OpenAI API</span></h1>
<p class="calibre3"><a id="_idTextAnchor118" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.3.1">The primary reason that ChatGPT changed the Generative AI landscape is that it marketed itself as an easy-to-use all-in-one digital assistant. </span><span class="kobospan" id="kobo.3.2">This approach has made it highly accessible to a broad range of users, from developers and businesses to educators and </span><span><span class="kobospan" id="kobo.4.1">creative professionals.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.5.1">The versatility of the OpenAI API lies in its ability to understand and generate human-like text, enabling the creation of sophisticated digital assistants tailored to various needs. </span><span class="kobospan" id="kobo.5.2">Whether it’s automating customer service, providing educational support, assisting in content creation, or enabling interactive storytelling, the API’s robust features allow for </span><span><span class="kobospan" id="kobo.6.1">endless possibilities.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.7.1">As a result, we can use the API, along with the other elements that we learned about in previous chapters, to create powerful knowledge assistants. </span><span class="kobospan" id="kobo.7.2">How will the assistant that we create differ from the ChatGPT product itself? </span><span class="kobospan" id="kobo.7.3">The answer lies in the knowledge or information to which the assistant </span><span><span class="kobospan" id="kobo.8.1">has access.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.9.1">OpenAI has trained ChatGPT on a variety of different sources on the internet, but the model itself is data-limited. </span><span class="kobospan" id="kobo.9.2">This has </span><span><span class="kobospan" id="kobo.10.1">two implications:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.11.1">Information is out of date</span></em><span class="kobospan" id="kobo.12.1">: The model (without any extensions or plugins) cannot provide current or up-to-date information. </span><span class="kobospan" id="kobo.12.2">For example, you cannot ask it </span><strong class="source-inline1"><span class="kobospan" id="kobo.13.1">what was the score in yesterday's </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.14.1">basketball game</span></strong></span><span><span class="kobospan" id="kobo.15.1">.</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.16.1">Knowledge retrieval is messy</span></em><span class="kobospan" id="kobo.17.1">: You cannot restrict the model to only look at specific sources when answering questions. </span><span class="kobospan" id="kobo.17.2">Because of this and since the data has been trained on various sources from the internet (and certainly not everything online is correct), this means that the answers you get may not always be correct. </span><span class="kobospan" id="kobo.17.3">This can also occur due </span><span><span class="kobospan" id="kobo.18.1">to hallucinations.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.19.1">How do we fix this? </span><span class="kobospan" id="kobo.19.2">We can build our own assistants that use both the OpenAI API and a trusted knowledge source that we specify. </span><span class="kobospan" id="kobo.19.3">This can be in the form of a PDF file that the user can upload or a web link that we know has the most </span><span><span class="kobospan" id="kobo.20.1">up-to-date information.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.21.1">In this chapter, we will build knowledge-based assistants. </span><span class="kobospan" id="kobo.21.2">We will use ChatGPT’s ability to understand human-like text and respond accordingly, as well as a trusted up-to-date knowledge source. </span><span class="kobospan" id="kobo.21.3">Similar to the previous chapter, the application architecture will contain the frontend and backend that access the OpenAI API. </span><span class="kobospan" id="kobo.21.4">However, we will add an intermediary step to account for the knowledge source. </span><span class="kobospan" id="kobo.21.5">If you don’t recall the architecture, </span><span><em class="italic"><span class="kobospan" id="kobo.22.1">Figure 7</span></em></span><em class="italic"><span class="kobospan" id="kobo.23.1">.1</span></em><span class="kobospan" id="kobo.24.1"> demonstrates the layers within </span><span><span class="kobospan" id="kobo.25.1">any application.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer077">
<span class="kobospan" id="kobo.26.1"><img alt="Figure 7.1 – Demonstration of a typical application architecture using the OpenAI API with the Knowledge Source" src="image/B21007_07_1.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.27.1">Figure 7.1 – Demonstration of a typical application architecture using the OpenAI API with the Knowledge Source</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.28.1">In this chapter, we will cover the </span><span><span class="kobospan" id="kobo.29.1">following recipes:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.30.1">Creating a knowledge-retrieval </span><span><span class="kobospan" id="kobo.31.1">assistant application</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.32.1">Creating a knowledge-retrieval assistant through the </span><span><span class="kobospan" id="kobo.33.1">Assistants API</span></span></li>
</ul>
<h1 id="_idParaDest-111" class="calibre5"><a id="_idTextAnchor119" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.34.1">Technical requirements</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.35.1">All the recipes in this chapter require you to have access to the OpenAI API (via a generated API key) and have an API client installed. </span><span class="kobospan" id="kobo.35.2">You can refer to the </span><a href="B21007_01.xhtml#_idTextAnchor021" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.36.1">Chapter 1</span></em></span></a><span class="kobospan" id="kobo.37.1"> recipe </span><em class="italic"><span class="kobospan" id="kobo.38.1">Making OpenAI API requests with Postman</span></em><span class="kobospan" id="kobo.39.1"> for more information on how to obtain your API key. </span><span class="kobospan" id="kobo.39.2">This will also require knowledge of Python and the Python OpenAI library, which we covered in the first recipe within </span><a href="B21007_04.xhtml#_idTextAnchor074" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.40.1">Chapter 4</span></em></span></a><span><span class="kobospan" id="kobo.41.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.42.1">We will also use the </span><strong class="bold"><span class="kobospan" id="kobo.43.1">Google Cloud Platform</span></strong><span class="kobospan" id="kobo.44.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.45.1">GCP</span></strong><span class="kobospan" id="kobo.46.1">) to host our public endpoint. </span><span class="kobospan" id="kobo.46.2">GCP is a suite of cloud computing services offered by Google. </span><span class="kobospan" id="kobo.46.3">It provides a range of hosting and computing services for databases, data storage, data analytics, machine learning, and more, all hosted on Google’s infrastructure. </span><span class="kobospan" id="kobo.46.4">You can refer to the </span><a href="B21007_05.xhtml#_idTextAnchor090" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.47.1">Chapter 5</span></em></span></a><span class="kobospan" id="kobo.48.1"> recipe </span><em class="italic"><span class="kobospan" id="kobo.49.1">Creating a public endpoint server that calls the OpenAI API </span></em><span class="kobospan" id="kobo.50.1">for </span><span><span class="kobospan" id="kobo.51.1">more information.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.52.1">Finally, you need to be familiar with </span><em class="italic"><span class="kobospan" id="kobo.53.1">Bubble</span></em><span class="kobospan" id="kobo.54.1">, which is a visual programming platform that allows users to create web applications without needing to write code. </span><span class="kobospan" id="kobo.54.2">You can refer to the </span><a href="B21007_05.xhtml#_idTextAnchor090" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.55.1">Chapter 5</span></em></span></a><span class="kobospan" id="kobo.56.1"> recipe </span><em class="italic"><span class="kobospan" id="kobo.57.1">Calling the user-created </span></em><em class="italic"><span class="kobospan" id="kobo.58.1">endpoint </span></em><em class="italic"><span class="kobospan" id="kobo.59.1">from no-code applications </span></em><span class="kobospan" id="kobo.60.1">for more information on how to set </span><span><span class="kobospan" id="kobo.61.1">up Bubble.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.62.1">It is also recommended that you complete the recipes in </span><a href="B21007_06.xhtml#_idTextAnchor106" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.63.1">Chapter 6</span></em></span></a><span class="kobospan" id="kobo.64.1">, as this chapter’s recipes will cover concepts that we learned in </span><span><span class="kobospan" id="kobo.65.1">that chapter.</span></span></p>
<h1 id="_idParaDest-112" class="calibre5"><a id="_idTextAnchor120" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.66.1">Creating a knowledge-retrieval assistant application</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.67.1">In this first</span><a id="_idIndexMarker304" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.68.1"> recipe, we will build an intelligent application that analyzes an uploaded PDF document and answers questions about it that the user poses. </span><span class="kobospan" id="kobo.68.2">This can have several use cases, such as aiding in academic research by quickly summarizing key points, assisting legal professionals in extracting specific information from lengthy documents, or aiding businesses in understanding </span><span><span class="kobospan" id="kobo.69.1">technical reports.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.70.1">The application will leverage the OpenAI API’s NLP capabilities to interpret the content of the PDF and provide accurate, context-aware responses. </span><span class="kobospan" id="kobo.70.2">This not only streamlines the process of information retrieval but also enhances user engagement by offering interactive, </span><span><span class="kobospan" id="kobo.71.1">AI-driven insights.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.72.1">The example that we will follow is one where we upload the following instructional manual about a drone, and we want to ask questions such as </span><strong class="source-inline"><span class="kobospan" id="kobo.73.1">what is the maximum height I can fly this drone?</span></strong><span class="kobospan" id="kobo.74.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.75.1">How do I recharge the drone battery?</span></strong><span class="kobospan" id="kobo.76.1">. </span><span class="kobospan" id="kobo.76.2">The PDF of the drone instructional manual can be found here: </span><a href="https://bookpackt67.blob.core.windows.net/test/XDroneManual.pdf?sp=r&amp;st=2024-01-12T00:52:16Z&amp;se=2024-12-31T08:52:16Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=b&amp;sig=IEXLlGXVXCilEg0ffqW8ItXc4LX2YkbRWuZIpSxfP8Y%3D" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.77.1">https://bookpackt67.blob.core.windows.net/test/XDroneManual.pdf?sp=r&amp;st=2024-01-12T00:52:16Z&amp;se=2024-12-31T08:52:16Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=b&amp;sig=IEXLlGXVXCilEg0ffqW8ItXc4LX2YkbRWuZIpSxfP8Y%3D</span></a><span class="kobospan" id="kobo.78.1">. </span><span class="kobospan" id="kobo.78.2">We should </span><a id="_idIndexMarker305" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.79.1">download the file to our computer before starting the recipe. </span><span class="kobospan" id="kobo.79.2">A screenshot of the file can be seen in </span><span><em class="italic"><span class="kobospan" id="kobo.80.1">Figure 7</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.81.1">.2</span></em></span><span><span class="kobospan" id="kobo.82.1">.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer078">
<span class="kobospan" id="kobo.83.1"><img alt="Figure 7.2 – PDF of the drone manual" src="image/B21007_07_2.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.84.1">Figure 7.2 – PDF of the drone manual</span></p>
<h2 id="_idParaDest-113" class="calibre7"><a id="_idTextAnchor121" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.85.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.86.1">Ensure you have an OpenAI Platform account with available usage credits. </span><span class="kobospan" id="kobo.86.2">If you don’t, please follow the </span><em class="italic"><span class="kobospan" id="kobo.87.1">Setting up your OpenAI Playground environment</span></em><span class="kobospan" id="kobo.88.1"> recipe in </span><a href="B21007_01.xhtml#_idTextAnchor021" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.89.1">Chapter 1</span></em></span></a><span><span class="kobospan" id="kobo.90.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.91.1">Furthermore, ensure you have created a GCP account. </span><span class="kobospan" id="kobo.91.2">You may need to provide a billing profile as well to create any GCP resources. </span><span class="kobospan" id="kobo.91.3">Note that GCP does have a free tier, and in this recipe, we will not go above the free tier (so, essentially, you should not be billed </span><span><span class="kobospan" id="kobo.92.1">for anything).</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.93.1">Finally, ensure that you have created a Bubble account, which you can do for free </span><span><span class="kobospan" id="kobo.94.1">at </span></span><a href="http://bubble.io" class="pcalibre1 calibre6 pcalibre"><span><span class="kobospan" id="kobo.95.1">http://bubble.io</span></span></a><span><span class="kobospan" id="kobo.96.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.97.1">Both the recipes in this chapter will have this </span><span><span class="kobospan" id="kobo.98.1">same requirement.</span></span></p>
<h2 id="_idParaDest-114" class="calibre7"><a id="_idTextAnchor122" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.99.1">How to do it…</span></h2>
<h3 class="calibre8"><span class="kobospan" id="kobo.100.1">Google Cloud Functions</span></h3>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.101.1">In a new </span><a id="_idIndexMarker306" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.102.1">browser tab, navigate to </span><a href="https://cloud.google.com" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.103.1">https://cloud.google.com</span></a><span class="kobospan" id="kobo.104.1"> and log in with your </span><span><span class="kobospan" id="kobo.105.1">Google credentials.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.106.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.107.1">Console</span></strong><span class="kobospan" id="kobo.108.1"> in the </span><span><span class="kobospan" id="kobo.109.1">top right.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.110.1">Create a </span><a id="_idIndexMarker307" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.111.1">new Google cloud function. </span><span class="kobospan" id="kobo.111.2">In the search bar, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.112.1">function</span></strong><span class="kobospan" id="kobo.113.1">, select </span><strong class="bold"><span class="kobospan" id="kobo.114.1">Cloud Functions</span></strong><span class="kobospan" id="kobo.115.1">, and then select </span><span><strong class="bold"><span class="kobospan" id="kobo.116.1">Create Function</span></strong></span><span><span class="kobospan" id="kobo.117.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.118.1">Name the function a descriptive name. </span><span class="kobospan" id="kobo.118.2">Since this function will return answers based on a file, we are going to aptly name </span><span><span class="kobospan" id="kobo.119.1">it </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.120.1">get_answer_from_file</span></strong></span><span><span class="kobospan" id="kobo.121.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.122.1">In the </span><strong class="bold"><span class="kobospan" id="kobo.123.1">Authentication</span></strong><span class="kobospan" id="kobo.124.1"> menu, ensure that you select </span><strong class="bold"><span class="kobospan" id="kobo.125.1">Allow unauthenticated invocations</span></strong><span class="kobospan" id="kobo.126.1"> as the authentication method. </span><span class="kobospan" id="kobo.126.2">This will enable the frontend application to make calls to the </span><span><span class="kobospan" id="kobo.127.1">backend layer.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.128.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.129.1">Runtime, build, connections and security settings</span></strong><span class="kobospan" id="kobo.130.1"> drop-down menu to expand the options. </span><span class="kobospan" id="kobo.130.2">Change </span><strong class="bold"><span class="kobospan" id="kobo.131.1">Timeout</span></strong><span class="kobospan" id="kobo.132.1"> from 60 seconds to 300 seconds. </span><span class="kobospan" id="kobo.132.2">This will make sure that the timeout for the Google cloud function is not 1 minute but 5 minutes instead. </span><span class="kobospan" id="kobo.132.3">This is important in multi-modal applications, as several API requests will </span><span><span class="kobospan" id="kobo.133.1">be made.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer079">
<span class="kobospan" id="kobo.134.1"><img alt="Figure 7.3 – Google ﻿cloud ﻿function configuration settings" src="image/B21007_07_3.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.135.1">Figure 7.3 – Google cloud function configuration settings</span></p>
<ol class="calibre14">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.136.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.137.1">Next</span></strong><span class="kobospan" id="kobo.138.1"> to move </span><a id="_idIndexMarker308" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.139.1">on to</span><a id="_idIndexMarker309" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.140.1"> function development. </span><span class="kobospan" id="kobo.140.2">In the </span><strong class="bold"><span class="kobospan" id="kobo.141.1">Runtime</span></strong><span class="kobospan" id="kobo.142.1"> drop-down menu, select </span><strong class="bold"><span class="kobospan" id="kobo.143.1">Python 3.12</span></strong><span class="kobospan" id="kobo.144.1">. </span><span class="kobospan" id="kobo.144.2">For </span><strong class="bold"><span class="kobospan" id="kobo.145.1">entry point</span></strong><span class="kobospan" id="kobo.146.1">, select or type </span><span><span class="kobospan" id="kobo.147.1">in </span></span><span><strong class="bold"><span class="kobospan" id="kobo.148.1">get_answer_from_pdf</span></strong></span><span><span class="kobospan" id="kobo.149.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.150.1">Go to </span><strong class="source-inline1"><span class="kobospan" id="kobo.151.1">Requirements.txt</span></strong><span class="kobospan" id="kobo.152.1"> in the left-hand menu and type the following Python packages in as these libraries will be used in the </span><span><span class="kobospan" id="kobo.153.1">backend function:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.154.1">
openai
PyPDF2
requests</span></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.155.1">For the actual </span><em class="italic"><span class="kobospan" id="kobo.156.1">code block</span></em><span class="kobospan" id="kobo.157.1">, type in the following. </span><span class="kobospan" id="kobo.157.2">This function takes in two inputs (</span><strong class="source-inline1"><span class="kobospan" id="kobo.158.1">pdf_url</span></strong><span class="kobospan" id="kobo.159.1"> and </span><strong class="source-inline1"><span class="kobospan" id="kobo.160.1">question</span></strong><span class="kobospan" id="kobo.161.1">) and returns the relevant </span><strong class="source-inline1"><span class="kobospan" id="kobo.162.1">answer</span></strong><span class="kobospan" id="kobo.163.1"> based on information</span><a id="_idIndexMarker310" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.164.1"> found in </span><span><span class="kobospan" id="kobo.165.1">the PDF:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.166.1">
import functions_framework
from openai import OpenAI
from PyPDF2 import PdfReader
import io
import requests
@functions_framework.http
def get_answer_from_pdf(request):
request_json = request.get_json(silent=True)
pdf_url = request_json['pdf_url']
  question = request_json['question']
  client = OpenAI(api_key = '&lt;API-key here&gt;')
  # Send a GET request to the URL
  response = requests.get(pdf_url, stream=True)
response.raise_for_status()  # Ensure the request was successful
  # save text
  text = ''
  # Create a PDF reader object using the byte stream from the response
  with io.BytesIO(response.content) as pdf_file:
pdf_reader = PdfReader(pdf_file)
    # Iterate over each page and print the text
    for page_num in range(len(pdf_reader.pages)):
      page = pdf_reader.pages[0]
      text = text + page.extract_text()
  response = client.chat.completions.create(
  model="gpt-4",
  messages=[
    {
      "role": "system",
      "content": "You are a helpful assistant that goes through text file and answers questions"
    },
    {
      "role": "user",
      "content": '\n\n TEXT: ' + text + ' \n\n QUESTION: ' + question
    }
  ],
  temperature=0.64,
max_tokens=1000,
top_p=1,
frequency_penalty=0,
presence_penalty=0
  )
  answer = response.choices[0].message.content
  result = {
    'answer': answer
  }
  return result</span></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.167.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.168.1">Deploy</span></strong><span class="kobospan" id="kobo.169.1">. </span><span class="kobospan" id="kobo.169.2">You</span><a id="_idIndexMarker311" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.170.1"> might need to wait five minutes for the deployment to fully complete. </span><span class="kobospan" id="kobo.170.2">When you see the green checkmark on the cloud function screen, your function has been </span><span><span class="kobospan" id="kobo.171.1">successfully deployed.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.172.1">Similar to </span><a id="_idIndexMarker312" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.173.1">the previous chapter, we will now use Postman to test the cloud function that we have just deployed. </span><span class="kobospan" id="kobo.173.2">Open Postman. </span><span class="kobospan" id="kobo.173.3">Select </span><strong class="bold"><span class="kobospan" id="kobo.174.1">New</span></strong><span class="kobospan" id="kobo.175.1"> in the top left and </span><span><span class="kobospan" id="kobo.176.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.177.1">HTTP</span></strong></span><span><span class="kobospan" id="kobo.178.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.179.1">On the Postman request, select </span><strong class="bold"><span class="kobospan" id="kobo.180.1">Headers</span></strong><span class="kobospan" id="kobo.181.1"> and type in a new header, with </span><strong class="bold"><span class="kobospan" id="kobo.182.1">Key</span></strong><span class="kobospan" id="kobo.183.1"> equal to </span><strong class="source-inline1"><span class="kobospan" id="kobo.184.1">Content-Type</span></strong><span class="kobospan" id="kobo.185.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.186.1">Value</span></strong><span class="kobospan" id="kobo.187.1"> equal </span><span><span class="kobospan" id="kobo.188.1">to </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.189.1">application/json</span></strong></span><span><span class="kobospan" id="kobo.190.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.191.1">Change the request from </span><strong class="bold"><span class="kobospan" id="kobo.192.1">Get</span></strong><span class="kobospan" id="kobo.193.1"> to </span><strong class="bold"><span class="kobospan" id="kobo.194.1">Post</span></strong><span class="kobospan" id="kobo.195.1"> in the left-hand drop-down menu. </span><span class="kobospan" id="kobo.195.2">Copy the endpoint URL from the </span><strong class="bold"><span class="kobospan" id="kobo.196.1">Cloud Function</span></strong><span class="kobospan" id="kobo.197.1"> page and paste it </span><span><span class="kobospan" id="kobo.198.1">into Postman.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.199.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.200.1">Body</span></strong><span class="kobospan" id="kobo.201.1">, then select </span><strong class="bold"><span class="kobospan" id="kobo.202.1">Raw</span></strong><span class="kobospan" id="kobo.203.1">, and copy and paste the following </span><span><span class="kobospan" id="kobo.204.1">JSON request:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.205.1">
{
    "pdf_url": "https://bookpackt67.blob.core.windows.net/test/XDroneManual.pdf?sp=r&amp;st=2024-01-12T00:52:16Z&amp;se=2024-12-31T08:52:16Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=b&amp;sig=IEXLlGXVXCilEg0ffqW8ItXc4LX2YkbRWuZIpSxfP8Y%3D",
    "question": "for safety, what's the highest you should fly the drone?"
</span><span class="kobospan1" id="kobo.205.2">}</span></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.206.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.207.1">Send</span></strong><span class="kobospan" id="kobo.208.1"> to make the call to your cloud function. </span><span class="kobospan" id="kobo.208.2">If all goes well, you should </span><a id="_idIndexMarker313" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.209.1">see a similar response to the one shown in </span><span><em class="italic"><span class="kobospan" id="kobo.210.1">Figure 7</span></em></span><em class="italic"><span class="kobospan" id="kobo.211.1">.4</span></em><span class="kobospan" id="kobo.212.1">, which contains several objects embedded </span><a id="_idIndexMarker314" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.213.1">in the </span><span><span class="kobospan" id="kobo.214.1">JSON response.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer080">
<span class="kobospan" id="kobo.215.1"><img alt="Figure 7.4 – Postman output" src="image/B21007_07_4.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.216.1">Figure 7.4 – Postman output</span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.217.1">Bubble</span></h3>
<ol class="calibre14">
<li value="16" class="calibre15"><span class="kobospan" id="kobo.218.1">Next, navigate to </span><a href="http://bubble.io" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.219.1">http://bubble.io</span></a><span class="kobospan" id="kobo.220.1"> and log in. </span><span class="kobospan" id="kobo.220.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.221.1">Create an app</span></strong><span class="kobospan" id="kobo.222.1"> and give your app</span><a id="_idIndexMarker315" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.223.1"> a relevant name. </span><span class="kobospan" id="kobo.223.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.224.1">Get started</span></strong><span class="kobospan" id="kobo.225.1"> and then select </span><strong class="bold"><span class="kobospan" id="kobo.226.1">Start with basic features</span></strong><span class="kobospan" id="kobo.227.1">. </span><span class="kobospan" id="kobo.227.2">You can also select the </span><strong class="bold"><span class="kobospan" id="kobo.228.1">Skip the application assistant</span></strong><span class="kobospan" id="kobo.229.1"> prompt if you </span><span><span class="kobospan" id="kobo.230.1">encounter it.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.231.1">On the Canvas page, we are going to add a few elements that are required for our application. </span><span class="kobospan" id="kobo.231.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.232.1">Input</span></strong><span class="kobospan" id="kobo.233.1"> from the left-hand menu and then draw a rectangle at the top of the page. </span><span class="kobospan" id="kobo.233.2">Double-click the element and, in the property menu, replace the </span><strong class="bold"><span class="kobospan" id="kobo.234.1">Placeholder</span></strong> <span><span class="kobospan" id="kobo.235.1">with </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.236.1">Question</span></strong></span><span><span class="kobospan" id="kobo.237.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer081">
<span class="kobospan" id="kobo.238.1"><img alt="" role="presentation" src="image/B21007_07_5.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.239.1">Figure 7.5 – Bubble input configuration</span></p>
<ol class="calibre14">
<li value="18" class="calibre15"><span class="kobospan" id="kobo.240.1">Add a </span><strong class="bold"><span class="kobospan" id="kobo.241.1">File Uploader</span></strong><span class="kobospan" id="kobo.242.1"> element by selecting it from the left-hand menu and then drawing a rectangle directly below the </span><span><span class="kobospan" id="kobo.243.1">previous element.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.244.1">Next, create</span><a id="_idIndexMarker316" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.245.1"> a text element </span><a id="_idIndexMarker317" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.246.1">by selecting it from the left-hand menu and drawing a rectangle (make it multiple lines) directly below the previous elements. </span><span class="kobospan" id="kobo.246.2">Double-click the text element to get the property menu. </span><span class="kobospan" id="kobo.246.3">Then, click </span><strong class="bold"><span class="kobospan" id="kobo.247.1">Insert dynamic data</span></strong><span class="kobospan" id="kobo.248.1"> on the actual text field, then select </span><strong class="bold"><span class="kobospan" id="kobo.249.1">Text A</span></strong><span class="kobospan" id="kobo.250.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.251.1">create a new custom state</span></strong><span class="kobospan" id="kobo.252.1">. </span><span class="kobospan" id="kobo.252.2">You will be prompted for a name and type. </span><span class="kobospan" id="kobo.252.3">For the name, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.253.1">answer</span></strong><span class="kobospan" id="kobo.254.1">. </span><span class="kobospan" id="kobo.254.2">For the type, ensure </span><strong class="bold"><span class="kobospan" id="kobo.255.1">text</span></strong><span class="kobospan" id="kobo.256.1"> is selected.  </span><span class="kobospan" id="kobo.256.2">This will create a unique custom state for the text box, which is required to show the values in </span><span><span class="kobospan" id="kobo.257.1">the application.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer082">
<span class="kobospan" id="kobo.258.1"><img alt="Figure 7.6 – Inserting dynamic data" src="image/B21007_07_6.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.259.1">Figure 7.6 – Inserting dynamic data</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer083">
<span class="kobospan" id="kobo.260.1"><img alt="Figure 7.7 – Creating a custom state" src="image/B21007_07_7.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.261.1">Figure 7.7 – Creating a custom state</span></p>
<ol class="calibre14">
<li value="20" class="calibre15"><span class="kobospan" id="kobo.262.1">The next thing we need to do is load the cloud function that we created into Bubble. </span><span class="kobospan" id="kobo.262.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.263.1">Plugins</span></strong><span class="kobospan" id="kobo.264.1"> from the left-hand menu and then select </span><strong class="bold"><span class="kobospan" id="kobo.265.1">Add Plugins</span></strong><span class="kobospan" id="kobo.266.1">. </span><span class="kobospan" id="kobo.266.2">Select the </span><strong class="bold"><span class="kobospan" id="kobo.267.1">API Connector</span></strong><span class="kobospan" id="kobo.268.1">, then select </span><strong class="bold"><span class="kobospan" id="kobo.269.1">Install</span></strong><span class="kobospan" id="kobo.270.1">, and </span><span><span class="kobospan" id="kobo.271.1">then </span></span><span><strong class="bold"><span class="kobospan" id="kobo.272.1">Done</span></strong></span><span><span class="kobospan" id="kobo.273.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer084">
<span class="kobospan" id="kobo.274.1"><img alt="Figure 7.8 – Bubble.io UI configuration" src="image/B21007_07_8.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.275.1">Figure 7.8 – Bubble.io UI configuration</span></p>
<ol class="calibre14">
<li value="21" class="calibre15"><span class="kobospan" id="kobo.276.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.277.1">API Connector</span></strong><span class="kobospan" id="kobo.278.1"> from </span><a id="_idIndexMarker318" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.279.1">the list of plugins. </span><span class="kobospan" id="kobo.279.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.280.1">Add Another API</span></strong><span class="kobospan" id="kobo.281.1">. </span><span class="kobospan" id="kobo.281.2">For the </span><strong class="bold"><span class="kobospan" id="kobo.282.1">API name</span></strong><span class="kobospan" id="kobo.283.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.284.1">answer_from_file</span></strong><span class="kobospan" id="kobo.285.1">. </span><span class="kobospan" id="kobo.285.2">Scroll down to </span><strong class="bold"><span class="kobospan" id="kobo.286.1">Create a New API</span></strong><span class="kobospan" id="kobo.287.1"> and click </span><strong class="bold"><span class="kobospan" id="kobo.288.1">Expand</span></strong><span class="kobospan" id="kobo.289.1">. </span><span class="kobospan" id="kobo.289.2">Leave the name of this API as </span><strong class="source-inline1"><span class="kobospan" id="kobo.290.1">API call</span></strong><span class="kobospan" id="kobo.291.1">. </span><span class="kobospan" id="kobo.291.2">For the API, configure</span><a id="_idIndexMarker319" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.292.1"> the </span><span><span class="kobospan" id="kobo.293.1">following settings:</span></span><ul class="calibre17"><li class="calibre15"><span class="kobospan" id="kobo.294.1">From the </span><strong class="bold"><span class="kobospan" id="kobo.295.1">Use as</span></strong><span class="kobospan" id="kobo.296.1"> dropdown menu, </span><span><span class="kobospan" id="kobo.297.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.298.1">Action</span></strong></span><span><span class="kobospan" id="kobo.299.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.300.1">Change the request from </span><strong class="bold"><span class="kobospan" id="kobo.301.1">GET</span></strong> <span><span class="kobospan" id="kobo.302.1">to </span></span><span><strong class="bold"><span class="kobospan" id="kobo.303.1">POST</span></strong></span><span><span class="kobospan" id="kobo.304.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.305.1">Create a new header by clicking on </span><strong class="bold"><span class="kobospan" id="kobo.306.1">New Header</span></strong><span class="kobospan" id="kobo.307.1">. </span><span class="kobospan" id="kobo.307.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.308.1">Add Header</span></strong><span class="kobospan" id="kobo.309.1">. </span><span class="kobospan" id="kobo.309.2">For </span><strong class="bold"><span class="kobospan" id="kobo.310.1">key</span></strong><span class="kobospan" id="kobo.311.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.312.1">Content-Type</span></strong><span class="kobospan" id="kobo.313.1">, and for </span><strong class="bold"><span class="kobospan" id="kobo.314.1">value</span></strong><span class="kobospan" id="kobo.315.1">, type </span><span><span class="kobospan" id="kobo.316.1">in </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.317.1">application/json</span></strong></span><span><span class="kobospan" id="kobo.318.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.319.1">Add a parameter by clicking </span><strong class="bold"><span class="kobospan" id="kobo.320.1">Parameter</span></strong><span class="kobospan" id="kobo.321.1">. </span><span class="kobospan" id="kobo.321.2">For </span><strong class="bold"><span class="kobospan" id="kobo.322.1">key</span></strong><span class="kobospan" id="kobo.323.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.324.1">pdf_url</span></strong><span class="kobospan" id="kobo.325.1">. </span><span class="kobospan" id="kobo.325.2">For </span><strong class="bold"><span class="kobospan" id="kobo.326.1">value</span></strong><span class="kobospan" id="kobo.327.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.328.1">https://bookpackt67.blob.core.windows.net/test/XDroneManual.pdf?sp=r&amp;st=2024-01-12T00:52:16Z&amp;se=2024-12-31T08:52:16Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=b&amp;sig=IEXLlGXVXCilEg0ffqW8ItXc4LX2YkbRWuZIpSxfP8Y%3D</span></strong><span class="kobospan" id="kobo.329.1">. </span><span class="kobospan" id="kobo.329.2">Do not include any quotes. </span><span class="kobospan" id="kobo.329.3">Ensure that the </span><strong class="bold"><span class="kobospan" id="kobo.330.1">private</span></strong><span class="kobospan" id="kobo.331.1"> box </span><span><span class="kobospan" id="kobo.332.1">is </span></span><span><em class="italic"><span class="kobospan" id="kobo.333.1">unchecked</span></em></span><span><span class="kobospan" id="kobo.334.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.335.1">Click on </span><strong class="bold"><span class="kobospan" id="kobo.336.1">Parameter</span></strong><span class="kobospan" id="kobo.337.1"> again. </span><span class="kobospan" id="kobo.337.2">For </span><strong class="bold"><span class="kobospan" id="kobo.338.1">key</span></strong><span class="kobospan" id="kobo.339.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.340.1">question</span></strong><span class="kobospan" id="kobo.341.1">. </span><span class="kobospan" id="kobo.341.2">For </span><strong class="bold"><span class="kobospan" id="kobo.342.1">value</span></strong><span class="kobospan" id="kobo.343.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.344.1">for safety, what's the highest you should fly the drone?</span></strong><span class="kobospan" id="kobo.345.1">. </span><span class="kobospan" id="kobo.345.2">Do not include any quotes. </span><span class="kobospan" id="kobo.345.3">Ensure that the </span><strong class="bold"><span class="kobospan" id="kobo.346.1">private</span></strong><span class="kobospan" id="kobo.347.1"> box </span><span><span class="kobospan" id="kobo.348.1">is </span></span><span><em class="italic"><span class="kobospan" id="kobo.349.1">unchecked</span></em></span><span><span class="kobospan" id="kobo.350.1">.</span></span></li></ul></li>
<li class="calibre15"><span class="kobospan" id="kobo.351.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.352.1">Initialize Call</span></strong><span class="kobospan" id="kobo.353.1"> to test </span><a id="_idIndexMarker320" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.354.1">the API call. </span><span class="kobospan" id="kobo.354.2">If you see the screen shown in </span><span><em class="italic"><span class="kobospan" id="kobo.355.1">Figure 7</span></em></span><em class="italic"><span class="kobospan" id="kobo.356.1">.9</span></em><span class="kobospan" id="kobo.357.1">, then the</span><a id="_idIndexMarker321" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.358.1"> call has been successful. </span><span class="kobospan" id="kobo.358.2">Ensure that for each choice, the </span><strong class="bold"><span class="kobospan" id="kobo.359.1">text</span></strong><span class="kobospan" id="kobo.360.1"> type has been selected, and </span><span><span class="kobospan" id="kobo.361.1">click </span></span><span><strong class="bold"><span class="kobospan" id="kobo.362.1">Save</span></strong></span><span><span class="kobospan" id="kobo.363.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer085">
<span class="kobospan" id="kobo.364.1"><img alt="Figure 7.9 – A successful UI ﻿configuration" src="image/B21007_07_9.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.365.1">Figure 7.9 – A successful UI configuration</span></p>
<ol class="calibre14">
<li value="23" class="calibre15"><span class="kobospan" id="kobo.366.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.367.1">Design</span></strong><span class="kobospan" id="kobo.368.1"> from </span><a id="_idIndexMarker322" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.369.1">the left-hand menu. </span><span class="kobospan" id="kobo.369.2">Create a Button element by selecting </span><strong class="bold"><span class="kobospan" id="kobo.370.1">Button</span></strong><span class="kobospan" id="kobo.371.1"> and then drawing a box below the </span><strong class="bold"><span class="kobospan" id="kobo.372.1">File </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.373.1">Uploader</span></strong></span><span><span class="kobospan" id="kobo.374.1"> element.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.375.1">Double-click </span><a id="_idIndexMarker323" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.376.1">the Button element that you have created. </span><span class="kobospan" id="kobo.376.2">In the property menu that appears, select </span><span><strong class="bold"><span class="kobospan" id="kobo.377.1">Add Workflow</span></strong></span><span><span class="kobospan" id="kobo.378.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer086">
<span class="kobospan" id="kobo.379.1"><img alt="Figure 7.10 – Visual layout of page and adding a workflow" src="image/B21007_07_10.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.380.1">Figure 7.10 – Visual layout of page and adding a workflow</span></p>
<ol class="calibre14">
<li value="25" class="calibre15"><span class="kobospan" id="kobo.381.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.382.1">Click here to add an action</span></strong><span class="kobospan" id="kobo.383.1">. </span><span class="kobospan" id="kobo.383.2">Go to </span><strong class="bold"><span class="kobospan" id="kobo.384.1">Plugins</span></strong><span class="kobospan" id="kobo.385.1">, find the API you have just created (</span><strong class="source-inline1"><span class="kobospan" id="kobo.386.1">answer_from_file - API call</span></strong><span class="kobospan" id="kobo.387.1">), and select it. </span><span class="kobospan" id="kobo.387.2">Do the following in </span><a id="_idIndexMarker324" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.388.1">the property menu </span><span><span class="kobospan" id="kobo.389.1">that appears:</span></span><ul class="calibre17"><li class="calibre15"><span class="kobospan" id="kobo.390.1">Delete the content of </span><strong class="source-inline1"><span class="kobospan" id="kobo.391.1">(param) pdf_url</span></strong><span class="kobospan" id="kobo.392.1">. </span><span class="kobospan" id="kobo.392.2">Type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.393.1">http:</span></strong><span class="kobospan" id="kobo.394.1"> and then select </span><strong class="bold"><span class="kobospan" id="kobo.395.1">Insert dynamic data</span></strong><span class="kobospan" id="kobo.396.1">. </span><span class="kobospan" id="kobo.396.2">Scroll down and select </span><strong class="bold"><span class="kobospan" id="kobo.397.1">File Uploader A</span></strong><span class="kobospan" id="kobo.398.1">, and then </span><span><span class="kobospan" id="kobo.399.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.400.1">value</span></strong></span><span><span class="kobospan" id="kobo.401.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.402.1">Delete the content of </span><strong class="source-inline1"><span class="kobospan" id="kobo.403.1">(param) question</span></strong><span class="kobospan" id="kobo.404.1">. </span><span class="kobospan" id="kobo.404.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.405.1">Insert dynamic data</span></strong><span class="kobospan" id="kobo.406.1">. </span><span class="kobospan" id="kobo.406.2">Scroll down and select </span><strong class="bold"><span class="kobospan" id="kobo.407.1">Input Question</span></strong><span class="kobospan" id="kobo.408.1">, and then </span><span><span class="kobospan" id="kobo.409.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.410.1">value</span></strong></span><span><span class="kobospan" id="kobo.411.1">.</span></span></li></ul></li>
<li class="calibre15"><span class="kobospan" id="kobo.412.1">Next, select </span><strong class="bold"><span class="kobospan" id="kobo.413.1">Click here to add an action</span></strong><span class="kobospan" id="kobo.414.1"> again, scroll down to </span><strong class="bold"><span class="kobospan" id="kobo.415.1">Element Actions</span></strong><span class="kobospan" id="kobo.416.1">, and then select </span><strong class="bold"><span class="kobospan" id="kobo.417.1">Set State</span></strong><span class="kobospan" id="kobo.418.1">. </span><span class="kobospan" id="kobo.418.2">For the </span><strong class="bold"><span class="kobospan" id="kobo.419.1">Element</span></strong><span class="kobospan" id="kobo.420.1"> drop-down menu, select </span><strong class="bold"><span class="kobospan" id="kobo.421.1">Text A</span></strong><span class="kobospan" id="kobo.422.1">. </span><span class="kobospan" id="kobo.422.2">For the </span><strong class="bold"><span class="kobospan" id="kobo.423.1">Custom state</span></strong><span class="kobospan" id="kobo.424.1"> drop-down menu, select </span><strong class="bold"><span class="kobospan" id="kobo.425.1">answer</span></strong><span class="kobospan" id="kobo.426.1">. </span><span class="kobospan" id="kobo.426.2">For </span><strong class="bold"><span class="kobospan" id="kobo.427.1">Value</span></strong><span class="kobospan" id="kobo.428.1">, select </span><strong class="bold"><span class="kobospan" id="kobo.429.1">Results of step 1</span></strong><span class="kobospan" id="kobo.430.1"> and then select </span><strong class="bold"><span class="kobospan" id="kobo.431.1">answer</span></strong><span class="kobospan" id="kobo.432.1">. </span><span class="kobospan" id="kobo.432.2">This will make the value of </span><strong class="bold"><span class="kobospan" id="kobo.433.1">Text A</span></strong><span class="kobospan" id="kobo.434.1"> equal to the answer from the API call to the cloud function that you </span><span><span class="kobospan" id="kobo.435.1">have created.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer087">
<span class="kobospan" id="kobo.436.1"><img alt="Figure 7.11 – Setting the state in an element" src="image/B21007_07_11.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.437.1">Figure 7.11 – Setting the state in an element</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer088">
<span class="kobospan" id="kobo.438.1"><img alt="Figure 7.12 – Setting the value to a custom state" src="image/B21007_07_12.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.439.1">Figure 7.12 – Setting the value to a custom state</span></p>
<ol class="calibre14">
<li value="27" class="calibre15"><span class="kobospan" id="kobo.440.1">We have </span><a id="_idIndexMarker325" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.441.1">completed everything </span><a id="_idIndexMarker326" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.442.1">we need for our Bubble application. </span><span class="kobospan" id="kobo.442.2">Let’s test if the application works. </span><span class="kobospan" id="kobo.442.3">Select </span><strong class="bold"><span class="kobospan" id="kobo.443.1">Preview</span></strong><span class="kobospan" id="kobo.444.1"> on the right and a new page will appear, with your application. </span><span class="kobospan" id="kobo.444.2">In the </span><strong class="bold"><span class="kobospan" id="kobo.445.1">Question</span></strong><span class="kobospan" id="kobo.446.1"> text box, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.447.1">for safety, what's the highest you should fly the drone?</span></strong><span class="kobospan" id="kobo.448.1">. </span><span class="kobospan" id="kobo.448.2">Select the </span><strong class="bold"><span class="kobospan" id="kobo.449.1">File Uploader</span></strong><span class="kobospan" id="kobo.450.1"> input and upload the PDF file of the drone manual that you </span><span><span class="kobospan" id="kobo.451.1">downloaded earlier.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.452.1">Click the </span><strong class="bold"><span class="kobospan" id="kobo.453.1">Submit</span></strong><span class="kobospan" id="kobo.454.1"> button. </span><span class="kobospan" id="kobo.454.2">If all goes well, you should get a screen like the one shown in </span><span><em class="italic"><span class="kobospan" id="kobo.455.1">Figure 7</span></em></span><em class="italic"><span class="kobospan" id="kobo.456.1">.13</span></em><span class="kobospan" id="kobo.457.1">, which contains the answer to the user’s question directly from content in the </span><span><span class="kobospan" id="kobo.458.1">PDF file.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer089">
<span class="kobospan" id="kobo.459.1"><img alt="Figure 7.13 – Output from the Bubble application" src="image/B21007_07_13.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.460.1">Figure 7.13 – Output from the Bubble application</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.461.1">After you’ve</span><a id="_idIndexMarker327" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.462.1"> done this, try typing other</span><a id="_idIndexMarker328" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.463.1"> questions that are relevant to the PDF file, such as </span><strong class="source-inline"><span class="kobospan" id="kobo.464.1">How do I charge the battery?</span></strong><span class="kobospan" id="kobo.465.1"> or </span><strong class="source-inline"><span class="kobospan" id="kobo.466.1">How do I do a </span></strong><span><strong class="source-inline"><span class="kobospan" id="kobo.467.1">360 flip?</span></strong></span><span><span class="kobospan" id="kobo.468.1">.</span></span></p>
<h2 id="_idParaDest-115" class="calibre7"><a id="_idTextAnchor123" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.469.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.470.1">In this recipe, we created a knowledge-based assistant that can read any PDF file and provide answers to questions based on </span><span><span class="kobospan" id="kobo.471.1">that file.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.472.1">This is very similar to the recipes in the previous chapter but with one key difference: the knowledge that is used to answer questions does not come from ChatGPT but instead from a PDF file that </span><span><span class="kobospan" id="kobo.473.1">was provided.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.474.1">Code walkthrough</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.475.1">The</span><a id="_idIndexMarker329" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.476.1"> code that we used in the Google cloud function contains instructions to read the PDF URL, extract the content, and pass it to the OpenAI API, which is what makes this different than </span><span><span class="kobospan" id="kobo.477.1">previous recipes.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.478.1">To do this, we had to import two additional </span><span><span class="kobospan" id="kobo.479.1">Python packages:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.480.1">Requests</span></strong><span class="kobospan" id="kobo.481.1">: This package enables us to send HTTP requests easily. </span><span class="kobospan" id="kobo.481.2">This is essential for fetching the PDF file from the provided URL. </span><span class="kobospan" id="kobo.481.3">By using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.482.1">requests.get()</span></strong><span class="kobospan" id="kobo.483.1"> function, we can retrieve the content of any online document, in this case, a </span><span><span class="kobospan" id="kobo.484.1">PDF file.</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.485.1">PyPDF2</span></strong><span class="kobospan" id="kobo.486.1">: This package enables us to interact with and manipulate PDF files directly within Python. </span><span class="kobospan" id="kobo.486.2">Once the PDF is fetched, </span><strong class="source-inline1"><span class="kobospan" id="kobo.487.1">PyPDF2</span></strong><span class="kobospan" id="kobo.488.1"> provides the tools to read the PDF file, extract text, and even handle different aspects of PDF manipulation, if necessary. </span><span class="kobospan" id="kobo.488.2">In our application, it primarily serves to convert the PDF content into a text format that can be processed by the </span><span><span class="kobospan" id="kobo.489.1">OpenAI API.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.490.1">We first make a request </span><a id="_idIndexMarker330" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.491.1">to the URL of the PDF that is provided to us by the user from the </span><strong class="source-inline"><span class="kobospan" id="kobo.492.1">pdf_url</span></strong><span class="kobospan" id="kobo.493.1"> object. </span><span class="kobospan" id="kobo.493.2">We then convert that </span><span><span class="kobospan" id="kobo.494.1">into bytes:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.495.1">
  # Send a GET request to the URL
  response = requests.get(pdf_url, stream=True)
response.raise_for_status()  # Ensure the request was successful</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.496.1">We then use the </span><strong class="source-inline"><span class="kobospan" id="kobo.497.1">PdfReader</span></strong><span class="kobospan" id="kobo.498.1"> class of </span><strong class="source-inline"><span class="kobospan" id="kobo.499.1">PyPDF2</span></strong><span class="kobospan" id="kobo.500.1"> to read the bytes and read the contents of the PDF file page by page. </span><span class="kobospan" id="kobo.500.2">We save the entire string content of the PDF file to the </span><span><strong class="source-inline"><span class="kobospan" id="kobo.501.1">text</span></strong></span><span><span class="kobospan" id="kobo.502.1"> variable:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.503.1">
  # save text
  text = ''
  # Create a PDF reader object using the byte stream from the response
  with io.BytesIO(response.content) as pdf_file:
pdf_reader = PdfReader(pdf_file)
    # Iterate over each page and print the text
    for page_num in range(len(pdf_reader.pages)):
      page = pdf_reader.pages[0]
      text = text + page.extract_text()</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.504.1">Finally, when we call the OpenAI Chat API, our instructions are for the LLM to read through the text and the user’s question, and then to answer the user’s question based on the text provided. </span><span class="kobospan" id="kobo.504.2">We then provided the text of the entire PDF file and the </span><span><span class="kobospan" id="kobo.505.1">user’s question:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.506.1">
  response = client.chat.completions.create(
  model="gpt-4",
  messages=[
    {
      "role": "system",
      "content": "You are a helpful assistant that goes through text file and answers questions"
    },
    {
      "role": "user",
      "content": '\n\n TEXT: ' + text + ' \n\n QUESTION: ' + question
    }
  ],
  temperature=0.64,
max_tokens=1000,
top_p=1,
frequency_penalty=0,
presence_penalty=0
  )
  answer = response.choices[0].message.content</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.507.1">This is the same </span><a id="_idIndexMarker331" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.508.1">as if you were to go to ChatGPT, copy and paste the content of the entire PDF file, and then ask the user’s question. </span><span class="kobospan" id="kobo.508.2">However, in this way, you’ve built an application around it that makes it far easier for the user – all they need to do is upload the PDF and put their question in a </span><span><span class="kobospan" id="kobo.509.1">text box.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.510.1">Limitations of this approach</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.511.1">We have </span><a id="_idIndexMarker332" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.512.1">already discussed the benefits: namely that since ChatGPT’s internal knowledge may be out of date and it’s impossible to track the source of any information provided by ChatGPT, having an architecture that forces the Open API to use only the knowledge provided by the user alleviates </span><span><span class="kobospan" id="kobo.513.1">this issue.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.514.1">There are, however, also a few limitations to this approach. </span><span class="kobospan" id="kobo.514.2">It’s key to have an understanding of them so you can make the most out of the approach. </span><span class="kobospan" id="kobo.514.3">They are </span><span><span class="kobospan" id="kobo.515.1">as follows:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.516.1">Dependency on PDF quality</span></em><span class="kobospan" id="kobo.517.1">: The accuracy of the assistant is heavily dependent on the quality and clarity of the PDF content. </span><span class="kobospan" id="kobo.517.2">Poorly structured documents or complex formats can lead to incomplete or incorrect responses. </span><span class="kobospan" id="kobo.517.3">Additionally, this method will not work for information embedded within images, as the Open AI API cannot </span><span><span class="kobospan" id="kobo.518.1">read images.</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.519.1">Resource intensity for large documents</span></em><span class="kobospan" id="kobo.520.1">: The assistant needs to process and understand the entire document for each query, which can be resource-intensive and result in slow response times, especially for </span><span><span class="kobospan" id="kobo.521.1">large documents.</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.522.1">Limited knowledge scope</span></em><span class="kobospan" id="kobo.523.1">: The assistant’s knowledge is limited to the specific subject matter of the PDF, lacking the comprehensive coverage found in ChatGPT’s </span><span><span class="kobospan" id="kobo.524.1">built-in database.</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.525.1">Maintenance of the knowledge base</span></em><span class="kobospan" id="kobo.526.1">: Keeping the information current requires constant updates to the PDF files, which can be time-consuming, especially with frequently </span><span><span class="kobospan" id="kobo.527.1">changing information.</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.528.1">Context window limitation</span></em><span class="kobospan" id="kobo.529.1">: The content in the PDF must be within the context window of the ChatGPT model. </span><span class="kobospan" id="kobo.529.2">This approach is not feasible for very long PDFs as the model cannot process content that exceeds its context window (which is the maximum number of words that can be processed by the API), limiting the amount of information that can be used </span><span><span class="kobospan" id="kobo.530.1">for responses.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.531.1">As a result, users can adopt another approach that is contained within a special subset of the OpenAI API, called the Assistants API, which we will discuss in the </span><span><span class="kobospan" id="kobo.532.1">subsequent recipe.</span></span></p>
<h1 id="_idParaDest-116" class="calibre5"><a id="_idTextAnchor124" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.533.1">Creating a knowledge-retrieval assistant through the Assistants API</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.534.1">OpenAI has </span><a id="_idIndexMarker333" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.535.1">recently released the </span><a id="_idIndexMarker334" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.536.1">Assistants API, wherein you can create knowledge-based assistants with minimal coding and complexity. </span><span class="kobospan" id="kobo.536.2">A big advantage is that you can incorporate tools into your assistants that OpenAI has built, such as </span><em class="italic"><span class="kobospan" id="kobo.537.1">Code Interpreter</span></em><span class="kobospan" id="kobo.538.1"> and </span><em class="italic"><span class="kobospan" id="kobo.539.1">Knowledge Retrieval</span></em><span class="kobospan" id="kobo.540.1">. </span><span class="kobospan" id="kobo.540.2">These augmentations essentially give your assistant application superpowers. </span><span class="kobospan" id="kobo.540.3">For this recipe, we will focus on the Knowledge </span><span><span class="kobospan" id="kobo.541.1">Retrieval tool.</span></span></p>
<p class="calibre3"><strong class="bold"><span class="kobospan" id="kobo.542.1">Knowledge </span></strong><strong class="bold"><span class="kobospan" id="kobo.543.1">R</span></strong><strong class="bold"><span class="kobospan" id="kobo.544.1">etrieval</span></strong><span class="kobospan" id="kobo.545.1"> enhances </span><a id="_idIndexMarker335" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.546.1">your assistants by incorporating external knowledge (such as the drone manual PDF file from the previous recipe). </span><span class="kobospan" id="kobo.546.2">OpenAI automatically and efficiently segments any uploaded documents while creating indices of embeddings. </span><span class="kobospan" id="kobo.546.3">These embeddings are stored in </span><span><span class="kobospan" id="kobo.547.1">OpenAI’s database.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.548.1">Recall in </span><a href="B21007_04.xhtml#_idTextAnchor074" class="pcalibre1 calibre6 pcalibre"><span><em class="italic"><span class="kobospan" id="kobo.549.1">Chapter 4</span></em></span></a><span class="kobospan" id="kobo.550.1"> we discussed how embeddings can be used to compare text similarity and to search for segments of texts. </span><span class="kobospan" id="kobo.550.2">With Knowledge Retrieval, OpenAI does this automatically for you. </span><span class="kobospan" id="kobo.550.3">When a user asks the Assistants API a question that is augmented by Knowledge Retrieval, it employs a vector search to extract pertinent information from the uploaded documents, responding effectively to </span><span><span class="kobospan" id="kobo.551.1">user inquiries.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.552.1">In this </span><a id="_idIndexMarker336" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.553.1">way, the knowledge source can be infinite in length, as the knowledge source itself is not passed to the Chat API, but instead is vectorized and only small relevant segments of text are passed to the Chat API based on a </span><span><span class="kobospan" id="kobo.554.1">user’s question.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.555.1">In other words, using the Assistants API with Knowledge Retrieval means that you can upload large PDFs and as many PDFs as you want, and there is effectively no context </span><span><span class="kobospan" id="kobo.556.1">window limitation.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.557.1">This is useful for creating highly specialized assistants that need to draw on vast amounts of specific information. </span><span class="kobospan" id="kobo.557.2">For instance, if you’re building an assistant for legal professionals, you can upload numerous legal texts, case studies, and statutes. </span><span class="kobospan" id="kobo.557.3">The Assistants API, powered by Knowledge Retrieval, can then provide precise legal references and interpretations in response to complex queries. </span><span class="kobospan" id="kobo.557.4">Similarly, for medical professionals, uploading extensive medical literature and research papers enables the Assistants API to </span><a id="_idIndexMarker337" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.558.1">offer detailed medical insights. </span><span class="kobospan" id="kobo.558.2">This makes the Assistants API not just a conversational tool, but a robust, </span><span><span class="kobospan" id="kobo.559.1">information-rich resource.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.560.1">In this recipe, we </span><a id="_idIndexMarker338" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.561.1">will use the Assistants API to create a </span><em class="italic"><span class="kobospan" id="kobo.562.1">Legal Constitution Helper</span></em><span class="kobospan" id="kobo.563.1"> assistant that gets its knowledge directly from the US </span><span><span class="kobospan" id="kobo.564.1">Constitution document.</span></span></p>
<h2 id="_idParaDest-117" class="calibre7"><a id="_idTextAnchor125" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.565.1">How to do it…</span></h2>
<h3 class="calibre8"><span class="kobospan" id="kobo.566.1">Playground</span></h3>
<ol class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.567.1">Navigate to </span><a href="https://openai.com" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.568.1">https://openai.com</span></a><span class="kobospan" id="kobo.569.1">. </span><span class="kobospan" id="kobo.569.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.570.1">Playground</span></strong><span class="kobospan" id="kobo.571.1"> from the left-hand menu. </span><span class="kobospan" id="kobo.571.2">In the top menu, ensure that </span><strong class="bold"><span class="kobospan" id="kobo.572.1">Assistants</span></strong><span class="kobospan" id="kobo.573.1"> is selected from the drop-down menu. </span><span class="kobospan" id="kobo.573.2">Select the dropdown near the top and select </span><strong class="bold"><span class="kobospan" id="kobo.574.1">Create assistant</span></strong><span class="kobospan" id="kobo.575.1"> to create a </span><span><span class="kobospan" id="kobo.576.1">new assistant.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.577.1">Enter the following configuration details </span><span><span class="kobospan" id="kobo.578.1">for </span></span><span><strong class="bold"><span class="kobospan" id="kobo.579.1">Assistant</span></strong></span><span><span class="kobospan" id="kobo.580.1">:</span></span><ul class="calibre17"><li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.581.1">Name</span></strong><span class="kobospan" id="kobo.582.1">: </span><strong class="source-inline1"><span class="kobospan" id="kobo.583.1">US </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.584.1">Constitution Expert.</span></strong></span></li><li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.585.1">Instructions</span></strong><span class="kobospan" id="kobo.586.1">: </span><strong class="source-inline1"><span class="kobospan" id="kobo.587.1">You are a helpful assistant that helps answer legal constitution related questions from reading the US constitution. </span><span class="kobospan" id="kobo.587.2">Reference specific parts of the document where you found the information required to answer </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.588.1">the question.</span></strong></span></li><li class="calibre15"><span><strong class="bold"><span class="kobospan" id="kobo.589.1">Model</span></strong></span><span><span class="kobospan" id="kobo.590.1">: </span></span><span><strong class="bold"><span class="kobospan" id="kobo.591.1">gpt-4-1106-preview</span></strong></span><span><span class="kobospan" id="kobo.592.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.593.1">Toggle the </span><strong class="bold"><span class="kobospan" id="kobo.594.1">Retrieval</span></strong> <span><span class="kobospan" id="kobo.595.1">tool </span></span><span><em class="italic"><span class="kobospan" id="kobo.596.1">on.</span></em></span></li><li class="calibre15"><span class="kobospan" id="kobo.597.1">Under </span><strong class="bold"><span class="kobospan" id="kobo.598.1">Files</span></strong><span class="kobospan" id="kobo.599.1">, select </span><strong class="bold"><span class="kobospan" id="kobo.600.1">Add</span></strong><span class="kobospan" id="kobo.601.1">, and upload the following file (</span><a href="https://bookpackt67.blob.core.windows.net/test/us_constitution.pdf?sp=r&amp;st=2024-01-15T07:51:23Z&amp;se=2024-12-31T15:51:23Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=b&amp;sig=C9hFIvrI3FHogBumPTRaL1hrwS8C1B0t3hnlzS9t6Ew%3D" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.602.1">https://bookpackt67.blob.core.windows.net/test/us_constitution.pdf?sp=r&amp;st=2024-01-15T07:51:23Z&amp;se=2024-12-31T15:51:23Z&amp;spr=https&amp;sv=2022-11-02&amp;sr=b&amp;sig=C9hFIvrI3FHogBumPTRaL1hrwS8C1B0t3hnlzS9t6Ew%3D</span></a><span class="kobospan" id="kobo.603.1">). </span><span class="kobospan" id="kobo.603.2">This file is </span><a id="_idIndexMarker339" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.604.1">the </span><span><span class="kobospan" id="kobo.605.1">US Constitution.</span></span></li></ul></li>
</ol>
<p class="callout-heading"><span class="kobospan" id="kobo.606.1">Note</span></p>
<p class="callout"><span class="kobospan" id="kobo.607.1">You will need to download the file locally to then upload it </span><span><span class="kobospan" id="kobo.608.1">to OpenAI.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer090">
<span class="kobospan" id="kobo.609.1"><img alt="Figure 7.14 – Assistant Playground configuration" src="image/B21007_07_14.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.610.1">Figure 7.14 – Assistant Playground configuration</span></p>
<ol class="calibre14">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.611.1">Select</span><a id="_idIndexMarker340" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.612.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.613.1">Save</span></strong><span class="kobospan" id="kobo.614.1"> button </span><a id="_idIndexMarker341" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.615.1">at the bottom. </span><span class="kobospan" id="kobo.615.2">After you do this, an assistant ID will appear directly below the </span><strong class="bold"><span class="kobospan" id="kobo.616.1">Name</span></strong><span class="kobospan" id="kobo.617.1"> field. </span><span class="kobospan" id="kobo.617.2">It will be in the following format: </span><em class="italic"><span class="kobospan" id="kobo.618.1">asst_XXXXXXXXXXXXXXXXXXXXX</span></em><span class="kobospan" id="kobo.619.1">. </span><span class="kobospan" id="kobo.619.2">Note this down, as this is the unique ID for your assistant, and we will need to reference this in the backend function that </span><span><span class="kobospan" id="kobo.620.1">we create.</span></span></li>
</ol>
<h3 class="calibre8"><span class="kobospan" id="kobo.621.1">Google Cloud Functions</span></h3>
<ol class="calibre14">
<li value="4" class="calibre15"><span class="kobospan" id="kobo.622.1">In a </span><a id="_idIndexMarker342" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.623.1">new tab, navigate to </span><a href="https://cloud.google.com" class="pcalibre1 calibre6 pcalibre"><span class="kobospan" id="kobo.624.1">https://cloud.google.com</span></a><span class="kobospan" id="kobo.625.1"> and log in with your </span><span><span class="kobospan" id="kobo.626.1">Google credentials.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.627.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.628.1">Console</span></strong><span class="kobospan" id="kobo.629.1"> in the </span><span><span class="kobospan" id="kobo.630.1">top right.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.631.1">Create a new Google cloud function. </span><span class="kobospan" id="kobo.631.2">In the search bar, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.632.1">function</span></strong><span class="kobospan" id="kobo.633.1">, select </span><strong class="bold"><span class="kobospan" id="kobo.634.1">Cloud Functions</span></strong><span class="kobospan" id="kobo.635.1">, and then select </span><span><strong class="bold"><span class="kobospan" id="kobo.636.1">Create Function</span></strong></span><span><span class="kobospan" id="kobo.637.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.638.1">Name the function a descriptive name. </span><span class="kobospan" id="kobo.638.2">We are going to aptly name </span><span><span class="kobospan" id="kobo.639.1">it </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.640.1">get_answer</span></strong></span><span><span class="kobospan" id="kobo.641.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.642.1">In the </span><strong class="bold"><span class="kobospan" id="kobo.643.1">Authentication</span></strong><span class="kobospan" id="kobo.644.1"> menu, ensure that you select </span><strong class="bold"><span class="kobospan" id="kobo.645.1">Allow unauthenticated invocations</span></strong><span class="kobospan" id="kobo.646.1"> as the authentication method. </span><span class="kobospan" id="kobo.646.2">This will enable the frontend application to make calls to the </span><span><span class="kobospan" id="kobo.647.1">backend layer.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.648.1">Select</span><a id="_idIndexMarker343" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.649.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.650.1">Runtime, build, connections and security settings</span></strong><span class="kobospan" id="kobo.651.1"> drop-down menu to expand the options. </span><span class="kobospan" id="kobo.651.2">Change </span><strong class="bold"><span class="kobospan" id="kobo.652.1">timeout</span></strong><span class="kobospan" id="kobo.653.1"> from 60 seconds to 300 seconds. </span><span class="kobospan" id="kobo.653.2">This will make sure that the timeout for the Google cloud function is not 1 minute but five </span><span><span class="kobospan" id="kobo.654.1">minutes instead.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer091">
<span class="kobospan" id="kobo.655.1"><img alt="Figure 7.15 – Google ﻿cloud ﻿function configuration settings" src="image/B21007_07_15.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.656.1">Figure 7.15 – Google cloud function configuration settings</span></p>
<ol class="calibre14">
<li value="10" class="calibre15"><span class="kobospan" id="kobo.657.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.658.1">Next</span></strong><span class="kobospan" id="kobo.659.1"> to</span><a id="_idIndexMarker344" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.660.1"> move on to function development. </span><span class="kobospan" id="kobo.660.2">In the </span><strong class="bold"><span class="kobospan" id="kobo.661.1">Runtime</span></strong><span class="kobospan" id="kobo.662.1"> dropdown menu, select </span><strong class="bold"><span class="kobospan" id="kobo.663.1">Python 3.12</span></strong><span class="kobospan" id="kobo.664.1">. </span><span class="kobospan" id="kobo.664.2">For </span><strong class="bold"><span class="kobospan" id="kobo.665.1">entry point</span></strong><span class="kobospan" id="kobo.666.1">, select or type </span><span><span class="kobospan" id="kobo.667.1">in </span></span><span><strong class="bold"><span class="kobospan" id="kobo.668.1">get_answer</span></strong></span><span><span class="kobospan" id="kobo.669.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.670.1">Go to </span><strong class="source-inline1"><span class="kobospan" id="kobo.671.1">Requirements.txt</span></strong><span class="kobospan" id="kobo.672.1"> in the left-hand menu and type the following Python </span><a id="_idIndexMarker345" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.673.1">package in as this library will be used in the </span><span><span class="kobospan" id="kobo.674.1">backend function:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.675.1">
openai</span></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.676.1">For the actual code block, type in the following. </span><span class="kobospan" id="kobo.676.2">This function takes in one input (</span><strong class="source-inline1"><span class="kobospan" id="kobo.677.1">question</span></strong><span class="kobospan" id="kobo.678.1">) and returns the relevant </span><strong class="source-inline1"><span class="kobospan" id="kobo.679.1">answer</span></strong><span class="kobospan" id="kobo.680.1"> through the Assistants API. </span><span class="kobospan" id="kobo.680.2">The code walkthrough will be discussed in the </span><em class="italic"><span class="kobospan" id="kobo.681.1">Using the assistant</span></em><span class="kobospan" id="kobo.682.1"> sub-section. </span><span class="kobospan" id="kobo.682.2">Replace the </span><strong class="source-inline1"><span class="kobospan" id="kobo.683.1">&lt;assistant-id-here&gt;</span></strong><span class="kobospan" id="kobo.684.1"> with the assistant ID you noted down in </span><em class="italic"><span class="kobospan" id="kobo.685.1">step 3</span></em><span class="kobospan" id="kobo.686.1"> of the </span><span><em class="italic"><span class="kobospan" id="kobo.687.1">Playground</span></em></span><span><span class="kobospan" id="kobo.688.1"> section:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.689.1">
import functions_framework
import time
from openai import OpenAI
@functions_framework.http
def get_answer(request):
  # declare assistant id
assistant_id = '</span><strong class="bold1"><span class="kobospan1" id="kobo.690.1">&lt;assistant-id-here&gt;</span></strong><span class="kobospan1" id="kobo.691.1">'
  # get inputs
request_json = request.get_json(silent=True)
  question = request_json['question']
  # initializeopenai
  client = OpenAI(api_key = '</span><strong class="bold1"><span class="kobospan1" id="kobo.692.1">&lt;api-key here&gt;</span></strong><span class="kobospan1" id="kobo.693.1">')
  # create a thread
  thread = client.beta.threads.create()
  # create message question in thread
  message = client.beta.threads.messages.create(
thread_id=thread.id,
    role="user",
    content=question
    )
  # run assistant
  run = client.beta.threads.runs.create(
thread_id=thread.id,
assistant_id=assistant_id,
  instructions=""
  )
  # wait 30 seconds for response
time.sleep(30)
  # get answer
thread_messages = client.beta.threads.messages.list(thread.id)
  answer = thread_messages.data[0].content[0].text.value
  # return answer
  result = {
    'answer': answer
  }
  return result</span></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.694.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.695.1">Deploy</span></strong><span class="kobospan" id="kobo.696.1">. </span><span class="kobospan" id="kobo.696.2">You might need to wait five minutes for the deployment to fully complete. </span><span class="kobospan" id="kobo.696.3">When you see the green checkmark on the cloud function screen, your function has been </span><span><span class="kobospan" id="kobo.697.1">successfully deployed.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.698.1">Similar to </span><a id="_idIndexMarker346" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.699.1">the previous recipe, we will now use Postman to test the cloud function that we have just deployed. </span><span class="kobospan" id="kobo.699.2">Open </span><strong class="bold"><span class="kobospan" id="kobo.700.1">Postman</span></strong><span class="kobospan" id="kobo.701.1">. </span><span class="kobospan" id="kobo.701.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.702.1">New</span></strong><span class="kobospan" id="kobo.703.1"> on the top left, </span><span><span class="kobospan" id="kobo.704.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.705.1">HTTP</span></strong></span><span><span class="kobospan" id="kobo.706.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.707.1">In the </span><a id="_idIndexMarker347" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.708.1">Postman request, select </span><strong class="bold"><span class="kobospan" id="kobo.709.1">Headers</span></strong><span class="kobospan" id="kobo.710.1"> and type in a new header, with the </span><strong class="bold"><span class="kobospan" id="kobo.711.1">Key</span></strong><span class="kobospan" id="kobo.712.1"> equal to </span><strong class="source-inline1"><span class="kobospan" id="kobo.713.1">Content-Type</span></strong><span class="kobospan" id="kobo.714.1"> and the </span><strong class="bold"><span class="kobospan" id="kobo.715.1">value</span></strong><span class="kobospan" id="kobo.716.1"> equal </span><span><span class="kobospan" id="kobo.717.1">to </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.718.1">application/json</span></strong></span><span><span class="kobospan" id="kobo.719.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.720.1">Change the request from </span><strong class="bold"><span class="kobospan" id="kobo.721.1">Get</span></strong><span class="kobospan" id="kobo.722.1"> to </span><strong class="bold"><span class="kobospan" id="kobo.723.1">Post</span></strong><span class="kobospan" id="kobo.724.1"> from the left-hand drop-down menu. </span><span class="kobospan" id="kobo.724.2">Copy the endpoint URL from the </span><strong class="bold"><span class="kobospan" id="kobo.725.1">Cloud Function</span></strong><span class="kobospan" id="kobo.726.1"> page and paste it </span><span><span class="kobospan" id="kobo.727.1">into Postman.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.728.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.729.1">Body</span></strong><span class="kobospan" id="kobo.730.1">, then select </span><strong class="bold"><span class="kobospan" id="kobo.731.1">Raw</span></strong><span class="kobospan" id="kobo.732.1">, and copy and paste the following </span><span><span class="kobospan" id="kobo.733.1">JSON request:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.734.1">
{
    "question": "How many senators are there?"
</span><span class="kobospan1" id="kobo.734.2">}</span></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.735.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.736.1">Send</span></strong><span class="kobospan" id="kobo.737.1"> to make the call to your cloud function. </span><span class="kobospan" id="kobo.737.2">If all goes well, you should see an answer such </span><span><span class="kobospan" id="kobo.738.1">as this:</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.739.1">The Senate of the United States shall be composed of two Senators from each state, and each Senator shall have one vote.</span></strong></pre></li> </ol>
<h3 class="calibre8"><span class="kobospan" id="kobo.740.1">Bubble</span></h3>
<ol class="calibre14">
<li value="19" class="calibre15"><span class="kobospan" id="kobo.741.1">Navigate to w and log in. </span><span class="kobospan" id="kobo.741.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.742.1">Create an app</span></strong><span class="kobospan" id="kobo.743.1"> and give your app a relevant name. </span><span class="kobospan" id="kobo.743.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.744.1">Get started</span></strong><span class="kobospan" id="kobo.745.1"> and then select </span><strong class="bold"><span class="kobospan" id="kobo.746.1">Start with basic features</span></strong><span class="kobospan" id="kobo.747.1">. </span><span class="kobospan" id="kobo.747.2">You can also click the </span><strong class="bold"><span class="kobospan" id="kobo.748.1">Skip the Application Assistant</span></strong><span class="kobospan" id="kobo.749.1"> prompt if you </span><span><span class="kobospan" id="kobo.750.1">encounter it.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.751.1">On the Canvas page, we are going to add a few elements that are required for our application. </span><span class="kobospan" id="kobo.751.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.752.1">Input</span></strong><span class="kobospan" id="kobo.753.1"> from the left-hand menu and then draw a rectangle at the top of the page. </span><span class="kobospan" id="kobo.753.2">Double-click the element and on the property menu, replace </span><strong class="bold"><span class="kobospan" id="kobo.754.1">Placeholder</span></strong> <span><span class="kobospan" id="kobo.755.1">with </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.756.1">question</span></strong></span><span><span class="kobospan" id="kobo.757.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer092">
<span class="kobospan" id="kobo.758.1"><img alt="Figure 7.16 – Bubble input configuration" src="image/B21007_07_16.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.759.1">Figure 7.16 – Bubble input configuration</span></p>
<ol class="calibre14">
<li value="21" class="calibre15"><span class="kobospan" id="kobo.760.1">Next, create </span><a id="_idIndexMarker348" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.761.1">a text element by selecting it from the left-hand menu and drawing a </span><a id="_idIndexMarker349" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.762.1">rectangle (make it multiple lines) directly below the previous elements. </span><span class="kobospan" id="kobo.762.2">Double-click the text element to show the property. </span><span class="kobospan" id="kobo.762.3">Then, click </span><strong class="bold"><span class="kobospan" id="kobo.763.1">insert dynamic data</span></strong><span class="kobospan" id="kobo.764.1"> on the actual text field, select </span><strong class="bold"><span class="kobospan" id="kobo.765.1">Text A</span></strong><span class="kobospan" id="kobo.766.1">, and select </span><strong class="bold"><span class="kobospan" id="kobo.767.1">create a new custom state</span></strong><span class="kobospan" id="kobo.768.1">. </span><span class="kobospan" id="kobo.768.2">You will be prompted for a name and type. </span><span class="kobospan" id="kobo.768.3">For the name, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.769.1">answer</span></strong><span class="kobospan" id="kobo.770.1">. </span><span class="kobospan" id="kobo.770.2">For the type, ensure </span><strong class="bold"><span class="kobospan" id="kobo.771.1">text</span></strong><span class="kobospan" id="kobo.772.1"> is selected. </span><span class="kobospan" id="kobo.772.2">This will create a unique custom state for the text box, which is required to show the values in </span><span><span class="kobospan" id="kobo.773.1">the application.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer093">
<span class="kobospan" id="kobo.774.1"><img alt="Figure 7.17 – Adding a text element to Bubble" src="image/B21007_07_17.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.775.1">Figure 7.17 – Adding a text element to Bubble</span></p>
<ol class="calibre14">
<li value="22" class="calibre15"><span class="kobospan" id="kobo.776.1">The next</span><a id="_idIndexMarker350" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.777.1"> thing we need to do is to load the cloud function that we created into </span><a id="_idIndexMarker351" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.778.1">Bubble. </span><span class="kobospan" id="kobo.778.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.779.1">Plugins</span></strong><span class="kobospan" id="kobo.780.1"> from the left-hand menu, and then select </span><strong class="bold"><span class="kobospan" id="kobo.781.1">Add Plugins</span></strong><span class="kobospan" id="kobo.782.1">. </span><span class="kobospan" id="kobo.782.2">Select the </span><strong class="bold"><span class="kobospan" id="kobo.783.1">API Connector</span></strong><span class="kobospan" id="kobo.784.1">, and then select </span><strong class="bold"><span class="kobospan" id="kobo.785.1">Install</span></strong><span class="kobospan" id="kobo.786.1">, and </span><span><span class="kobospan" id="kobo.787.1">then </span></span><span><strong class="bold"><span class="kobospan" id="kobo.788.1">Done</span></strong></span><span><span class="kobospan" id="kobo.789.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer094">
<span class="kobospan" id="kobo.790.1"><img alt="Figure 7.18 – Bubble.io UI configuration" src="image/B21007_07_18.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.791.1">Figure 7.18 – Bubble.io UI configuration</span></p>
<ol class="calibre14">
<li value="23" class="calibre15"><span class="kobospan" id="kobo.792.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.793.1">API Connector</span></strong><span class="kobospan" id="kobo.794.1"> from the list of plugins. </span><span class="kobospan" id="kobo.794.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.795.1">Add Another API</span></strong><span class="kobospan" id="kobo.796.1">. </span><span class="kobospan" id="kobo.796.2">For the </span><strong class="bold"><span class="kobospan" id="kobo.797.1">API name</span></strong><span class="kobospan" id="kobo.798.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.799.1">get_answer</span></strong><span class="kobospan" id="kobo.800.1">. </span><span class="kobospan" id="kobo.800.2">Scroll down to </span><strong class="bold"><span class="kobospan" id="kobo.801.1">Create a New API</span></strong><span class="kobospan" id="kobo.802.1">, and click </span><strong class="bold"><span class="kobospan" id="kobo.803.1">Expand</span></strong><span class="kobospan" id="kobo.804.1">. </span><span class="kobospan" id="kobo.804.2">Leave the name of this API to </span><strong class="source-inline1"><span class="kobospan" id="kobo.805.1">API call</span></strong><span class="kobospan" id="kobo.806.1">. </span><span class="kobospan" id="kobo.806.2">For the API, configure the settings </span><a id="_idIndexMarker352" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.807.1">to </span><span><span class="kobospan" id="kobo.808.1">the</span></span><span><a id="_idIndexMarker353" class="pcalibre1 calibre6 pcalibre"/></span><span><span class="kobospan" id="kobo.809.1"> following:</span></span><ul class="calibre17"><li class="calibre15"><span class="kobospan" id="kobo.810.1">From the </span><strong class="bold"><span class="kobospan" id="kobo.811.1">Use as</span></strong><span class="kobospan" id="kobo.812.1"> drop-down menu, </span><span><span class="kobospan" id="kobo.813.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.814.1">Action</span></strong></span><span><span class="kobospan" id="kobo.815.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.816.1">Change request from </span><strong class="bold"><span class="kobospan" id="kobo.817.1">GET</span></strong> <span><span class="kobospan" id="kobo.818.1">to </span></span><span><strong class="bold"><span class="kobospan" id="kobo.819.1">POST</span></strong></span><span><span class="kobospan" id="kobo.820.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.821.1">Create a new header using </span><strong class="bold"><span class="kobospan" id="kobo.822.1">New Header</span></strong><span class="kobospan" id="kobo.823.1">. </span><span class="kobospan" id="kobo.823.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.824.1">Add Header.</span></strong><span class="kobospan" id="kobo.825.1"> For </span><strong class="bold"><span class="kobospan" id="kobo.826.1">key</span></strong><span class="kobospan" id="kobo.827.1"> type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.828.1">Content-Type</span></strong><span class="kobospan" id="kobo.829.1"> for </span><strong class="bold"><span class="kobospan" id="kobo.830.1">value</span></strong><span class="kobospan" id="kobo.831.1"> type </span><span><span class="kobospan" id="kobo.832.1">in </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.833.1">application/json</span></strong></span><span><span class="kobospan" id="kobo.834.1">.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.835.1">Click on </span><strong class="bold"><span class="kobospan" id="kobo.836.1">Parameter</span></strong><span class="kobospan" id="kobo.837.1"> to add a parameter. </span><span class="kobospan" id="kobo.837.2">For </span><strong class="bold"><span class="kobospan" id="kobo.838.1">key</span></strong><span class="kobospan" id="kobo.839.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.840.1">question</span></strong><span class="kobospan" id="kobo.841.1">. </span><span class="kobospan" id="kobo.841.2">For </span><strong class="bold"><span class="kobospan" id="kobo.842.1">value</span></strong><span class="kobospan" id="kobo.843.1">, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.844.1">How many senators are there?</span></strong><span class="kobospan" id="kobo.845.1">. </span><span class="kobospan" id="kobo.845.2">Do not include any quotes. </span><span class="kobospan" id="kobo.845.3">Ensure that the </span><strong class="bold"><span class="kobospan" id="kobo.846.1">private</span></strong><span class="kobospan" id="kobo.847.1"> box </span><span><span class="kobospan" id="kobo.848.1">is </span></span><span><em class="italic"><span class="kobospan" id="kobo.849.1">unchecked</span></em></span><span><span class="kobospan" id="kobo.850.1">.</span></span></li></ul></li>
<li class="calibre15"><span class="kobospan" id="kobo.851.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.852.1">Initialize Call</span></strong><span class="kobospan" id="kobo.853.1"> to test the API call. </span><span class="kobospan" id="kobo.853.2">Ensure that for each </span><strong class="bold"><span class="kobospan" id="kobo.854.1">choice</span></strong><span class="kobospan" id="kobo.855.1">, the </span><strong class="bold"><span class="kobospan" id="kobo.856.1">text</span></strong><span class="kobospan" id="kobo.857.1"> type has been selected, and </span><span><span class="kobospan" id="kobo.858.1">click </span></span><span><strong class="bold"><span class="kobospan" id="kobo.859.1">Save</span></strong></span><span><span class="kobospan" id="kobo.860.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.861.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.862.1">Design</span></strong><span class="kobospan" id="kobo.863.1"> from left-hand menu. </span><span class="kobospan" id="kobo.863.2">Create a Button element by selecting </span><strong class="bold"><span class="kobospan" id="kobo.864.1">Button</span></strong><span class="kobospan" id="kobo.865.1"> and then drawing a box to the right of the </span><span><span class="kobospan" id="kobo.866.1">Input element.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.867.1">Double-click the </span><strong class="bold"><span class="kobospan" id="kobo.868.1">Button</span></strong><span class="kobospan" id="kobo.869.1"> element that you had created. </span><span class="kobospan" id="kobo.869.2">In the property menu that </span><a id="_idIndexMarker354" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.870.1">appears, select </span><span><strong class="bold"><span class="kobospan" id="kobo.871.1">Add Workflow</span></strong></span><span><span class="kobospan" id="kobo.872.1">.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer095">
<span class="kobospan" id="kobo.873.1"><img alt="Figure 7.19 – Visual layout of page and adding a button and a workflow" src="image/B21007_07_19.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.874.1">Figure 7.19 – Visual layout of page and adding a button and a workflow</span></p>
<ol class="calibre14">
<li value="27" class="calibre15"><span class="kobospan" id="kobo.875.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.876.1">Click here to add an action</span></strong><span class="kobospan" id="kobo.877.1">. </span><span class="kobospan" id="kobo.877.2">Go to </span><strong class="bold"><span class="kobospan" id="kobo.878.1">Plugins</span></strong><span class="kobospan" id="kobo.879.1"> and find the API you had just created (</span><strong class="source-inline1"><span class="kobospan" id="kobo.880.1">get_answer - API call</span></strong><span class="kobospan" id="kobo.881.1">) and select it. </span><span class="kobospan" id="kobo.881.2">In the property menu that </span><a id="_idIndexMarker355" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.882.1">appears, delete the content of </span><strong class="source-inline1"><span class="kobospan" id="kobo.883.1">(param) question</span></strong><span class="kobospan" id="kobo.884.1">. </span><span class="kobospan" id="kobo.884.2">Select </span><strong class="bold"><span class="kobospan" id="kobo.885.1">Insert dynamic data</span></strong><span class="kobospan" id="kobo.886.1">. </span><span class="kobospan" id="kobo.886.2">Scroll down, select </span><strong class="bold"><span class="kobospan" id="kobo.887.1">Input Question</span></strong><span class="kobospan" id="kobo.888.1">, and then </span><span><span class="kobospan" id="kobo.889.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.890.1">value</span></strong></span><span><span class="kobospan" id="kobo.891.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.892.1">Next, select </span><strong class="bold"><span class="kobospan" id="kobo.893.1">Click here to add an action</span></strong><span class="kobospan" id="kobo.894.1"> again, scroll down to </span><strong class="bold"><span class="kobospan" id="kobo.895.1">Element Actions</span></strong><span class="kobospan" id="kobo.896.1">, and then select </span><strong class="bold"><span class="kobospan" id="kobo.897.1">Set State</span></strong><span class="kobospan" id="kobo.898.1">. </span><span class="kobospan" id="kobo.898.2">For the </span><strong class="bold"><span class="kobospan" id="kobo.899.1">Element</span></strong><span class="kobospan" id="kobo.900.1"> drop-down menu, select </span><strong class="bold"><span class="kobospan" id="kobo.901.1">Text A</span></strong><span class="kobospan" id="kobo.902.1">. </span><span class="kobospan" id="kobo.902.2">For the </span><strong class="bold"><span class="kobospan" id="kobo.903.1">Custom state</span></strong><span class="kobospan" id="kobo.904.1"> drop-down menu, select </span><strong class="bold"><span class="kobospan" id="kobo.905.1">answer</span></strong><span class="kobospan" id="kobo.906.1">. </span><span class="kobospan" id="kobo.906.2">For </span><strong class="bold"><span class="kobospan" id="kobo.907.1">Value</span></strong><span class="kobospan" id="kobo.908.1">, select </span><strong class="bold"><span class="kobospan" id="kobo.909.1">Results of step 1</span></strong><span class="kobospan" id="kobo.910.1"> and then select </span><strong class="bold"><span class="kobospan" id="kobo.911.1">answer</span></strong><span class="kobospan" id="kobo.912.1">. </span><span class="kobospan" id="kobo.912.2">This will make the value of </span><strong class="bold"><span class="kobospan" id="kobo.913.1">Text A</span></strong><span class="kobospan" id="kobo.914.1"> equal to the answer from the API call to the cloud function that </span><span><span class="kobospan" id="kobo.915.1">you created.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.916.1">We </span><a id="_idIndexMarker356" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.917.1">have completed everything we need for our Bubble application. </span><span class="kobospan" id="kobo.917.2">Let’s test whether the application works. </span><span class="kobospan" id="kobo.917.3">Select </span><strong class="bold"><span class="kobospan" id="kobo.918.1">Preview</span></strong><span class="kobospan" id="kobo.919.1"> on the right and a new page will appear, with your application. </span><span class="kobospan" id="kobo.919.2">In the </span><strong class="bold"><span class="kobospan" id="kobo.920.1">Question</span></strong><span class="kobospan" id="kobo.921.1"> text box, type in </span><strong class="source-inline1"><span class="kobospan" id="kobo.922.1">How many senators </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.923.1">are there?</span></strong></span><span><span class="kobospan" id="kobo.924.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.925.1">Select the </span><strong class="bold"><span class="kobospan" id="kobo.926.1">Submit</span></strong><span class="kobospan" id="kobo.927.1"> button. </span><span class="kobospan" id="kobo.927.2">If all goes well, you should get an answer similar to the one you saw before in Postman, which answers the question with text from the </span><em class="italic"><span class="kobospan" id="kobo.928.1">US Constitution document</span></em><span class="kobospan" id="kobo.929.1"> that we </span><span><span class="kobospan" id="kobo.930.1">uploaded earlier.</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer096">
<span class="kobospan" id="kobo.931.1"><img alt="Figure 7.20 – Bubble application example question" src="image/B21007_07_20.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.932.1">Figure 7.20 – Bubble application example question</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.933.1">The best part</span><a id="_idIndexMarker357" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.934.1"> about this is that you can ask </span><em class="italic"><span class="kobospan" id="kobo.935.1">any</span></em><span class="kobospan" id="kobo.936.1"> related question and it will answer based on the US Constitution document that you uploaded, even if it was several hundred pages. </span><span class="kobospan" id="kobo.936.2">The answers are also document-specific. </span><span class="kobospan" id="kobo.936.3">For example, you can ask </span><strong class="source-inline"><span class="kobospan" id="kobo.937.1">How old must a person be to become a Senator?</span></strong><span class="kobospan" id="kobo.938.1"> and it’ll generate a response, as shown in </span><span><em class="italic"><span class="kobospan" id="kobo.939.1">Figure 7</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.940.1">.21</span></em></span><span><span class="kobospan" id="kobo.941.1">.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer097">
<span class="kobospan" id="kobo.942.1"><img alt="Figure 7.21 – Bubble application example question" src="image/B21007_07_21.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.943.1">Figure 7.21 – Bubble application example question</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.944.1">You can see in </span><span><em class="italic"><span class="kobospan" id="kobo.945.1">Figure 7</span></em></span><em class="italic"><span class="kobospan" id="kobo.946.1">.22</span></em><span class="kobospan" id="kobo.947.1"> that the PDF uses different language, but the assistant has reworked it to match the format of the question that </span><span><span class="kobospan" id="kobo.948.1">we asked.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer098">
<span class="kobospan" id="kobo.949.1"><img alt="Figure 7.22 – Document excerpt from where the answer is retrieved" src="image/B21007_07_22.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.950.1">Figure 7.22 – Document excerpt from where the answer is retrieved</span></p>
<h2 id="_idParaDest-118" class="calibre7"><a id="_idTextAnchor126" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.951.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.952.1">In this recipe, we </span><a id="_idIndexMarker358" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.953.1">created an assistant that answers questions from a PDF that we </span><span><span class="kobospan" id="kobo.954.1">loaded in.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.955.1">The handbook is 85 </span><a id="_idIndexMarker359" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.956.1">pages long and contains over 35,000 words, and yet the API has no issues with finding the right information from the handbook. </span><span class="kobospan" id="kobo.956.2">It is worth noting that this could have been done with a knowledge source that is a million words, or several large PDF files. </span><span class="kobospan" id="kobo.956.3">That is the beauty of the Retrieval tool within the Assistants API – it can scale </span><span><span class="kobospan" id="kobo.957.1">very easily.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.958.1">Creating the assistant</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.959.1">We created the</span><a id="_idIndexMarker360" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.960.1"> assistant using the </span><strong class="bold"><span class="kobospan" id="kobo.961.1">OpenAI Playground</span></strong><span class="kobospan" id="kobo.962.1"> instead of through the OpenAI API. </span><span class="kobospan" id="kobo.962.2">The OpenAI Playground provides a nice UI for creating our initial assistant instead of having to build using code. </span><span class="kobospan" id="kobo.962.3">We defined the following parameters when building </span><span><span class="kobospan" id="kobo.963.1">our assistant:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.964.1">Name</span></strong><span class="kobospan" id="kobo.965.1">: The name of </span><span><span class="kobospan" id="kobo.966.1">the assistant.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.967.1">Instructions</span></strong><span class="kobospan" id="kobo.968.1">: The system instructions that the assistant uses. </span><span class="kobospan" id="kobo.968.2">This is very similar to the System Message that was used in the </span><span><span class="kobospan" id="kobo.969.1">Chat API.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.970.1">Model</span></strong><span class="kobospan" id="kobo.971.1">: The Chat model to use when constructing answers. </span><span class="kobospan" id="kobo.971.2">For assistants, GPT-4 is always recommended due to its ability to understand and answer nuanced information, a critical element in any </span><span><span class="kobospan" id="kobo.972.1">knowledge-retrieval application.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.973.1">Tools</span></strong><span class="kobospan" id="kobo.974.1">: Superpowers that can be added to your assistant. </span><span class="kobospan" id="kobo.974.2">We added the Retrieval tool, which again enables OpenAI to read through and search knowledge bases that the </span><span><span class="kobospan" id="kobo.975.1">user uploads.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.976.1">Files</span></strong><span class="kobospan" id="kobo.977.1">: A set of files to upload that will be used as the </span><span><span class="kobospan" id="kobo.978.1">knowledge source.</span></span></li>
</ul>
<h3 class="calibre8"><span class="kobospan" id="kobo.979.1">Using the assistant</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.980.1">In the </span><strong class="bold"><span class="kobospan" id="kobo.981.1">Google </span></strong><span class="kobospan" id="kobo.982.1">cloud function, we first</span><a id="_idIndexMarker361" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.983.1"> create a message thread with the </span><span><span class="kobospan" id="kobo.984.1">user’s question:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.985.1">
# create a thread
  thread = client.beta.threads.create()
# create message question in thread
message = client.beta.threads.messages.create(
thread_id=thread.id,
    role="user",
    content=question
    )</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.986.1">We then run the assistant, providing the unique </span><em class="italic"><span class="kobospan" id="kobo.987.1">assistant ID</span></em><span class="kobospan" id="kobo.988.1"> that is generated when we create the assistant in the OpenAI playground, and the </span><em class="italic"><span class="kobospan" id="kobo.989.1">thread ID</span></em><span class="kobospan" id="kobo.990.1"> of the message thread that contains that </span><span><span class="kobospan" id="kobo.991.1">user question.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.992.1">Note that after running the assistant, we force our function to sleep for 30 seconds. </span><span class="kobospan" id="kobo.992.2">We do this because we need to give the assistant time to fully process the message thread. </span><span class="kobospan" id="kobo.992.3">Another way to do this would be to poll the assistant in a loop and progress only once the poll shows a successful completion. </span><span class="kobospan" id="kobo.992.4">If you’d like to know more about this method, you can go </span><span><span class="kobospan" id="kobo.993.1">to </span></span><a href="https://pypi.org/project/polling2/" class="pcalibre1 calibre6 pcalibre"><span><span class="kobospan" id="kobo.994.1">https://pypi.org/project/polling2/</span></span></a><span><span class="kobospan" id="kobo.995.1">:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.996.1">
# run assistant
run = client.beta.threads.runs.create(
thread_id=thread.id,
assistant_id=assistant_id,
  instructions=""
  )
# wait 30 seconds for response
time.sleep(30)</span></pre> <p class="calibre3"><span class="kobospan" id="kobo.997.1">We then </span><a id="_idIndexMarker362" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.998.1">extract the assistant’s reply and return the message as </span><span><span class="kobospan" id="kobo.999.1">the </span></span><span><strong class="source-inline"><span class="kobospan" id="kobo.1000.1">answer</span></strong></span><span><span class="kobospan" id="kobo.1001.1">:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.1002.1">
# get answer
thread_messages = client.beta.threads.messages.list(thread.id)
  answer = thread_messages.data[0].content[0].text.value
# return answer
result = {
    'answer': answer
  }</span></pre> <h3 class="calibre8"><span class="kobospan" id="kobo.1003.1">Other use cases</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1004.1">The combination of</span><a id="_idIndexMarker363" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.1005.1"> the Assistants API and the Retrieval tool offers a wide array of potential applications across various industries and domains. </span><span class="kobospan" id="kobo.1005.2">Here are </span><span><span class="kobospan" id="kobo.1006.1">some examples:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1007.1">Customer support chatbots</span></em><span class="kobospan" id="kobo.1008.1">: Develop chatbots that can provide detailed and specific answers to customer queries by accessing a company’s extensive knowledge base or </span><span><span class="kobospan" id="kobo.1009.1">product manuals</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1010.1">Healthcare information systems</span></em><span class="kobospan" id="kobo.1011.1">: Build systems that can retrieve and provide specific medical information, guidelines, or research papers to healthcare professionals, aiding in diagnosis or </span><span><span class="kobospan" id="kobo.1012.1">treatment decisions</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1013.1">Legal research assistants</span></em><span class="kobospan" id="kobo.1014.1">: Create tools that can sift through large volumes of legal documents, cases, and precedents to assist lawyers in preparing for cases or conducting </span><span><span class="kobospan" id="kobo.1015.1">legal research</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1016.1">Educational platforms</span></em><span class="kobospan" id="kobo.1017.1">: Develop educational aids that can pull information from textbooks, research papers, or educational materials to assist students in learning or researching </span><span><span class="kobospan" id="kobo.1018.1">various topics</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1019.1">Financial advisory tools</span></em><span class="kobospan" id="kobo.1020.1">: Build applications that can access and analyze financial reports, market trends, and economic research to provide investment advice or </span><span><span class="kobospan" id="kobo.1021.1">market insights</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1022.1">Technical support and troubleshooting</span></em><span class="kobospan" id="kobo.1023.1">: Implement systems that can access technical </span><a id="_idIndexMarker364" class="pcalibre1 calibre6 pcalibre"/><span class="kobospan" id="kobo.1024.1">manuals and user guides to provide step-by-step troubleshooting assistance or </span><span><span class="kobospan" id="kobo.1025.1">technical guidance</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1026.1">Content curation and recommendation systems</span></em><span class="kobospan" id="kobo.1027.1">: Create platforms that can analyze and retrieve articles, news, or multimedia content based on user preferences </span><span><span class="kobospan" id="kobo.1028.1">or queries</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1029.1">Corporate data retrieval systems</span></em><span class="kobospan" id="kobo.1030.1">: Develop internal tools for businesses that can search through corporate documents, reports, and databases to provide employees with quick access to the information </span><span><span class="kobospan" id="kobo.1031.1">they need</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1032.1">Travel and hospitality assistants</span></em><span class="kobospan" id="kobo.1033.1">: Build travel assistants that can access and provide information on travel destinations, accommodations, local customs, or points </span><span><span class="kobospan" id="kobo.1034.1">of interest</span></span></li>
<li class="calibre15"><em class="italic"><span class="kobospan" id="kobo.1035.1">E-commerce personal shopping assistants</span></em><span class="kobospan" id="kobo.1036.1">: Create tools that can recommend products based on user queries by searching through product catalogs </span><span><span class="kobospan" id="kobo.1037.1">and reviews</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.1038.1">Each of these applications uses the capabilities of the Assistants API to understand and process natural language queries and the Retrieval tool’s ability to access and extract relevant information from a vast array of documents and data sources. </span><span class="kobospan" id="kobo.1038.2">This combination enables the creation of powerful, context-aware, and highly </span><span><span class="kobospan" id="kobo.1039.1">informative applications.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1040.1">As we wrap up our journey through the expansive world of the OpenAI API, I hope you feel empowered to harness its capabilities to fuel your innovative projects. </span><span class="kobospan" id="kobo.1040.2">From taking those initial steps in setting up your API environment to exploring the intricate details of endpoints and key parameters, we’ve traversed a path that has prepared you to not just understand but to also apply the OpenAI API in creating applications that can transform the way we interact with technology. </span><span class="kobospan" id="kobo.1040.3">The exploration of additional features and the process of staging and hosting for application development have laid down the foundation for you to build intelligent solutions that can make </span><span><span class="kobospan" id="kobo.1041.1">a difference.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1042.1">Whether it’s designing versatile intelligent applications or crafting knowledge-based assistants, the skills you’ve garnered are a testament to the potential that lies in your hands. </span><span class="kobospan" id="kobo.1042.2">Remember, the journey doesn’t end here. </span><span class="kobospan" id="kobo.1042.3">Each application you build is a step towards innovation, a bridge to solving complex problems, and a contribution to a future where technology and human creativity converge in harmony. </span><span class="kobospan" id="kobo.1042.4">Embrace the challenges and opportunities that come your way, for you are now equipped to make a significant impact in the world </span><span><span class="kobospan" id="kobo.1043.1">of technology.</span></span></p>
</div>
</body></html>