<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">AI for Smart Cities IoT</span></h1>
                </header>
            
            <article>
                
<p class="mce-root"><span class="koboSpan" id="kobo.2.1">This chapter introduces the reader to smart cities. </span><span class="koboSpan" id="kobo.2.2">Case studies will be used to demonstrate how the concepts learned in this book can be applied in developing various smart city components. </span><span class="koboSpan" id="kobo.2.3">When reading this chapter, you'll learn about the following:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.3.1">What's a smart city</span></li>
<li><span class="koboSpan" id="kobo.4.1">The essential components of a smart city</span></li>
<li><span class="koboSpan" id="kobo.5.1">Cities across the globe implementing smart solutions</span></li>
<li><span class="koboSpan" id="kobo.6.1">The challenges in building smart cities</span></li>
<li><span class="koboSpan" id="kobo.7.1">Writing a code to detect crime description from San Francisco crime data</span></li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Why do we need smart cities?</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">According to UN data (</span><a href="https://population.un.org/wup/DataQuery/"><span class="koboSpan" id="kobo.3.1">https://population.un.org/wup/DataQuery/</span></a><span class="koboSpan" id="kobo.4.1">), the world population will reach 9.7 billion (9.7 × 10</span><sup><span class="koboSpan" id="kobo.5.1">9</span></sup><span class="koboSpan" id="kobo.6.1">) by the end of 2050. </span><span class="koboSpan" id="kobo.6.2">It's presumed that almost 70% of that population will be an urban population with many cities having over 10 million inhabitants. </span><span class="koboSpan" id="kobo.6.3">It's a significant number and, as the number grows, not only are we presented with new opportunities, but we also face many unique challenges:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.7.1"><img class="aligncenter size-full wp-image-1119 image-border" src="assets/fb2f565d-ca0e-47c7-94db-211787c81fe8.png" style="width:44.83em;height:28.50em;"/></span></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.8.1">Predicted world population (data from UN)</span></div>
<p><span class="koboSpan" id="kobo.9.1">The most difficult challenge is making resources and energy available to all of the inhabitants and, at the same time, avoiding environment deterioration. </span><span class="koboSpan" id="kobo.9.2">At present, cities consume 75% of the world's resources and energy and generate 80% of greenhouse gases; while there's a trend towards green energy sources, we all understand that the earth's resources, such as food and water, are limited. Another critical challenge is administration and management; with the growing population, strategies will be needed to prevent sanitation problems, mitigate traffic congestion, and thwart crime.</span></p>
<p><span class="koboSpan" id="kobo.10.1">Many of these problems can be tamed by the use of AI-enabled IoT. </span><span class="koboSpan" id="kobo.10.2"> It's possible to use technological advancement to facilitate a new experience for city inhabitants and make their day-to-day living more comfortable and secure. </span><span class="koboSpan" id="kobo.10.3">This has given rise to the concept of smart cities.</span></p>
<p><span class="koboSpan" id="kobo.11.1">According to techopedia (</span><a href="https://www.techopedia.com/definition/31494/smart-city"><span class="koboSpan" id="kobo.12.1">https://www.techopedia.com/definition/31494/smart-city</span></a><span class="koboSpan" id="kobo.13.1">), a </span><strong><span class="koboSpan" id="kobo.14.1">smart city</span></strong><span class="koboSpan" id="kobo.15.1"> is a city that utilizes information and communication technologies so that it enhances the quality and performance of urban services (such as energy and transportation) so that there's a reduction in resource consumption, wastage, and overall costs. </span><span class="koboSpan" id="kobo.15.2">Deakin and AI Waer list four factors that contribute to the definition of a smart city:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.16.1">Using a wide range of electronic and digital technologies in the city infrastructure</span></li>
<li><span class="koboSpan" id="kobo.17.1">Employing </span><strong><span class="koboSpan" id="kobo.18.1">Information and Communication Technology</span></strong><span class="koboSpan" id="kobo.19.1"> (</span><strong><span class="koboSpan" id="kobo.20.1">ICT</span></strong><span class="koboSpan" id="kobo.21.1">) to transform living and working environment</span></li>
<li><span class="koboSpan" id="kobo.22.1">Embedding ICT in government systems</span></li>
<li><span class="koboSpan" id="kobo.23.1">Implementing practices and policies that bring people and ICT together to promote innovation and enhance the knowledge that they offer</span></li>
</ul>
<p><span class="koboSpan" id="kobo.24.1">Hence, a smart city would be a city that not only possesses ICT, but also employs technology in a way that positively impacts the inhabitants. </span></p>
<div class="packt_infobox"><span><span class="koboSpan" id="kobo.25.1">The paper by Deakin and AI Waer defines a smart city and focuses on the transition required:</span><br/><span class="koboSpan" id="kobo.26.1">
Deakin, M., and Al Waer, H. </span><span class="koboSpan" id="kobo.26.2">(2011). </span><em><span class="koboSpan" id="kobo.27.1">From intelligent to smart cities.</span></em></span> <em><span class="koboSpan" id="kobo.28.1">Intelligent Buildings International</span><span><span class="koboSpan" id="kobo.29.1">,</span></span><span class="koboSpan" id="kobo.30.1"> 3</span></em><span><em><span class="koboSpan" id="kobo.31.1">(3), 140-152</span></em><span class="koboSpan" id="kobo.32.1">.</span></span></div>
<p><strong><span class="koboSpan" id="kobo.33.1">Artificial Intelligence</span></strong><span class="koboSpan" id="kobo.34.1"> (</span><strong><span class="koboSpan" id="kobo.35.1">AI</span></strong><span class="koboSpan" id="kobo.36.1">), together with IoT, has the potential to address the key challenges posed by excessive urban population; they can help with traffic management, healthcare, energy crisis, and many other issues. </span><span class="koboSpan" id="kobo.36.2">IoT data and AI technology can improve the lives of the citizens and businesses that inhabit a smart city.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Components of a smart city</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">A smart city has lots of use cases for AI-powered IoT-enabled technology, from maintaining a healthier environment to enhancing public transport and safety. </span><span class="koboSpan" id="kobo.2.2">In the following diagram, you can see some the of use cases for a smart city:</span></p>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.3.1"><img class="aligncenter size-full wp-image-1121 image-border" src="assets/c082b197-29a4-41e3-a1bd-cb96713a4773.png" style="width:39.33em;height:36.33em;"/></span></p>
<div class="packt_figref CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.4.1">Smart city components</span></div>
<p><span><span class="koboSpan" id="kobo.5.1">In this section, we'll provide an overview of the most popular use cases—some of them already implemented in smart cities across the world. </span></span></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Smart traffic management</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">AI and IoT can implement smart traffic solutions to ensure that inhabitants of a smart city get from one point to another in the city as safely and efficiently as possible.</span></p>
<p><span class="koboSpan" id="kobo.3.1">Los Angeles, one of the most congested cities in the world, has implemented a smart traffic solution to control the flow of traffic. </span><span class="koboSpan" id="kobo.3.2">It has installed road-surface sensors and closed-circuit television cameras that send real-time updates about the traffic flow to a central traffic management system. </span><span class="koboSpan" id="kobo.3.3">The data feed from the sensors and cameras is analyzed, and it notifies the users of congestion and traffic signal malfunctions. </span><span class="koboSpan" id="kobo.3.4">In July 2018, the city further installed </span><strong><span class="koboSpan" id="kobo.4.1">Advanced Transportation Controller</span></strong><span class="koboSpan" id="kobo.5.1"> (</span><strong><span class="koboSpan" id="kobo.6.1">ATC</span></strong><span class="koboSpan" id="kobo.7.1">) cabinets at each intersection. </span><span class="koboSpan" id="kobo.7.2">Enabled with </span><strong><span class="koboSpan" id="kobo.8.1">vehicle-to-infrastructure</span></strong><span class="koboSpan" id="kobo.9.1"> (</span><strong><span class="koboSpan" id="kobo.10.1">V2I</span></strong><span class="koboSpan" id="kobo.11.1">) communications and 5G connectivity, this allows them to communicate with cars that have the traffic light information feature, such as Audi A4 or Q7. </span><span class="koboSpan" id="kobo.11.2">You can learn more about the Los Angeles smart transportation system from their website (</span><a href="https://dpw.lacounty.gov/TNL/ITS/"><span class="koboSpan" id="kobo.12.1">https://dpw.lacounty.gov/TNL/ITS/</span></a><span class="koboSpan" id="kobo.13.1">).</span></p>
<p><span class="koboSpan" id="kobo.14.1">The launch of automated vehicles embedded with sensors can provide both the location and speed of the vehicle; they can directly communicate with the smart traffic lights and prevent congestion. </span><span class="koboSpan" id="kobo.14.2">Additionally, using historical data, future traffic could be predicted and used to prevent any possible congestion.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Smart parking</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Anyone living in a city must have felt the struggle of finding a parking spot, especially during the holiday time. </span><span class="koboSpan" id="kobo.2.2">Smart parking can ease the struggle. </span><span class="koboSpan" id="kobo.2.3">With road surface sensors embedded in the ground on parking spots, smart parking solutions can determine whether the parking spots are free or occupied and create a real-time parking map.</span></p>
<p><span class="koboSpan" id="kobo.3.1">The city of Adelaide installed a smart parking system in February 2018, they are also launching a mobile app: Park Adelaide, which will provide the user with accurate and real-time parking information. </span><span class="koboSpan" id="kobo.3.2">The app can provide users with the ability to locate, pay for, and even extend the parking session remotely. </span><span class="koboSpan" id="kobo.3.3">It'll also give directions to available parking bays, information about parking controls, and alerts when the parking session is about to expire. </span><span class="koboSpan" id="kobo.3.4">The smart parking system of the city of Adelaide aims to also improve traffic flow, reduce traffic congestion, and decrease carbon emissions. </span><span class="koboSpan" id="kobo.3.5">The details of the smart parking system are available in the city of Adelaide website (</span><a href="https://www.cityofadelaide.com.au/city-business/why-adelaide/adelaide-smart-city/smart-parking"><span class="koboSpan" id="kobo.4.1">https://www.cityofadelaide.com.au/city-business/why-adelaide/adelaide-smart-city/smart-parking</span></a><span class="koboSpan" id="kobo.5.1">).</span></p>
<p class="mce-root"/>
<p><span class="koboSpan" id="kobo.6.1">The </span><strong><span class="koboSpan" id="kobo.7.1">San Francisco Municipal Transportation Agency</span></strong><span class="koboSpan" id="kobo.8.1"> (</span><strong><span class="koboSpan" id="kobo.9.1">SAFTA</span></strong><span class="koboSpan" id="kobo.10.1">) implemented (</span><a href="http://sfpark.org"><span class="koboSpan" id="kobo.11.1">http://sfpark.org</span></a><span class="koboSpan" id="kobo.12.1">), SFpark a smart parking system. </span><span class="koboSpan" id="kobo.12.2">They use wireless sensors to detect real-time parking-space occupancy in metered spaces. </span><span class="koboSpan" id="kobo.12.3">Launched in the year 2013, SFpark has reduced weekday greenhouse gas emissions by 25%, the traffic volume has gone down, and drivers' search time has reduced by 50%. </span><span class="koboSpan" id="kobo.12.4">Another benefit reported by SAFTA is that, by making it easier for people to pay for their parking, the loss due to broken parking meters has reduced, and hence there's an increase in the parking-related revenue by about $1.9 million.</span><br/>
<br/><span class="koboSpan" id="kobo.13.1">
In London, the city of Westminster (</span><a href="https://iotuk.org.uk/smart-parking/#1463069773359-c0d6f90f-4dca"><span class="koboSpan" id="kobo.14.1">https://iotuk.org.uk/smart-parking/#1463069773359-c0d6f90f-4dca</span></a><span class="koboSpan" id="kobo.15.1">) also established a smart parking system in the year 2014 in association with Machina Research (</span><a href="https://machinaresearch.com/login/?next=/forecasts/usecase/"><span class="koboSpan" id="kobo.16.1">https://machinaresearch.com/login/?next=/forecasts/usecase/</span></a><span class="koboSpan" id="kobo.17.1">). </span><span class="koboSpan" id="kobo.17.2">Earlier, drivers had to wait an average of 12 minutes, resulting in congestion and pollution, but since the installation of the smart parking system, there's no need to wait; drivers can find an available parking spot using the mobile. </span><span class="koboSpan" id="kobo.17.3">This hasn't only reduced congestion and pollution, but has also increased revenue generation.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Smart waste management</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Waste collection and its proper management and disposal is an essential city service. </span><span class="koboSpan" id="kobo.2.2">The increase in the urban population necessitates that better smart methods for waste management should be adopted. A smart city should holistically address its waste management. Adopting AI for smart recycling and waste management can provide a sustainable waste management system. </span><span class="koboSpan" id="kobo.2.3">In the year 2011, ZenRobotics (</span><a href="https://zenrobotics.com/"><span class="koboSpan" id="kobo.3.1">https://zenrobotics.com/</span></a><span class="koboSpan" id="kobo.4.1">), a Finnish company, demonstrated how using computer vision and artificial intelligence (a robot) can be trained to sort and pick recycle materials from moving conveyor belts. </span><span class="koboSpan" id="kobo.4.2">Since then, we have come a long way; many companies provide smart waste management solutions and cities and buildings are adopting them. </span><span class="koboSpan" id="kobo.4.3">There's a growing awareness among leaders and community builders of the potential benefits of the deployment of smart city infrastructure. </span></p>
<p><span><span class="koboSpan" id="kobo.5.1">Barcelona's waste management system (</span><a href="http://ajuntament.barcelona.cat/ecologiaurbana/en/services/the-city-works/maintenance-of-public-areas/waste-management-and-cleaning-services/household-waste-collection"><span class="koboSpan" id="kobo.6.1">http://ajuntament.barcelona.cat/ecologiaurbana/en/services/the-city-works/maintenance-of-public-areas/waste-management-and-cleaning-services/household-waste-collection</span></a><span class="koboSpan" id="kobo.7.1">) is a good case study. </span><span class="koboSpan" id="kobo.7.2">They had sensors and devices fitted on waste bins, which can send alert notifications to the authorities that then dispatch the waste collection trucks as soon as they are about to be filled. </span><span class="koboSpan" id="kobo.7.3">They maintain separate bins for paper, plastic, glass, and waste food items in every locality. </span></span><span><span class="koboSpan" id="kobo.8.1">The Barcelona authorities have set up a network of containers connected with underground vacuum pipes, which can suck up the trash and leave it in the processing unit; this eliminates the need for trash trucks to collect the garbage.</span></span></p>
<p class="mce-root"/>
<p><span class="koboSpan" id="kobo.9.1">Another good case study is Denmark, waste management (</span><a href="https://www.smartbin.com/tdc-denmark-cisco-showcase-the-future-of-smart-city-waste-collection/"><span class="koboSpan" id="kobo.10.1">https://www.smartbin.com/tdc-denmark-cisco-showcase-the-future-of-smart-city-waste-collection/</span></a><span class="koboSpan" id="kobo.11.1">), provided by SmartBin. </span><span class="koboSpan" id="kobo.11.2">Collaborating with TDC, Denmark's largest telecom service and Cisco, SmartBin has installed sensors to a range of the containers and these sensors are integrated with the City Digital Platform. </span><span class="koboSpan" id="kobo.11.3">Additionally, lamp posts, and traffic lights also have been installed with the sensors that send data to the control console at the town hall. </span><span class="koboSpan" id="kobo.11.4">The real-time data obtained from these sensors help the cleaner services to plan their route for garbage collection more efficiently; they only need to go where there's a need for emptying. </span><span class="koboSpan" id="kobo.11.5"> </span></p>
<p><span class="koboSpan" id="kobo.12.1">Ten solar-powered Bigbelly bins equipped with Wi-Fi units are installed in Sharjah, </span><span><span class="koboSpan" id="kobo.13.1">United Arab Emirates; they</span></span> <span><span class="koboSpan" id="kobo.14.1">plan to deploy several hundreds of these smart bins in the near future to achieve sustainability goals. </span></span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Smart policing</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Crime is unfortunately omnipresent. </span><span class="koboSpan" id="kobo.2.2">Every city has a police force trying to catch criminals and reduce the crime rate. </span><span class="koboSpan" id="kobo.2.3">Smart cities also require policing: smart policing, where law enforcement agencies employ evidence-based data-driven strategies that are effective, efficient, and economical. </span><span class="koboSpan" id="kobo.2.4">The concept of smart policing emerged somewhere in 2009, driven mainly due to limited budget constraints. </span><span class="koboSpan" id="kobo.2.5">The fundamental idea driving the smart policing concept was given by Herman Goldstein (University of Wisconsin, 1979). </span><span class="koboSpan" id="kobo.2.6">He argued that police shouldn't view criminal incidents as isolated events but, instead, as overt systems of problems that have a history and a future. </span></p>
<p><span class="koboSpan" id="kobo.3.1">In the US, the </span><strong><span class="koboSpan" id="kobo.4.1">Bureau of Justice Assistance</span></strong><span class="koboSpan" id="kobo.5.1"> (</span><strong><span class="koboSpan" id="kobo.6.1">BJA</span></strong><span class="koboSpan" id="kobo.7.1">) has funded many </span><strong><span class="koboSpan" id="kobo.8.1">Smart Policing Initiatives</span></strong><span class="koboSpan" id="kobo.9.1"> (</span><strong><span class="koboSpan" id="kobo.10.1">SPI</span></strong><span class="koboSpan" id="kobo.11.1">) and according to its findings, these initiatives have resulted in significantly reducing the violent crimes. </span><span class="koboSpan" id="kobo.11.2">The SPI focuses on police-research partnership, where the research partner provides ongoing data collection and analysis, monitors the data, participates in solution development, and assesses its impact. </span><span class="koboSpan" id="kobo.11.3">These initiatives have helped police identify the following: </span></p>
<ul>
<li><span class="koboSpan" id="kobo.12.1">Hot-spots of crime</span></li>
<li><span class="koboSpan" id="kobo.13.1">Prolific offenders</span></li>
</ul>
<p class="mce-root"/>
<p><span class="koboSpan" id="kobo.14.1">Singapore has also initiated its smart nation initiative. </span><span class="koboSpan" id="kobo.14.2">A network of cameras and sensors have been installed on almost every corner of the city. </span><span class="koboSpan" id="kobo.14.3">They use the feed obtained from them to identify where people are smoking in prohibited zones, or are loitering from a high-rise housing. </span><span class="koboSpan" id="kobo.14.4">The cameras enable the authorities to monitor crowd density, cleanliness of public places, and even track the exact movement of all registered vehicles. </span><span class="koboSpan" id="kobo.14.5">The camera feed is fed into an online platform called </span><strong><span class="koboSpan" id="kobo.15.1">Virtual Singapore</span></strong><span class="koboSpan" id="kobo.16.1">, which provides information about how the city is working on a real-time basis.</span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Smart lighting</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Street lights are necessary, but they consume a lot of energy. </span><span class="koboSpan" id="kobo.2.2">Smart lighting systems can help make street light energy efficient. </span><span class="koboSpan" id="kobo.2.3">Besides this, the lamp posts can also be fitted with additional sensors, or serve as Wi-Fi network hotspots.</span></p>
<p><span class="koboSpan" id="kobo.3.1">One such invention that can help install smart lighting in any city is CitySense (</span><a href="https://www.tvilight.com/citysense/"><span class="koboSpan" id="kobo.4.1">https://www.tvilight.com/citysense/</span></a><span class="koboSpan" id="kobo.5.1">), an award-winning streetlight motion sensor; it has integrated wireless lighting control. </span><span class="koboSpan" id="kobo.5.2">Designed for harsh external environments, CitySense offers on-demand adaptive lighting. </span><span class="koboSpan" id="kobo.5.3">The lamps can adjust their brightness based on the presence of pedestrians, cyclists or cars. </span><span class="koboSpan" id="kobo.5.4">It employs a real-time mesh network to trigger neighboring lights, and creates a safe circle of light around a human occupant. </span><span class="koboSpan" id="kobo.5.5">It has intelligent filters, which can filter out the interference caused by small animals or moving trees. </span><span class="koboSpan" id="kobo.5.6">The system can automatically detect any lamp failures and trigger a maintenance call. </span><span class="koboSpan" id="kobo.5.7">The Van Gogh Village in the Netherlands has employed CitySense for their smart street lighting systems.</span></p>
<p><span class="koboSpan" id="kobo.6.1">It's also worth mentioning Barcelona's lighting master plan initiative; it has reported a significant reduction in streetlight power consumption. </span><span class="koboSpan" id="kobo.6.2">Around 2014, most of the city's lampposts were fitted with LED lights and IoT powered sensors were installed in them. </span><span class="koboSpan" id="kobo.6.3">The sensors automatically turn the lights dim when streets are empty and this has helped in lowering energy consumption. </span><span class="koboSpan" id="kobo.6.4">Additionally, these lampposts also serve as Wi-Fi network hotspots and are fitted with sensors to monitor air quality.</span></p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Smart governance</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The main purpose of smart cities is to make a comfortable and convenient life for its inhabitants. </span><span class="koboSpan" id="kobo.2.2">Therefore, a smart city infrastructure is not complete without smart governance. Smart governance means the intelligent use of information and communication technology to improve decision making through better collaboration among different stakeholders, including government, and citizens. </span><span class="koboSpan" id="kobo.2.3">Smart governance can be seen as a basis to smart, open, and participatory government. This requires reshaping the role of governments, citizens, and other social actors, as well as exploring the new technologies to frame a new governance model, including new relationships, new processes, and new government structures. </span><span class="koboSpan" id="kobo.2.4">Smart governance would be able to use data, evidence, and other resources to improve decision making and would be able to deliver the results that meet the needs of the citizens. </span><span class="koboSpan" id="kobo.2.5">This will enhance the decision-making process and increase the quality of public services. </span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Adapting IoT for smart cities and the necessary steps</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Building a smart city is not a one-day business, neither is it the work of one person or organization. </span><span class="koboSpan" id="kobo.2.2">It requires the collaboration of many strategic partners, leaders, and even citizens. The dynamics of such a collaboration is beyond the scope of this book, but, since the book is for AI enthusiasts and engineers, let's explore what the AI community can do, what are the areas that provide us with a career or entrepreneurship opportunity. </span><span class="koboSpan" id="kobo.2.3">Any IoT platform will necessarily require the following:</span></p>
<ul>
<li><span class="koboSpan" id="kobo.3.1">A network of smart things (sensors, cameras, actuators, and so on) for gathering data</span></li>
<li><span class="koboSpan" id="kobo.4.1">Field (cloud) gateways that can gather the data from low power IoT devices, store it, and forward it securely to the cloud</span></li>
<li><span class="koboSpan" id="kobo.5.1">Streaming data processor for aggregating numerous data streams and distributing them to a data lake and control applications</span></li>
<li><span class="koboSpan" id="kobo.6.1">A data lake for storing all the raw data, even the ones that seem of no value yet</span></li>
<li><span class="koboSpan" id="kobo.7.1">A data warehouse that can clean and structure the collected data</span></li>
<li><span class="koboSpan" id="kobo.8.1">Tools for analyzing and visualizing the data collected by sensors</span></li>
<li><span class="koboSpan" id="kobo.9.1">AI algorithms and techniques for automating city services based on long-term data analysis and finding ways to improve the performance of control applications</span></li>
<li><span class="koboSpan" id="kobo.10.1">Control applications for sending commands to the IoT actuators</span></li>
<li><span><span class="koboSpan" id="kobo.11.1">User applications for connecting smart things and citizens</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.12.1">Besides this, there will be issues regarding security and privacy, and the service provider will have to ensure that these smart services do not pose any threat to citizens' wellbeing. </span><span class="koboSpan" id="kobo.12.2">The services themselves should be easy to use and employ so that citizens can adopt them. </span></p>
<p><span class="koboSpan" id="kobo.13.1">As you can see, this offers a range of job opportunities, specifically for AI engineers. </span><span class="koboSpan" id="kobo.13.2">The IoT-generated data needs to be processed, and to benefit from it truly, we will need to go beyond monitoring and basic analysis. </span><span class="koboSpan" id="kobo.13.3">The AI tools will be required to identify patterns and hidden correlations in the sensor data. </span><span class="koboSpan" id="kobo.13.4">Analysis of historical sensor data using ML/AI tools can help in identifying trends and create predictive models based on them. </span><span class="koboSpan" id="kobo.13.5">These models can then be used by control applications that send commands to IoT devices' actuators. </span></p>
<p><span class="koboSpan" id="kobo.14.1">The process of building a smart city will be an iterative process, with more processing and analysis added at each iteration. </span><span><span class="koboSpan" id="kobo.15.1">Consider the case of a smart traffic light, let's see how we can iteratively improve it.</span></span></p>
<p><span><span class="koboSpan" id="kobo.16.1">Compared to a traditional traffic light, our smart traffic light adapts its signal timings, depending upon the traffic. </span><span class="koboSpan" id="kobo.16.2">We can use the historical traffic data to train a model to reveal traffic patterns and adjust signal timings to maximize the average vehicle speed, and thus, avoid congestions. </span><span class="koboSpan" id="kobo.16.3">Such isolated smart traffic lights are good, but not sufficient. </span><span class="koboSpan" id="kobo.16.4">Supposing an area has congestion, then it'll be great if the drivers on the road are informed to avoid that route. </span><span class="koboSpan" id="kobo.16.5">To do this now, we can add an additional processing system; it identifies the congestion using the traffic light sensor data, and using the GPS from the vehicle or driver's smartphone, informs the drivers near the region of congestion to avoid that route.</span></span></p>
<p><span class="koboSpan" id="kobo.17.1">As the next step, the traffic lights can be added with more sensors, like sensors that can monitor the air quality, and then train the model to ensure the alerts to be generated before a critical air quality is reached. </span></p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Cities with open data</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">In the last decade, many cities around the world have established open data portals. </span><span class="koboSpan" id="kobo.2.2">These open data portals not only help citizens to stay informed, but are boon for AI coders, since data drive AI. </span><span class="koboSpan" id="kobo.2.3">Let's look at a number of the interesting data portals and the data they provide.</span></p>
<div class="packt_infobox"><span class="koboSpan" id="kobo.3.1">This article on Forbes lists the 90 US cities with open data:</span><a href="https://www.forbes.com/sites/metabrown/2018/04/29/city-governments-making-public-data-easier-to-get-90-municipal-open-data-portals/#4542e6f95a0d"><span class="koboSpan" id="kobo.4.1"> https://www.forbes.com/sites/metabrown/2018/04/29/city-governments-making-public-data-easier-to-get-90-municipal-open-data-portals/#4542e6f95a0d</span></a><span class="koboSpan" id="kobo.5.1">.</span></div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Atlanta city Metropolitan Atlanta Rapid Transit Authority data</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The </span><strong><span class="koboSpan" id="kobo.3.1">Metropolitan Atlanta Rapid Transit Authority</span></strong><span class="koboSpan" id="kobo.4.1"> (</span><strong><span class="koboSpan" id="kobo.5.1">MARTA</span></strong><span class="koboSpan" id="kobo.6.1">) releases real-time public transport data with an aim to provide the developers with an opportunity to develop custom web and mobile applications. </span><span class="koboSpan" id="kobo.6.2">The MARTA platform provides the developers with resources to access the data and use it to develop an application (</span><a href="https://www.itsmarta.com/app-developer-resources.aspx"><span class="koboSpan" id="kobo.7.1">https://www.itsmarta.com/app-developer-resources.aspx</span></a><span class="koboSpan" id="kobo.8.1">).</span></p>
<p><strong><span><span class="koboSpan" id="kobo.9.1">General Transit Feed Specification</span></span></strong><span class="koboSpan" id="kobo.10.1"> (</span><strong><span><span class="koboSpan" id="kobo.11.1">GTFS</span></span></strong><span class="koboSpan" id="kobo.12.1">) format is used to provide the data. </span><span class="koboSpan" id="kobo.12.2">GTFS is a standard format for public transportation schedules and geographic information. </span><span class="koboSpan" id="kobo.12.3">It's composed of a series of text files, each file models a particular aspect of transit information: stops, routes, trips, and similar scheduled data. </span></p>
<p><span class="koboSpan" id="kobo.13.1">MARTA also provides data through RESTful APIs. </span><span class="koboSpan" id="kobo.13.2">To access the API, you will need to install MARTA-Python the Python library for accessing MARTA real-time API. </span><span class="koboSpan" id="kobo.13.3"> The Python library can be installed using </span><kbd><span class="koboSpan" id="kobo.14.1">pip</span></kbd><span class="koboSpan" id="kobo.15.1">:</span></p>
<pre><span class="koboSpan" id="kobo.16.1">pip install tox</span></pre>
<p><span class="koboSpan" id="kobo.17.1">Before using the API, you will need to register and sign up for the API key (</span><a href="https://www.itsmarta.com/developer-reg-rtt.aspx"><span class="koboSpan" id="kobo.18.1">https://www.itsmarta.com/developer-reg-rtt.aspx</span></a><span class="koboSpan" id="kobo.19.1">). </span><span class="koboSpan" id="kobo.19.2">The API key would be stored in the </span><kbd><span class="koboSpan" id="kobo.20.1">MARTA_API_KEY</span></kbd><span class="koboSpan" id="kobo.21.1"> environment variable. </span><span class="koboSpan" id="kobo.21.2">To set the </span><kbd><span class="koboSpan" id="kobo.22.1">MARTA_API_KEY</span></kbd><span class="koboSpan" id="kobo.23.1"> you can use the following:</span></p>
<p><span class="koboSpan" id="kobo.24.1">On Windows, use the following:</span></p>
<pre><span class="koboSpan" id="kobo.25.1">set MARTA_API_KEY=&lt;your_api_key_here&gt;</span></pre>
<p><span class="koboSpan" id="kobo.26.1">On Linux/MAC, use the following:</span></p>
<pre><span class="koboSpan" id="kobo.27.1">export MARTA_API_KEY=&lt;your_api_key_here&gt;</span></pre>
<p><span class="koboSpan" id="kobo.28.1">It provides two primary wrapper functions </span><kbd><span class="koboSpan" id="kobo.29.1">get_buses()</span></kbd><span class="koboSpan" id="kobo.30.1"> and </span><kbd><span class="koboSpan" id="kobo.31.1">get_trains()</span></kbd><span class="koboSpan" id="kobo.32.1">, and both functions take keyword arguments to filter the result:</span></p>
<pre><span class="koboSpan" id="kobo.33.1">from marta.api import get_buses, get_trains</span><br/><br/><span class="koboSpan" id="kobo.34.1"># To obtain list of all buses</span><br/><span class="koboSpan" id="kobo.35.1">all_buses = get_buses()</span><br/><br/><span class="koboSpan" id="kobo.36.1"># To obtain a list of buses by route</span><br/><span class="koboSpan" id="kobo.37.1">buses_route = get_buses(route=1)</span><br/><br/><span class="koboSpan" id="kobo.38.1"># To obtain list of all trains</span><br/><span class="koboSpan" id="kobo.39.1">trains = get_trains()</span><br/><br/><span class="koboSpan" id="kobo.40.1"># To obtain list of trains specified by line</span><br/><span class="koboSpan" id="kobo.41.1">trains_red = get_trains(line='red')</span><br/><br/><span class="koboSpan" id="kobo.42.1"># To obtain list of trains by station</span><br/><span class="koboSpan" id="kobo.43.1">trains_station = get_trains(station='Midtown Station')</span><br/><br/><span class="koboSpan" id="kobo.44.1"># To obtain list of trains by destination</span><br/><span class="koboSpan" id="kobo.45.1">trains_doraville = get_trains(station='Doraville')</span><br/><br/><span class="koboSpan" id="kobo.46.1"># To obtain list of trains by line, station, and destination</span><br/><span class="koboSpan" id="kobo.47.1">trains_all = get_trains(line='blue', </span><br/><span class="koboSpan" id="kobo.48.1">            station='Five Points Station', </span><br/><span class="koboSpan" id="kobo.49.1">            destination='Indian Creek')</span></pre>
<p><span class="koboSpan" id="kobo.50.1">The </span><kbd><span class="koboSpan" id="kobo.51.1">get_buses()</span></kbd><span class="koboSpan" id="kobo.52.1"> and </span><kbd><span class="koboSpan" id="kobo.53.1">get_trains()</span></kbd> <span><span class="koboSpan" id="kobo.54.1">functions </span></span><span class="koboSpan" id="kobo.55.1">return </span><kbd><span class="koboSpan" id="kobo.56.1">Bus</span></kbd><span class="koboSpan" id="kobo.57.1"> and </span><kbd><span class="koboSpan" id="kobo.58.1">Train</span></kbd><span class="koboSpan" id="kobo.59.1"> dictionary objects, respectively. </span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Chicago Array of Things data</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">Launched in the year 2016, </span><strong><span class="koboSpan" id="kobo.3.1">Array of Things</span></strong><span class="koboSpan" id="kobo.4.1"> (</span><strong><span class="koboSpan" id="kobo.5.1">AoT</span></strong><span class="koboSpan" id="kobo.6.1">) project consists of installing a network of sensor-boxes mounted on light posts. </span><span class="koboSpan" id="kobo.6.2">The sensors collect a host of real-time data on environmental surroundings and urban activity. </span><span class="koboSpan" id="kobo.6.3">The data generated is available for developers and enthusiasts via bulk download and also through APIs.</span></p>
<p><span class="koboSpan" id="kobo.7.1">The sensors are deployed across several geographic areas, each deployment region is named </span><strong><span class="koboSpan" id="kobo.8.1">projects</span></strong><span class="koboSpan" id="kobo.9.1">, with the largest deployment in Chicago, under the project named Chicago. </span></p>
<p><span class="koboSpan" id="kobo.10.1">The physical devices that are deployed are called </span><strong><span class="koboSpan" id="kobo.11.1">n</span></strong><strong><span class="koboSpan" id="kobo.12.1">odes</span></strong><span class="koboSpan" id="kobo.13.1">, each node is identified by its unique serial number VSN. </span><span class="koboSpan" id="kobo.13.2">These nodes are connected together to comprise a network. </span><span class="koboSpan" id="kobo.13.3">The nodes contain </span><strong><span class="koboSpan" id="kobo.14.1">sensors</span></strong><span class="koboSpan" id="kobo.15.1">, these sensors observe various facets of the environment, like temperature, humidity, light intensity, and particulate matter. </span><span class="koboSpan" id="kobo.15.2">The information recorded by sensors is called </span><strong><span class="koboSpan" id="kobo.16.1">observations</span></strong><span class="koboSpan" id="kobo.17.1">. </span></p>
<p><span class="koboSpan" id="kobo.18.1">The observations have redundancy and are available in their raw form through the API. </span><span class="koboSpan" id="kobo.18.2">There exist one-to many relationships between nodes and observations, sensors, and observations. </span><span class="koboSpan" id="kobo.18.3">There are also many-to-many relationships between projects, nodes and sensors. </span><span class="koboSpan" id="kobo.18.4">The complete data and details of the AoT project can be accessed from the Chicago city open data portal: </span><a href="https://data.cityofchicago.org/"><span class="koboSpan" id="kobo.19.1">https://data.cityofchicago.org/</span></a><span class="koboSpan" id="kobo.20.1">. </span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Detecting crime using San Francisco crime data</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">The San Francisco city also has an open data portal (</span><a href="https://datasf.org/opendata/"><span class="koboSpan" id="kobo.3.1">https://datasf.org/opendata/</span></a><span class="koboSpan" id="kobo.4.1">) providing data from different departments online. </span><span class="koboSpan" id="kobo.4.2">In this section, we take the dataset providing about 12 years (from January 2003 to May 2015) of crime reports from across all of San Francisco's neighborhoods and train a model to predict the category of crime that occurred. </span><span class="koboSpan" id="kobo.4.3">There are 39 discreet crime categories, thus it's a multi-class classification problem.</span></p>
<p><span class="koboSpan" id="kobo.5.1">We will use make use of Apache's PySpark and use its easy to use text processing features for this dataset. </span><span class="koboSpan" id="kobo.5.2">So the first step will be to create a Spark session:</span></p>
<ol>
<li><span class="koboSpan" id="kobo.6.1">The first step is to import the necessary modules and create a Spark session:</span></li>
</ol>
<pre style="padding-left: 60px"><span class="koboSpan" id="kobo.7.1">from pyspark.ml.classification import LogisticRegression as LR</span><br/><span class="koboSpan" id="kobo.8.1">from pyspark.ml.feature import RegexTokenizer as RT</span><br/><span class="koboSpan" id="kobo.9.1">from pyspark.ml.feature import StopWordsRemover as SWR</span><br/><span class="koboSpan" id="kobo.10.1">from pyspark.ml.feature import CountVectorizer</span><br/><span class="koboSpan" id="kobo.11.1">from pyspark.ml.feature import OneHotEncoder, StringIndexer, VectorAssembler</span><br/><span class="koboSpan" id="kobo.12.1">from pyspark.ml import Pipeline</span><br/><span class="koboSpan" id="kobo.13.1">from pyspark.sql.functions import col</span><br/><span class="koboSpan" id="kobo.14.1">from pyspark.sql import SparkSession</span><br/><br/><span class="koboSpan" id="kobo.15.1">spark = SparkSession.builder \</span><br/><span class="koboSpan" id="kobo.16.1">        .appName("Crime Category Prediction") \</span><br/><span class="koboSpan" id="kobo.17.1">        .config("spark.executor.memory", "70g") \</span><br/><span class="koboSpan" id="kobo.18.1">        .config("spark.driver.memory", "50g") \</span><br/><span class="koboSpan" id="kobo.19.1">        .config("spark.memory.offHeap.enabled",True) \</span><br/><span class="koboSpan" id="kobo.20.1">        .config("spark.memory.offHeap.size","16g") \</span><br/><span class="koboSpan" id="kobo.21.1">        .getOrCreate()</span></pre>
<ol start="2">
<li><span class="koboSpan" id="kobo.22.1">We load the dataset available in a </span><kbd><span class="koboSpan" id="kobo.23.1">csv</span></kbd><span class="koboSpan" id="kobo.24.1"> file: </span></li>
</ol>
<pre style="padding-left: 60px"><span class="koboSpan" id="kobo.25.1">data = spark.read.format("csv"). </span><span class="koboSpan" id="kobo.25.2">\</span><br/><span class="koboSpan" id="kobo.26.1">        options(header="true", inferschema="true"). </span><span class="koboSpan" id="kobo.26.2">\</span><br/><span class="koboSpan" id="kobo.27.1">        load("sf_crime_dataset.csv")</span><br/><br/><span class="koboSpan" id="kobo.28.1">data.columns</span></pre>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.29.1"><img src="assets/6c1c284b-45df-4548-b81f-20a7bc721b63.png" style="width:21.17em;height:12.50em;"/></span></p>
<ol start="3">
<li><span class="koboSpan" id="kobo.30.1">The data contains nine columns: </span><kbd><span class="koboSpan" id="kobo.31.1">[Dates, Category, Descript, DayOfWeek, PdDistrict, Resolution, Address, X, Y]</span></kbd><span class="koboSpan" id="kobo.32.1">, we will need only </span><kbd><span class="koboSpan" id="kobo.33.1">Category</span></kbd><span class="koboSpan" id="kobo.34.1"> and </span><kbd><span class="koboSpan" id="kobo.35.1">Descript</span></kbd><span class="koboSpan" id="kobo.36.1"> fields for training and testing dataset:</span></li>
</ol>
<pre style="padding-left: 60px"><span class="koboSpan" id="kobo.37.1">drop_data = ['Dates', 'DayOfWeek', 'PdDistrict', 'Resolution', 'Address', 'X', 'Y']</span><br/><span class="koboSpan" id="kobo.38.1">data = data.select([column for column in data.columns if column not in drop_data])</span><br/><br/><span class="koboSpan" id="kobo.39.1">data.show(5)</span></pre>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.40.1"><img src="assets/c152b827-eb82-4da6-8034-543376bfc6ba.png" style="width:33.75em;height:13.33em;"/></span></p>
<ol start="4">
<li><span class="koboSpan" id="kobo.41.1">Now the dataset we have has textual data, so we will need to perform text processing. </span><span class="koboSpan" id="kobo.41.2">The three important text processing steps are: tokenizing the data, remove the stop words and vectorize the words into vectors. </span><span class="koboSpan" id="kobo.41.3">We will use </span><kbd><span class="koboSpan" id="kobo.42.1">RegexTokenizer</span></kbd><span class="koboSpan" id="kobo.43.1"> which will uses regex to tokenize the sentence into a list of words, since punctuation or special characters do not add anything to the meaning, we retain only the words containing alphanumeric content. </span><span class="koboSpan" id="kobo.43.2">There are some words like </span><kbd><span class="koboSpan" id="kobo.44.1">the</span></kbd><span class="koboSpan" id="kobo.45.1">, which will be very commonly present in the text, but not add any meaning to context. </span><span class="koboSpan" id="kobo.45.2">We can remove these words (also called </span><strong><span class="koboSpan" id="kobo.46.1">stop words</span></strong><span class="koboSpan" id="kobo.47.1">) using the inbuilt </span><kbd><span class="koboSpan" id="kobo.48.1">StopWordsRemover</span></kbd><span class="koboSpan" id="kobo.49.1"> class. </span><span class="koboSpan" id="kobo.49.2">We use standard stop words </span><kbd><span class="koboSpan" id="kobo.50.1">["http","https","amp","rt","t","c","the"]</span></kbd><span class="koboSpan" id="kobo.51.1">. </span><span class="koboSpan" id="kobo.51.2">And finally using the </span><kbd><span class="koboSpan" id="kobo.52.1">CountVectorizer</span></kbd><span class="koboSpan" id="kobo.53.1">, we convert the words to numeric vector (features). </span><span class="koboSpan" id="kobo.53.2">It's these numeric features that will be used as input to train the model. </span><span class="koboSpan" id="kobo.53.3">The output for our data is the </span><kbd><span class="koboSpan" id="kobo.54.1">Category</span></kbd><span class="koboSpan" id="kobo.55.1"> column, but it's also textual with 36 distinct categories, and so, we need to convert it to one hot encoded vector; the PySpark's </span><kbd><span class="koboSpan" id="kobo.56.1">StringIndexer</span></kbd><span class="koboSpan" id="kobo.57.1"> can be easily used for it. </span><span class="koboSpan" id="kobo.57.2">We add all these transformations into our data </span><kbd><span class="koboSpan" id="kobo.58.1">Pipeline</span></kbd><span class="koboSpan" id="kobo.59.1">:</span></li>
</ol>
<pre style="padding-left: 60px"><span class="koboSpan" id="kobo.60.1"># regular expression tokenizer</span><br/><span class="koboSpan" id="kobo.61.1">re_Tokenizer = RT(inputCol="Descript", </span><br/><span class="koboSpan" id="kobo.62.1">            outputCol="words", pattern="\\W")    </span><br/><br/><span class="koboSpan" id="kobo.63.1"># stop words</span><br/><span class="koboSpan" id="kobo.64.1">stop_words = ["http","https","amp","rt","t","c","the"] </span><br/><span class="koboSpan" id="kobo.65.1">stop_words_remover = SWR(inputCol="words", </span><br/><span class="koboSpan" id="kobo.66.1">            outputCol="filtered").setStopWords(stop_words)</span><br/><br/><span class="koboSpan" id="kobo.67.1"># bag of words count</span><br/><span class="koboSpan" id="kobo.68.1">count_vectors = CountVectorizer(inputCol="filtered",</span><br/><span class="koboSpan" id="kobo.69.1">         outputCol="features", vocabSize=10000, minDF=5)</span><br/><br/><span class="koboSpan" id="kobo.70.1">#One hot encoding the label</span><br/><span class="koboSpan" id="kobo.71.1">label_string_Idx = StringIndexer(inputCol = "Category", </span><br/><span class="koboSpan" id="kobo.72.1">                outputCol = "label")</span><br/><br/><span class="koboSpan" id="kobo.73.1"># Create the pipeline</span><br/><span class="koboSpan" id="kobo.74.1">pipeline = Pipeline(stages=[re_Tokenizer, stop_words_remover,</span><br/><span class="koboSpan" id="kobo.75.1">             count_vectors, label_string_Idx])</span><br/><br/><span class="koboSpan" id="kobo.76.1"># Fit the pipeline to data.</span><br/><span class="koboSpan" id="kobo.77.1">pipeline_fit = pipeline.fit(data)</span><br/><span class="koboSpan" id="kobo.78.1">dataset = pipeline_fit.transform(data)</span><br/><br/><span class="koboSpan" id="kobo.79.1">dataset.show(5)</span></pre>
<p class="CDPAlignCenter CDPAlign"><span class="koboSpan" id="kobo.80.1"><img class="aligncenter size-full wp-image-1122 image-border" src="assets/d9823162-cb34-401b-acf6-176b75e524ad.png" style="width:48.75em;height:9.33em;"/></span></p>
<ol start="5">
<li><span class="koboSpan" id="kobo.81.1">Now, the data is ready, we split it into training and test dataset:</span></li>
</ol>
<pre style="padding-left: 60px"><span class="koboSpan" id="kobo.82.1"># Split the data randomly into training and test data sets.</span><br/><span class="koboSpan" id="kobo.83.1">(trainingData, testData) = dataset.randomSplit([0.7, 0.3], seed = 100)</span><br/><span class="koboSpan" id="kobo.84.1">print("Training Dataset Size: " + str(trainingData.count()))</span><br/><span class="koboSpan" id="kobo.85.1">print("Test Dataset Size: " + str(testData.count()))</span></pre>
<p class="mce-root"/>
<ol start="6">
<li><span class="koboSpan" id="kobo.86.1">Let's fit a simple logistic regression model for it. </span><span class="koboSpan" id="kobo.86.2">On the test dataset, it provides a 97% accuracy. </span><span class="koboSpan" id="kobo.86.3">Yahoo!:</span></li>
</ol>
<pre style="padding-left: 60px"><span class="koboSpan" id="kobo.87.1"># Build the model</span><br/><span class="koboSpan" id="kobo.88.1">logistic_regrssor = LR(maxIter=20, </span><br/><span class="koboSpan" id="kobo.89.1">                regParam=0.3, elasticNetParam=0)</span><br/><span class="koboSpan" id="kobo.90.1"># Train model with Training Data</span><br/><span class="koboSpan" id="kobo.91.1">model = logistic_regrssor.fit(trainingData)</span><br/><br/><span class="koboSpan" id="kobo.92.1"># Make predictions on Test Data</span><br/><span class="koboSpan" id="kobo.93.1">predictions = model.transform(testData)</span><br/><br/><span class="koboSpan" id="kobo.94.1"># evaluate the model on test data set</span><br/><span class="koboSpan" id="kobo.95.1">evaluator = MulticlassClassificationEvaluator(predictionCol="prediction")</span><br/><span class="koboSpan" id="kobo.96.1">evaluator.evaluate(predictions)</span></pre>
<p><span class="koboSpan" id="kobo.97.1">The complete code is available in the GitHub repository </span><kbd><span class="koboSpan" id="kobo.98.1">Chapter11/SF_crime_category_detection.ipynb</span></kbd><span class="koboSpan" id="kobo.99.1"> Jupyter Notebook. </span></p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Challenges and benefits</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">AI is changing the way cities operate, deliver, and maintain public amenities, from lighting and transportation to connectivity and health services. </span><span class="koboSpan" id="kobo.2.2">However, the adoption can be obstructed by the selection of technology that doesn't efficiently work together or integrate with other city services. </span><span class="koboSpan" id="kobo.2.3">Hence, it's important to think for retrofitted solutions. </span></p>
<p><span class="koboSpan" id="kobo.3.1">Another important thing to take care of is collaboration. </span><span class="koboSpan" id="kobo.3.2">For cities to truly benefit from the potential that smart cities offer, a change in mindset is required. </span><span class="koboSpan" id="kobo.3.3">The authorities should plan longer and across multiple departments. </span><span class="koboSpan" id="kobo.3.4">Everyone—</span><span><span class="koboSpan" id="kobo.4.1">technologists, local governments, businesses, environmentalists, and the general public—must work together to enable cities to transform into a smart city, successfully.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">Though budget can be a big issue, the results of the successful implementation of smart city components across different cities of the world show that, by proper implementation, smart cities are more economical. </span><span class="koboSpan" id="kobo.5.2">Smart city transition not only creates jobs, but can help save the environment, reduce energy expenditure, and generate more revenue. </span><span class="koboSpan" id="kobo.5.3">The city of Barcelona is a prime example of this; through the implementation of IoT systems, it created an estimated 47,000 jobs, </span><span><span class="koboSpan" id="kobo.6.1">saved €42.5 million on water, and generated an extra €36.5 million a year through smart parking. </span></span><span class="koboSpan" id="kobo.7.1">We can easily see that cities can benefit tremendously from the technological advances that utilize AI-powered IoT solutions. </span></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title"><span class="koboSpan" id="kobo.1.1">Summary</span></h1>
                </header>
            
            <article>
                
<p><span class="koboSpan" id="kobo.2.1">AI-powered IoT solutions can help connect cities and manage multiple infrastructure, and public services. </span><span class="koboSpan" id="kobo.2.2">This chapter covered diverse use cases of smart cities, from smart lighting and road traffic to connected public transport, and waste management. </span><span class="koboSpan" id="kobo.2.3">From the successful case studies, we also learned that smart cities can lead to reduced costs for energy, optimized use of natural resources, safer cities, and a healthier environment. </span><span class="koboSpan" id="kobo.2.4">This chapter listed some of the open city data portals and the information available there. </span><span class="koboSpan" id="kobo.2.5">We use the tools learned in this book to categorize the data from the San Francisco crime reports done in a period of 12 years. </span><span class="koboSpan" id="kobo.2.6">And finally, this chapter discussed some challenges and benefits in the building of smart cities.</span></p>


            </article>

            
        </section>
    </body></html>