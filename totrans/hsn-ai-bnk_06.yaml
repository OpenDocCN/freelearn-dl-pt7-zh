- en: Mechanizing Capital Market Decisions
  prefs: []
  type: TYPE_NORMAL
- en: In the previous chapter, we learned about reinforcement learning. We learned
    how to automate bank decision-making using reinforcement learning. We also learned
    about AI modeling techniques such as Monte Carlo simulation, the logistic regression
    model, decision trees, neural networks, and deep learning. We then learned how
    to build a bankruptcy risk prediction model and used decision-making to fund a
    loan using reinforcement learning.
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will understand the basic financial and capital market concepts.
    We will look at how AI can help us in optimizing the best capital structure by
    running the risk models to generate sales forecasts using macro-economic data.
    It is useful to plan the internal financial areas of an organization and the external
    investors' communication. Along with commercial banking activities, which include
    funding the day-to-day transaction activities of a company, investment banking
    seeks to pull investors' money behind companies that may want more flexibility
    in terms of their capital deployment for medium- to long-term activities from
    these capital-raising markets. We will look at two examples that will help you
    with financially planning for capital demand.
  prefs: []
  type: TYPE_NORMAL
- en: 'We will cover the following topics in this chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: Understanding the vision of investment banking
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Basic concepts of the finance domain
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: AI modeling techniques
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Finding the optimal capital structure
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Providing a financial performance forecast using macroeconomic scenarios
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let's get started!
  prefs: []
  type: TYPE_NORMAL
- en: Understanding the vision of investment banking
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Before we look at the basic concepts of the financial domain, we have to understand
    the vision of investment banking. The future of investment banking depends on
    how accurately the future financial performance and behaviors of companies are
    estimated, as well as how the key factors for the businesses are captured in the
    model as features. Distributing securities to investors will be automated, as
    will the syndication desk. The next two chapters will go through the changes that
    will be made on the client side in regards to their capital decisions, as well
    as the change on the investment bankers side regarding how to use the model to
    source investors so that they support the clients' capital needs (clients who
    raise capital via debt or equity issues are called **issuers**), as well as predicting
    the M&A needs of clients based on the financial aspects.
  prefs: []
  type: TYPE_NORMAL
- en: Performance of investment banking-based businesses
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Once all these predictions are made by machines, automated filing will be implemented
    via an API that connects firms to the regulators and exchanges. The following
    diagram shows how issuers, investment bankers, investors/owners, and regulators/exchanges
    work and coordinate:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/4b75e0ca-7d78-4a86-bc0c-9f9aabadd419.png)'
  prefs: []
  type: TYPE_IMG
- en: In the preceding diagram, **Issuers** are legal entities associated with registering
    and selling security. Issuers sell this security in order to finance the operations
    of the entity. The tasks that issuers have to perform include preparing financial
    reports and assessing financial needs. The investment bankers facilitate the listing
    and approval process by performing various operations for issuers.
  prefs: []
  type: TYPE_NORMAL
- en: Basic concepts of the finance domain
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will look at basic concepts of the finance domain. We will
    start off by looking at how financial statements are formed. We will also understand
    the theoretical part of how to optimize capital structure.
  prefs: []
  type: TYPE_NORMAL
- en: Financial statements
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Financial statements are used for the health report of a company. A financial
    report is part of an annual report for the listed company and is the basis of
    reading the financial health of a company.
  prefs: []
  type: TYPE_NORMAL
- en: 'Bankers recommend financial products from the results provided in this report,
    while investors make decisions by referencing this report for investment decisions.
    With regard to financial statements, there are two major types:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Balance sheet**: This is about the overall net worth. It details the total
    investment (assets), what we owe to the other as debt (for example, credit card
    and mortgage, liability, and so on), and the net of the investment-less liability,
    that is, the net worth (equity).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Profit and loss account** (**P&L** or income statement): This type shows
    the dynamics of the financial year. It is like the monthly expenses and income
    report.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Besides the major types, we also have the following types of financial statements:'
  prefs: []
  type: TYPE_NORMAL
- en: Equity change
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Statement of comprehensive income
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cash flow statement
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: These describe the changes in the owner's stakes, the income that wasn't captured
    in the income statement issue, and cash movement. However, we will not look at
    these three statements in order to simplify the scope of our examples.
  prefs: []
  type: TYPE_NORMAL
- en: '**Real-time financial reporting**'
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Every transaction is given as input to the accounting system, while every transaction
    is classified into an account, which will be classified into one or two of these
    statements. At the end of the day, each account will be categorized as an account
    entry.
  prefs: []
  type: TYPE_NORMAL
- en: 'By analyzing the time series data (in [Chapter 2](9ee6480e-c259-4e5d-bc11-31057de1a173.xhtml),
    *Time Series Analysis*), we can clearly see the limitations of the long-range
    forecast. Therefore, to produce an accurate forecast, our approach shifts to performing
    frequently updated short-term forecasts. Since we are part of a corporation, it
    is entirely possible to generate a daily financial statement based on transactional
    data flowing through the system on a daily basis. For those who have no idea about
    accounting systems and financial reports, our Excel sheet provides an example
    of how transaction data gets aggregated as a financial report. The following table
    shows how the account is classified into the balance sheet and the profit and
    loss statement:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Item** | **Asset** | **Equity** | **Liability** | **P&L** |'
  prefs: []
  type: TYPE_TB
- en: '| Share capital | Y | Y |  |  |'
  prefs: []
  type: TYPE_TB
- en: '| Working capital | Y | Y |  | Y |'
  prefs: []
  type: TYPE_TB
- en: '| Capex | Y | Y |  | Y |'
  prefs: []
  type: TYPE_TB
- en: '| Debt capital | Y |  | Y |  |'
  prefs: []
  type: TYPE_TB
- en: '| Bank loan | Y |  | Y |  |'
  prefs: []
  type: TYPE_TB
- en: '**Share capital** is the amount of money (capital means money that is productive)
    we have contributed to the birth of a company. It''s like the resources we receive
    from parents at birth. It goes to the equity of a company and, naturally, is part
    of the assets owned by the company. Shareholders are the people who contribute
    to the capital of the company; thus, they are the owners of the company. A company
    is expected to pay out dividends (this can be cash or in the form of company shares)
    to reward investors, mostly on an annual basis. With regard to the money they
    own in the company, they own everything after repaying what they owe others (as
    liabilities).'
  prefs: []
  type: TYPE_NORMAL
- en: '**Working capital and capex (capital expenditure)** are like our regular recurrent
    expenses that are required to run our households, such as groceries, bills, and
    fuel. Think of capex is a major home repair that makes your owned house look better
    and leads to higher market value, or a new car that you buy to work as an Uber
    driver (for AI researchers, a GPU computer could be a capex). In this way, anything
    that impacts P&L will impact equity and assets, which means what we earn as net
    income will be part of our net worth and our assets. For corporations, capex is
    spent to acquire properties and equipment.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Liabilities:** Debt capital and bank loans are borrowed money and assets.
    When we borrow these liabilities, they normally come in as cash, but we will immediately
    pay out this cash for capital expenditure. Bondholders and lenders are people
    that contribute the debt capital and bank loans to the company. The company is
    expected to pay the interest (cash) to reward the lenders/bondholders, mostly
    on a biannual basis. The bond interest is also known as a **coupon**. The amount
    we borrow is called the **principal**. So, in every borrowing relationship, we
    have a principal as well as interest.'
  prefs: []
  type: TYPE_NORMAL
- en: '**The objective of the CFO:** With different kinds of capital or money, you
    might be wondering why there is a firm/company in the first place. What is it
    supposed to do? According to Max Weber ([http://sk.sagepub.com/books/writers-on-organizations](http://sk.sagepub.com/books/writers-on-organizations)),
    a firm is supposed to deliver economic value efficiently by organizing the resources
    within the firm. So, being a CFO means that we are organizing the financial resources
    to support the delivery of the firm''s major economic activities, which could
    be generating energy for Duke Energy or organizing goods  so that they reach our
    end customers in supermarkets.'
  prefs: []
  type: TYPE_NORMAL
- en: Theories for optimizing the best structure of the firm
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The best capital structure is to channel financing to fund the development of
    the firm while maximizing the investors' investment values with the right risk
    appetite that best fits the company's business. For example, when the company
    is in the development stage and the future is unsure, it's better to fund it using
    the capital that's sticky, that is, equity. When the company becomes stable, it
    is very common to match it with stable funding, that is, bonds.
  prefs: []
  type: TYPE_NORMAL
- en: What decisions need to be made?
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The decision we want to make as a long-term strategic CFO is the right mix of
    equity and the debt we need to fund the company. On the equity side, we need to
    consider how many shares we issue to bring in these owners, as well as how many
    dividends (regular contributions to the investors). On the bond side, we need
    to consider how many liabilities, what type, what currency, the interest rate,
    and how long we need for repayment.
  prefs: []
  type: TYPE_NORMAL
- en: Financial theories on capital structure
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: One great resource for this is *Applied Corporate Finance* by Aswath Damodaran
    ([https://www.wiley.com/en-us/Applied+Corporate+Finance%2C+4th+Edition-p-9781118808931](https://www.wiley.com/en-us/Applied+Corporate+Finance%2C+4th+Edition-p-9781118808931)). On
    one hand, a company identifies a project to invest its money into (investment
    decision), while on the other hand, it arranges financial resources behind it
    (financing decision). We are not going to identify what project to invest in but
    how to finance it to make it happen.
  prefs: []
  type: TYPE_NORMAL
- en: According to Bradley, Jarrel, and Kim ([https://econpapers.repec.org/article/blajfinan/v_3a39_3ay_3a1984_3ai_3a3_3ap_3a857-78.htm](https://econpapers.repec.org/article/blajfinan/v_3a39_3ay_3a1984_3ai_3a3_3ap_3a857-78.htm)),
    there is an optimal capital mix between equity and liabilities (called **debt**)
    that will produce the lowest overall financing cost. While there are many reasons
    for this that have been summarized by Damodaran, let's focus on how to make AI
    help CFOs in determining an optimal capital structure that is quantifiable and
    measurable.
  prefs: []
  type: TYPE_NORMAL
- en: 'As data scientists, we are interested in the cost and benefits of two options,
    both of which shall help us find the optimal point. Let''s take a look:'
  prefs: []
  type: TYPE_NORMAL
- en: '| **Why take equity?** | **Why take debt?** |'
  prefs: []
  type: TYPE_TB
- en: '| 1) No obligation to pay dividends if there''s no profit—more flexibility
    for investment with unclear cash flow visibility such as technology.2) Increasing
    equity alone will not raise the cost of equity—approximated as the dividend we
    pay. However, increasing the debt will increase the probability of company bankruptcy
    as there is more obligation to repay the interest or principal.3) More flexibility
    on certain specifics of financial ratios; for example, some bond borrowers will
    restrict the company''s certain financial ratios to a specific range. | 4) Interest
    paid to lenders is counted as an expense, so there''s no need to pay tax, while
    if paid as a dividend (for the equity holder), it will not be counted as expenses,
    and therefore, is subject to profit tax.5) Existing shareholders can retain control
    of the company without any dilution of ownership. |'
  prefs: []
  type: TYPE_TB
- en: Point 1's project certainty on generating a return above the cost of financing
    can be approximated by the variance of the return.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Points 2 and 3 can be coded as a formula: for 2, one formula can specify the
    percentage of debt (called **leverage**) in increasing the risk of bankruptcy
    (the credit risk model was explained in the previous chapter). For 3, it is just
    a ratio that can be obtained; that is, the tax rate of the firm.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Points 4 and 5 can be implemented as a fixed threshold that limits the maximum
    amount of equity the company can raise. For a family business, a change of equity
    rarely happens, unless there is a change in the family (for example, the death
    of the founder).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Total factor productivity to measure project values
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This is essentially the question we asked in [Chapter 2](9ee6480e-c259-4e5d-bc11-31057de1a173.xhtml),
    *Time Series Analysis*, when using time series analysis to automate client procurement
    and trying to understand how to foresee the demand for each month. For a long-term
    forecast, we can use the ARIMA model to do the projection. However, there is no
    clear model when it comes to predicting a project's success within an organization
    because it requires team members' data, the project's execution, and the type
    and output of the project, which itself is part of a separate discipline of study
    in management.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are three ways we can do this:'
  prefs: []
  type: TYPE_NORMAL
- en: By drawing from insights into the market, we can assume that a project will
    normally generate the market return on capital—with a floor closed to the risk-free
    interest rate—if the project has no risk at all. Of course, the return on a higher-risk
    project shall be higher.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All in all, if projects are similar to those in the past, the expected value
    of the project's return shall be the present value of the expected return on the
    project investment. It has to be equal to the return on the equity of the firm.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'If there has to be a model, drawing from the literature of Marco economics,
    productivity is measured by the total factor productivity formula:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/383b059f-8226-42c9-b56d-270c433262c7.png)'
  prefs: []
  type: TYPE_IMG
- en: 'Here, *Y* is the output, *A* is the technology''s efficiency, *K* is the capital
    spent, and *L* is the labor. The efficiency of capital consumption in terms of
    financing, purchasing, and sourcing is represented by *alpha*. The labor skills
    are represented by *beta*. Let''s go over these in more detail:'
  prefs: []
  type: TYPE_NORMAL
- en: '***A*** (**technological efficiency**): Technological efficiency could be the
    ideal economic values delivered by the machine''s full handling capacity per dollar
    spent.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '***L*** (**labor**): Labor means the ideal economic values delivered by the
    labor''s full handling capacity per dollar spent.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '***K*** (**capital**): Amount of capital invested in technology and labor.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '***alpha*** (**efficiency of capital consumption**): This can be the actual
    economic value spent on purchaseless profits that are taken by an intermediary
    and during the process.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '***beta*** (**labor skills**): As stated in the book *Human resources and organizational
    behaviors*, successful project delivery is directly related to the capability
    of individual members and the roles they play in the team. This can be seen in
    the growing body of sports results predictions, which can predict the probability
    of success for each match.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A macroeconomic model is indeed an aggregate behavior of many micro-level behaviors.
    With regard to the next frontier of macroeconomics, it might make sense for data
    scientists to draw insights from macroeconomics models that have been applied
    to individual companies or aggregate micro behaviors to generate macroeconomic
    behaviors.
  prefs: []
  type: TYPE_NORMAL
- en: If we were to deliver a model that predicts each of the company's project values,
    we'd often find insights from other disciplines that we could bring in to cross-pollinate
    the study and quantify it using predictive models. Having the features for this
    technology, investment amount, and labor might be a good starting point in researching
    macroeconomics.
  prefs: []
  type: TYPE_NORMAL
- en: Doing this allows us to predict a project's economic values, which in itself
    can be a machine learning model. We will not cover this here as we wish to focus
    on high-level financial decisions in this chapter, but the next frontier of finance
    can generate values.
  prefs: []
  type: TYPE_NORMAL
- en: The cash flow pattern of a project
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Besides the productivity/economic value of a project, we also need to find
    out the precise cash flow payment or receipts of the project. The answer to this
    is to track all the events of the project from a centralized trusting repository.
    But wait: for all parties to share information about the same project rather than
    having a central repository that becomes the central place for hackers, we need
    a totally decentralized place; this is the rationale of blockchain. The best cash
    flow pattern prediction comes from getting the data that triggers the cash flow
    activities: either the project status triggered by signing off progress, confirmation
    of a sales agreement according to the payment terms, confirming the receipt of
    goods at a warehouse, and so on.'
  prefs: []
  type: TYPE_NORMAL
- en: Practically, in today's world, most of these steps still require human input,
    so it is easier to ask the relevant human to provide a forward-looking cash flow
    forecast. Of course, if all these activities become automated and handled by intelligent
    machines and codified in structured databases, it seems possible to reliably predict
    future cash flow.
  prefs: []
  type: TYPE_NORMAL
- en: Even if we pass the ball to humans to input data, in finance, we ask humans
    to provide three scenarios—optimum, realistic, and pessimistic—each with a different
    probability of occurrence. The expected forecast will be the predicted result
    of these three scenarios. However, considering the potential issue of an extreme
    forecast, it seems better to allow humans to make a realistic forecast with an
    assigned likelihood of such cash flow events to happen within a short time frame.
  prefs: []
  type: TYPE_NORMAL
- en: 'Again, we are talking about paying large amounts here. For smaller amounts
    and numerous payments, we have the following approaches:'
  prefs: []
  type: TYPE_NORMAL
- en: Regular cash flow
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Irregular/event-triggered cash flow
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Regular cash flow** is based on business rules; for example, payroll occurs
    every Friday. But in order to predict the cash flow of payroll for the next week,
    we need to get the HR databases, along with the salary for each staff member.'
  prefs: []
  type: TYPE_NORMAL
- en: 'For day-to-day businesses, where regular cash flow is based on expenses paid
    for procurement and sales made, we can rely on the model we developed in the previous
    chapter. Once we''ve projected the demand (sales), we can reliably estimate the
    procurement required and the corresponding payment being delayed in terms of actual
    timing—knowing that corporate buyers will delay paying the supplier to earn liquidity.
    To clarify this, here are a couple of explanations:'
  prefs: []
  type: TYPE_NORMAL
- en: In finance, the ratios of working capital required for sales growth can be calculated
    by the formula from Churchill N.C. and Mullins, J.W. 2001, *How Fast Can your
    Company Afford to Grow?* ([https://hbr.org/2001/05/how-fast-can-your-company-afford-to-grow](https://hbr.org/2001/05/how-fast-can-your-company-afford-to-grow)).
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Delaying payment may not be optimal for the supply chain since we know that
    this delayed payment will cause the upstream to further increase their need for
    short-term financing to fund the production of goods. If the upstream suppliers
    are smaller in scale, this will actually create a higher overall production cost
    for the supply chain if the higher-risk/smaller-sized suppliers get financing
    at a higher rate.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Irregular/event-triggered cash flow:** This is usually triggered by other
    parties or external events. The best way to handle this is to improve data exchange
    with the customers or suppliers.'
  prefs: []
  type: TYPE_NORMAL
- en: Forecasting financial statement items
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In this section, we will discuss how we can forecast financial items. Let''s
    take a look:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Sales:** If you are a professional trained in finance, the biggest driver—being
    revenues—has to be forecast based on demand for the goods/services that the company
    is delivering. In the case of Duke Energy, forecasting the electricity market
    is basically looking at the market growth of various segments: industrial, commercial,
    and households. This is the best way to work with marketing.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In industrial and commercial (B2B) markets, the most reliable forecast is one
    that looks at the customers; ultimately, the business entity will have to create
    some goods and services to be consumed by the end customers. For industrial and
    commercial markets, we can start by looking at the major industrial activities
    in California and their potential electricity consumption. Then, we move one step
    forward to observe what they are producing.
  prefs: []
  type: TYPE_NORMAL
- en: Households depend on the household income, populations, private electric cars,
    and, most importantly, the weather of the coming years—whether it is El Niño or
    any other weather forecast, these are important aspects. Even though we can use
    macroeconomic data (and its forecast, such as the weather forecast) to forecast
    our sales, it may not always be possible to find predictors for each of the financial
    items in the financial statements. Here, we can use the known/predictable item
    to predict the rest, which should make economic and statistical sense.
  prefs: []
  type: TYPE_NORMAL
- en: In short, the best way to predict sales is to predict the personal sector's
    sales activities.
  prefs: []
  type: TYPE_NORMAL
- en: '**Cost of goods sold:** This is related to the sales volume. Even though we
    know that it is not a 1:1 relationship, such as a CFO, we can obtain monthly internal
    costs and sales figures and build a model to forecast these costs based on sales.
    Alternatively, we can use demand quantity to forecast procurement quantity. As
    for Duke Energy, the unit cost also comes largely from commodities markets; given
    that we have set the target procurement strategy regarding when to buy and the
    global markets on unit cost are driven by capital markets, we could obtain forward-looking
    pricing from the markets (that is, CME Henry Hub''s 12-month pricing ([https://www.cmegroup.com/trading/energy/natural-gas/natural-gas.html](https://www.cmegroup.com/trading/energy/natural-gas/natural-gas.html))).'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For companies in the physical goods industry, the cost of goods sold is close
    to 1:1 to sales if any fixed cost (such as equipment, machinery, and so on) is
    not allocated to an item. A typical example could be the fashion industry, where
    the cost of goods sold should align with sales. These sales are proportional to
    the cost of the goods we purchased.
  prefs: []
  type: TYPE_NORMAL
- en: 'To illustrate this point, let''s run a small analysis on the cost of goods
    sold versus sales across industries:'
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/98d7ccb0-43b7-459d-83b0-ba1a73814d16.png)'
  prefs: []
  type: TYPE_IMG
- en: '**Operating expenses, including selling, general, and administrative expenses**
    (**SG&A**): Depending on the accounting standards and company practice, some companies
    do not list depreciation and amortization separately, which is not linear to sales
    activities. Looking at the preceding table, the trend we are seeing is that the
    higher the fixed asset-intensive industry (called the **capex**), the lower the
    predictive power of sales to the cost of goods sold. On the other hand, the more
    human-intensive but less fixed the asset is, the higher the likelihood that the
    cost of goods sold is moving along due to the higher percentage of variable cost.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: AI modeling techniques
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will look at two important modeling techniques, known as
    **linear optimization** and the **linear regression** **model**. In the previous
    chapter, we learned about deep learning, neural networks, decision trees, and
    reinforcement learning.
  prefs: []
  type: TYPE_NORMAL
- en: Linear optimization
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Used frequently in supply chain businesses, the linear optimization model seeks
    to achieve the optimization objective (that is, to maximize profit or minimize
    cost) by changing some variables while considering some constraints. In the case
    of linear optimization, we also implement the structure similar to that of the
    capital structure optimization process.
  prefs: []
  type: TYPE_NORMAL
- en: This is not a machine learning model as we do not need to train the machine
    to learn any patterns.
  prefs: []
  type: TYPE_NORMAL
- en: The linear regression model
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This is typically known as the regression model. What it does is find out the
    causation of some factors of the outcome. The outcome has to be numeric values.
    In statistics, *some factors* refers to the independent variables as we assume
    all these factors are independent of other factors, while the outcome is the **dependent
    variable**. The outcome is dependent on the independent variables.
  prefs: []
  type: TYPE_NORMAL
- en: Finding the optimal capital structure
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Now, we can start analyzing how much equity and debt capital we should raise
    in the capital market to support demand (new projects and businesses or by replacing
    existing machinery that is worn out or obsolete) and supply (generated from profit).
    Our projection of optimal capital structure is time-bound; that is, it concerns
    the optimal mix for a given period, such as the next year. We can certainly expand
    it to cover the next 5 years. The formula used to forecast business performance
    is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '*Revenue growth * Fixed Capital Required / Sales*'
  prefs: []
  type: TYPE_NORMAL
- en: The optimal capital structure is the capital structure that delivers the lowest
    possible cost of funding but delivers the required capital to generate values
    within the firm.
  prefs: []
  type: TYPE_NORMAL
- en: Implementation steps
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this section, we will learn how to implement a machine learning model that
    can find the optimal capital structure that delivers the lowest possible cost
    of funding.
  prefs: []
  type: TYPE_NORMAL
- en: Downloading the data and loading it into the model
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'In our example, we are downloading our data from Quandl, an external financial
    data provider. This data is quarterly data. Imagine that we are the CFO of a corporation;
    we can get a real-time daily forecast to update our funding strategy regularly—weekly,
    monthly, and quarterly. The steps are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Here, we will use *Ticker* to represent the unique identifier of a company.
    Use the following code to import the required library dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Define the API key and a ticker for the company:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Download the New York Stock Exchange index values and stock code, and then
    calculate the return of NYSE versus the stock to come up with beta and risk-free
    rates for the CAPM pricing model:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'Download the financial data of the company to project and retrieve 2 years''
    worth of financial data for the target company. This will be fed into the credit
    model:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'Download the historical financial data of the company in order to estimate
    the parameters between the driver:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Preparing the parameters and models
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'In this section, the following parameters will be calculated:'
  prefs: []
  type: TYPE_NORMAL
- en: Levered beta on CAPM in order to calculate the cost of equity.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cost of debt by reusing the credit model (the logistic regression model). We're
    using this because it is simple and requires the least amount of financial ratios.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cost of goods sold. The capex is estimated by relating it to sales growth and
    the cost of goods sold.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'With these parameters, it is possible to estimate the major moving parts of
    the financial model, as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Calculate the cost of the equity formula**: Based on the data from 1A, find
    out the risk-free rate and beta as the intercept and coefficient of the regression
    formula from the CAPM model: *the Return of Stock = Risk-Free Rate + Beta * Return
    of Market.*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Calculate the cost of the debt formula**: Calculate the cost of debt by calculating
    the financial ratios. The model we used is based on the 5-year default rate we
    calculated in the previous chapter. In real life, the bond rating is formulated
    by the rating agency (such as Moody''s or Standard & Poor''s), while the bank
    loan''s rating is done internally by the credit risk model of each bank, such
    as the one we are using.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Calculate drivers to see how sales can drive other items in the P&L/working
    capital, directly or indirectly via the cost of goods sold.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We assume that the cost of goods sold (or the cost of sales) is driven by sales
    activities, while the operating expense is driven by the cost of sales. We assume
    that the relationship is linear and can be calculated by the regression model.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Selling expenses and general and administrative expenses are zero in our example;
    therefore, we do not have any calculations for them.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: I have also attempted to figure out the relationship between the working capital
    and receivables, inventory, and payables, but we will not be using it because
    we will take another approach—the total amount of cash required per sale—to find
    out the amount of cash/working capital required in the day-to-day operations to
    support sales.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Projections
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Projection involves estimating the revenue growth, followed by looking at the
    equity and debt capital required that impacts the income statements. Most of the
    forecasting logics are embedded in `cal_F_WACC`. The optimization result is getting
    the minimal WACC by trying the range of debt (%) in the capital structure of the
    company. Unfortunately, we tried this and didn't find it simple to execute through
    code without implementing a linear optimization algorithm, which will add complexity
    to the program, even though this is computationally more efficient.
  prefs: []
  type: TYPE_NORMAL
- en: All the stages mentioned in the *Preparing the parameters and models* section
    are combined. Formulas are built based on the dependency seen in Excel. However,
    the sequence largely starts with sales, then finding out the capital structure,
    and then going back to the income statement.
  prefs: []
  type: TYPE_NORMAL
- en: The weighted average costs of the capital are calculated; then, they are compared
    against the preset conditions, such as the credit risk changed, which cannot be
    above a certain threshold.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following are the accounting formulas in forecasting:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Sales are projected**: *Sales = Existing Sales * (1 + Sales Growth)*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Net income follows the calculation of sales:** *Net Income = Sales - Cost
    of Good sold - Selling, General Administrative Expenses - Operating Expenses -
    Net Interest Expense - Taxation Expenses*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Cost of Goods Sold = Sales * Cost to Sales Ratio*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Selling, General Administrative Expenses = Sales * Selling*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*General Administrative Expense to Sales Ratio*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Operating Expenses = Sales * Operating Expenses to Sales Ratio*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Net Interest Expense = Debt * Interest Expense%*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**The equity and debt in total we need equates to the capital required**: *Equity
    + Debt >= Existing PPE + New PPE Needed + Working Capital Required + Inventory
    + Goodwill*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Equity = Existing Equity + New Equity Capital Generated*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Debt = Existing Debt + New Net Debt Capital Generated*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*New Capital Required = New Equity Capital Required + New Debt Capital Required*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*New Net Equity Capital Generated = New Equity Capital Raised - Divided Payment
    + New Equity from Earnings*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*New Equity Capital Generated from Earnings = Net Income*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*New Net Debt Capital Generated = New Debt Capital Raised - Debt Repayment*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Debt Repayment = Previous Debt Repayment*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Total Property Plant and Equipment (PPE) Needed = Existing PPE (net of depreciation)
    - Depreciation for the Next Period + New PPE Needed*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Sales / Total PPE Needed = Sales to PPE Ratio*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Working Capital Required = Working Capital Required per Sales * Sales*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Working Capital Required per Sales = Cost of Sales/Sales * Total Cash Cycle
    in Days/ Operating Cash Cycle in Days + Operation Expenses / Sales * 1/2*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The code for this is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: Calculating the weighted average cost of capital
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The objective of this step is to ensure the following happens:'
  prefs: []
  type: TYPE_NORMAL
- en: The ideal capital structure is rewarded by the lowest cost of capital with a
    mix of debt and equity.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The cost of equity is defined by the capital asset pricing model.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The cost of debt is defined by the cost of credit risk, plus the cost of the
    risk-free rate. The cost of credit risk is calculated by the credit model we built
    in the previous chapter.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Minimize the following:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Weighted Average Cost of Capital** (**WACC**)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cost of debt
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cost of credit risk
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Cost of equity
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Unlevered beta
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Levered beta
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Constraints used in optimization
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Let''s take a look at the demand and supply of capital, which has to be tied
    up:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Restrictions on capital mix**: The existing bondholder does not want the
    rating to be altered; therefore, they are limited to changing the default risk
    by less than 75%.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Constraints calculated but not checked for optimization**:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: These restrictions are not implemented because there will be circular references
    to profit and loss items that shall be fixed.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Normally, these are the constraints imposed by the existing shareholders.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The existing shareholders don't want the earnings per share to be dropped as
    there are more shares.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The existing shareholders don't want to chip in the extra equity to the same
    company by drastically increasing the equity amount.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following code snippet demonstrates how equity offering constraints are
    calculated:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Congratulations! We have found the optimal capital structure for the company
    using optimization.
  prefs: []
  type: TYPE_NORMAL
- en: Providing a financial performance forecast using macroeconomic scenarios
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: One of the key jobs of a CFO is to provide a forecast for financial performance.
    So, how is AI going to change this job? We will build on what we know about finance
    in terms of helping with financial projections for accounting rules between items
    and add the predictive capability of our age to improve it.
  prefs: []
  type: TYPE_NORMAL
- en: As the CFO of the listed firm, one of our key aspects is to provide management
    and analyst guidance for forward-looking financials. Hypothetical data is handcrafted
    by the author. This seeks to emulate what the accounting system looks like.
  prefs: []
  type: TYPE_NORMAL
- en: In this section, we will look at how to forecast the financial performance of
    the firm.
  prefs: []
  type: TYPE_NORMAL
- en: Implementation steps
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'In this section, we will learn how to derive financial performance forecasts
    using macroeconomic scenarios. The steps are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Initialize the tickers in each industry by loading them from CSV files and
    importing the required library dependencies:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'Download the historical financial data from Quandl:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'Calculate the various parameters required to derive the performance:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: Congratulations! You have generated the sales forecast using macro factors that
    have been reliably forecast by meteorological experts.
  prefs: []
  type: TYPE_NORMAL
- en: '**Summary**'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we looked at financial banking and a few basic concepts of
    the finance domain. We learned about two important machine learning modeling techniques
    known as optimization and the linear regression model. We also looked at two examples
    that help automate capital market decisions—*Finding optimal capital structure*
    and *Providing a financial performance forecast using macroeconomic scenarios*.
    We also looked at the future and the implications of investment banking and financial
    reporting.
  prefs: []
  type: TYPE_NORMAL
- en: Then, we explored the internals of financial projection and financial modeling,
    which we were able to do due to financial positions being rapidly updated with
    real-time financial IT systems. By leveraging the richness of financial positions
    on a daily basis, we have lots of data points to perform a reliable projection
    of the complete financial positions of a firm. Being the strategic thinkers of
    the firm, we also looked at how to rely on external data (such as weather data
    from popular forecasting services from the government) to augment the lack of
    internal financial data as a CFO. We leveraged an external data provider called
    Quandl to blend all the financial data from peers in the same industry. In reality,
    this technique should be replaced by an internal position snapshot, but essentially,
    the key point is to blend AI with financial modeling.
  prefs: []
  type: TYPE_NORMAL
- en: As you can see, the future of financial reporting may have to dive deeper than
    just reporting financial statements. CFOs may be required to disclose the project's
    status and plan for greater transparency, as well as the benefits of the investors,
    without jeopardizing commercial secrecy. This form of disclosure is also present
    in annual reports but isn't in a quantitative format yet. The CFOs of the future
    will have to buckle up for this new wave of reporting philosophy as what happens
    inside the organization is what is driving the return of capital.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will continue learning about new machine learning techniques
    that will help us solve complex financial problems. We will also understand a
    core business concept known as **Merger and Acquisition** (**M&A**). We will understand
    the basic concepts of data technologies such as SQL and look at a machine learning
    modeling technique known as **clustering models**.
  prefs: []
  type: TYPE_NORMAL
